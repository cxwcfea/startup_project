"use strict";if(function(a,b){function c(a){return b.lowercase(a.nodeName||a[0]&&a[0].nodeName)}function d(a,c,d){e.directive(a,["$parse","$swipe",function(e,f){var g=75,h=.3,i=30;return function(j,k,l){function m(a){if(!n)return!1;var b=Math.abs(a.y-n.y),d=(a.x-n.x)*c;return o&&g>b&&d>0&&d>i&&h>b/d}var n,o,p=e(l[a]),q=["touch"];b.isDefined(l.ngSwipeDisableMouse)||q.push("mouse"),f.bind(k,{start:function(a){n=a,o=!0},cancel:function(){o=!1},end:function(a,b){m(a)&&j.$apply(function(){k.triggerHandler(d),p(j,{$event:b})})}},q)}}])}var e=b.module("ngTouch",[]);e.factory("$swipe",[function(){function a(a){var b=a.originalEvent||a,c=b.touches&&b.touches.length?b.touches:[b],d=b.changedTouches&&b.changedTouches[0]||c[0];return{x:d.clientX,y:d.clientY}}function c(a,c){var d=[];return b.forEach(a,function(a){var b=e[a][c];b&&d.push(b)}),d.join(" ")}var d=10,e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(b,e,f){var g,h,i,j,k=!1;f=f||["mouse","touch"],b.on(c(f,"start"),function(b){i=a(b),k=!0,g=0,h=0,j=i,e.start&&e.start(i,b)});var l=c(f,"cancel");l&&b.on(l,function(a){k=!1,e.cancel&&e.cancel(a)}),b.on(c(f,"move"),function(b){if(k&&i){var c=a(b);if(g+=Math.abs(c.x-j.x),h+=Math.abs(c.y-j.y),j=c,!(d>g&&d>h))return h>g?(k=!1,void(e.cancel&&e.cancel(b))):(b.preventDefault(),void(e.move&&e.move(c,b)))}}),b.on(c(f,"end"),function(b){k&&(k=!1,e.end&&e.end(a(b),b))})}}}]),e.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),e.directive("ngClick",["$parse","$timeout","$rootElement",function(a,d,e){function f(a,b,c,d){return Math.abs(a-c)<q&&Math.abs(b-d)<q}function g(a,b,c){for(var d=0;d<a.length;d+=2)if(f(a[d],a[d+1],b,c))return a.splice(d,d+2),!0;return!1}function h(a){if(!(Date.now()-k>p)){var b=a.touches&&a.touches.length?a.touches:[a],d=b[0].clientX,e=b[0].clientY;1>d&&1>e||m&&m[0]===d&&m[1]===e||(m&&(m=null),"label"===c(a.target)&&(m=[d,e]),g(l,d,e)||(a.stopPropagation(),a.preventDefault(),a.target&&a.target.blur&&a.target.blur()))}}function i(a){var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].clientX,e=b[0].clientY;l.push(c,e),d(function(){for(var a=0;a<l.length;a+=2)if(l[a]==c&&l[a+1]==e)return void l.splice(a,a+2)},p,!1)}function j(a,b){l||(e[0].addEventListener("click",h,!0),e[0].addEventListener("touchstart",i,!0),l=[]),k=Date.now(),g(l,a,b)}var k,l,m,n=750,o=12,p=2500,q=25,r="ng-click-active";return function(c,d,e){function f(){m=!1,d.removeClass(r)}var g,h,i,k,l=a(e.ngClick),m=!1;d.on("touchstart",function(a){m=!0,g=a.target?a.target:a.srcElement,3==g.nodeType&&(g=g.parentNode),d.addClass(r),h=Date.now();var b=a.originalEvent||a,c=b.touches&&b.touches.length?b.touches:[b],e=c[0];i=e.clientX,k=e.clientY}),d.on("touchcancel",function(){f()}),d.on("touchend",function(a){var c=Date.now()-h,l=a.originalEvent||a,p=l.changedTouches&&l.changedTouches.length?l.changedTouches:l.touches&&l.touches.length?l.touches:[l],q=p[0],r=q.clientX,s=q.clientY,t=Math.sqrt(Math.pow(r-i,2)+Math.pow(s-k,2));m&&n>c&&o>t&&(j(r,s),g&&g.blur(),b.isDefined(e.disabled)&&e.disabled!==!1||d.triggerHandler("click",[a])),f()}),d.onclick=function(){},d.on("click",function(a,b){c.$apply(function(){l(c,{$event:b||a})})}),d.on("mousedown",function(){d.addClass(r)}),d.on("mousemove mouseup",function(){d.removeClass(r)})}}]),d("ngSwipeLeft",-1,"swipeleft"),d("ngSwipeRight",1,"swiperight")}(window,window.angular),function(a,b){function c(){function a(a,c){return b.extend(Object.create(a),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){var f="?"===d?d:null,g="*"===d?d:null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){var f=b.copy(e);if(b.isUndefined(f.reloadOnSearch)&&(f.reloadOnSearch=!0),b.isUndefined(f.caseInsensitiveMatch)&&(f.caseInsensitiveMatch=this.caseInsensitiveMatch),d[a]=b.extend(f,a&&c(a,f)),a){var g="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[g]=b.extend({redirectTo:a},c(g,f))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(c,e,f,g,i,j,k){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;g>f;++f){var h=c[f-1],i=e[f];h&&i&&(d[h.name]=i)}return d}function m(a){var d=t.current;q=o(),r=q&&d&&q.$$route===d.$$route&&b.equals(q.pathParams,d.pathParams)&&!q.reloadOnSearch&&!s,r||!d&&!q||c.$broadcast("$routeChangeStart",q,d).defaultPrevented&&a&&a.preventDefault()}function n(){var a=t.current,d=q;r?(a.params=d.params,b.copy(a.params,f),c.$broadcast("$routeUpdate",a)):(d||a)&&(s=!1,t.current=d,d&&d.redirectTo&&(b.isString(d.redirectTo)?e.path(p(d.redirectTo,d.params)).search(d.params).replace():e.url(d.redirectTo(d.pathParams,e.path(),e.search())).replace()),g.when(d).then(function(){if(d){var a,c,e=b.extend({},d.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?i.get(a):i.invoke(a,null,null,c)}),b.isDefined(a=d.template)?b.isFunction(a)&&(a=a(d.params)):b.isDefined(c=d.templateUrl)&&(b.isFunction(c)&&(c=c(d.params)),c=k.getTrustedResourceUrl(c),b.isDefined(c)&&(d.loadedTemplateUrl=c,a=j(c))),b.isDefined(a)&&(e.$template=a),g.all(e)}}).then(function(e){d==t.current&&(d&&(d.locals=e,b.copy(d.params,f)),c.$broadcast("$routeChangeSuccess",d,a))},function(b){d==t.current&&c.$broadcast("$routeChangeError",d,a,b)}))}function o(){var c,f;return b.forEach(d,function(d){!f&&(c=l(e.path(),d))&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function p(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var q,r,s=!1,t={routes:d,reload:function(){s=!0,c.$evalAsync(function(){m(),n()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw h("norout","Tried updating route when with no current route");a=b.extend({},this.current.params,a),e.path(p(this.current.$$route.originalPath,a)),e.search(a)}};return c.$on("$locationChangeStart",m),c.$on("$locationChangeSuccess",n),t}]}function d(){this.$get=function(){return{}}}function e(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(d.cancel(n),n=null),l&&(l.$destroy(),l=null),m&&(n=d.leave(m),n.then(function(){n=null}),m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var k=e.$new(),n=a.current,q=i(k,function(a){d.enter(a,null,m||f).then(function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()});m=q,l=n.scope=k,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function f(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}h(d)}}}var g=b.module("ngRoute",["ng"]).provider("$route",c),h=b.$$minErr("ngRoute");g.provider("$routeParams",d),g.directive("ngView",e),g.directive("ngView",f),e.$inject=["$route","$anchorScroll","$animate"],f.$inject=["$compile","$controller","$route"]}(window,window.angular),function(a,b,c){function d(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&h.test("."+a)}function e(a,b){if(!d(b))throw g("badmember",'Dotted member path "@{0}" is invalid.',b);for(var e=b.split("."),f=0,h=e.length;h>f&&a!==c;f++){var i=e[f];a=null!==a?a[i]:c}return a}function f(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var g=b.$$minErr("$resource"),h=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;b.module("ngResource",["ng"]).provider("$resource",function(){var a=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(d,h){function i(a){return j(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function j(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function k(b,c){this.template=b,this.defaults=o({},a.defaults,c),this.urlParams={}}function l(i,j,r,s){function t(a,b){var c={};return b=o({},j,b),n(b,function(b,d){q(b)&&(b=b()),c[d]=b&&b.charAt&&"@"==b.charAt(0)?e(a,b.substr(1)):b}),c}function u(a){return a.resource}function v(a){f(a||{},this)}var w=new k(i,s);return r=o({},a.defaults.actions,r),v.prototype.toJSON=function(){var a=o({},this);return delete a.$promise,delete a.$resolved,a},n(r,function(a,e){var i=/^(POST|PUT|PATCH)$/i.test(a.method);v[e]=function(j,k,l,r){var s,x,y,z={};switch(arguments.length){case 4:y=r,x=l;case 3:case 2:if(!q(k)){z=j,s=k,x=l;break}if(q(j)){x=j,y=k;break}x=k,y=l;case 1:q(j)?x=j:i?s=j:z=j;break;case 0:break;default:throw g("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var A=this instanceof v,B=A?s:a.isArray?[]:new v(s),C={},D=a.interceptor&&a.interceptor.response||u,E=a.interceptor&&a.interceptor.responseError||c;n(a,function(a,b){"params"!=b&&"isArray"!=b&&"interceptor"!=b&&(C[b]=p(a))}),i&&(C.data=s),w.setUrlParams(C,o({},t(s,a.params||{}),z),a.url);var F=d(C).then(function(c){var d=c.data,h=B.$promise;if(d){if(b.isArray(d)!==!!a.isArray)throw g("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",e,a.isArray?"array":"object",b.isArray(d)?"array":"object");a.isArray?(B.length=0,n(d,function(a){B.push("object"==typeof a?new v(a):a)})):(f(d,B),B.$promise=h)}return B.$resolved=!0,c.resource=B,c},function(a){return B.$resolved=!0,(y||m)(a),h.reject(a)});return F=F.then(function(a){var b=D(a);return(x||m)(b,a.headers),b},E),A?F:(B.$promise=F,B.$resolved=!1,B)},v.prototype["$"+e]=function(a,b,c){q(a)&&(c=b,b=a,a={});var d=v[e].call(this,a,this,b,c);return d.$promise||d}}),v.bind=function(a){return l(i,o({},j,a),r)},v}var m=b.noop,n=b.forEach,o=b.extend,p=b.copy,q=b.isFunction;return k.prototype={setUrlParams:function(a,c,d){var e,f,h=this,j=d||h.template,k=h.urlParams={};n(j.split(/\W/),function(a){if("hasOwnProperty"===a)throw g("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(j)&&(k[a]=!0)}),j=j.replace(/\\:/g,":"),c=c||{},n(h.urlParams,function(a,d){e=c.hasOwnProperty(d)?c[d]:h.defaults[d],b.isDefined(e)&&null!==e?(f=i(e),j=j.replace(new RegExp(":"+d+"(\\W|$)","g"),function(a,b){return f+b})):j=j.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),h.defaults.stripTrailingSlashes&&(j=j.replace(/\/+$/,"")||"/"),j=j.replace(/\/\.(?=\w+($|\?))/,"."),a.url=j.replace(/\/\\\./,"/."),n(c,function(b,c){h.urlParams[c]||(a.params=a.params||{},a.params[c]=b)})}},l}]})}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});{c[0].offsetWidth}c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b,this.close=a.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(a,b,c,d){function e(){f();var b=+a.interval;!isNaN(b)&&b>0&&(h=c(g,b))}function f(){h&&(c.cancel(h),h=null)}function g(){var b=+a.interval;i&&!isNaN(b)&&b>0?a.next():a.pause()}var h,i,j=this,k=j.slides=a.slides=[],l=-1;j.currentSlide=null;var m=!1;j.select=a.select=function(c,f){function g(){if(!m){if(j.currentSlide&&angular.isString(f)&&!a.noTransition&&c.$element){c.$element.addClass(f);{c.$element[0].offsetWidth}angular.forEach(k,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(c,{direction:f,active:!0,entering:!0}),angular.extend(j.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=d(c.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(c,j.currentSlide)}else h(c,j.currentSlide);j.currentSlide=c,l=i,e()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var i=k.indexOf(c);void 0===f&&(f=i>l?"next":"prev"),c&&c!==j.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){m=!0}),j.indexOfSlide=function(a){return k.indexOf(a)},a.next=function(){var b=(l+1)%k.length;return a.$currentTransition?void 0:j.select(k[b],"next")},a.prev=function(){var b=0>l-1?k.length-1:l-1;return a.$currentTransition?void 0:j.select(k[b],"prev")},a.isActive=function(a){return j.currentSlide===a},a.$watch("interval",e),a.$on("$destroy",f),a.play=function(){i||(i=!0,e())},a.pause=function(){a.noPause||(i=!1,f())},j.addSlide=function(b,c){b.$element=c,k.push(b),1===k.length||b.active?(j.select(k[k.length-1]),1==k.length&&a.play()):b.active=!1},j.removeSlide=function(a){var b=k.indexOf(a);k.splice(b,1),k.length>0&&a.active?j.select(b>=k.length?k[b-1]:k[b]):l>b&&l--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;m>l;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if("left"===a)b-=1;else if("up"===a)b-=7;else if("right"===a)b+=1;else if("down"===a)b+=7;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else"home"===a?b=1:"end"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if("left"===a)b-=1;else if("up"===a)b-=3;else if("right"===a)b+=1;else if("down"===a)b+=3;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(c)}else"home"===a?b=0:"end"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();"left"===a?b-=1:"up"===a?b-=5:"right"===a?b+=1:"down"===a?b+=5:"pageup"===a||"pagedown"===a?b+=("pageup"===a?-1:1)*d.step.years:"home"===a?b=e(d.activeDate.getFullYear()):"end"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()
})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){if(b){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})}},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b,c,d){b.backdropClass=d.backdropClass||"",b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(m,n.length()>0),i()})}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m="modal-open",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){o.dismiss(b.key,"escape key press")})))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element("<div modal-window></div>");j.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:n.length()-1,animate:"animate"}).html(b.content);var o=d(j)(b.scope);n.top().value.modalDomEl=o,f.append(o),f.addClass(m)},o.close=function(a,b){var c=n.get(a);c&&(c.value.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a);c&&(c.value.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,f,g,h,i,j){return function(e,k,l){function m(a){var b=a||n.trigger||l,d=c[b]||b;return{show:b,hide:d}}var n=angular.extend({},b,d),o=a(e),p=j.startSymbol(),q=j.endSymbol(),r="<div "+o+'-popup title="'+p+"title"+q+'" content="'+p+"content"+q+'" placement="'+p+"placement"+q+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var a=f(r);return function(b,c,d){function f(){D.isOpen?l():j()}function j(){(!C||b.$eval(d[k+"Enable"]))&&(s(),D.popupDelay?z||(z=g(o,D.popupDelay,!1),z.then(function(a){a()})):o()())}function l(){b.$apply(function(){p()})}function o(){return z=null,y&&(g.cancel(y),y=null),D.content?(q(),w.css({top:0,left:0,display:"block"}),D.$digest(),E(),D.isOpen=!0,D.$digest(),E):angular.noop}function p(){D.isOpen=!1,g.cancel(z),z=null,D.animation?y||(y=g(r,500)):r()}function q(){w&&r(),x=D.$new(),w=a(x,function(a){A?h.find("body").append(a):c.after(a)})}function r(){y=null,w&&(w.remove(),w=null),x&&(x.$destroy(),x=null)}function s(){t(),u()}function t(){var a=d[k+"Placement"];D.placement=angular.isDefined(a)?a:n.placement}function u(){var a=d[k+"PopupDelay"],b=parseInt(a,10);D.popupDelay=isNaN(b)?n.popupDelay:b}function v(){var a=d[k+"Trigger"];F(),B=m(a),B.show===B.hide?c.bind(B.show,f):(c.bind(B.show,j),c.bind(B.hide,l))}var w,x,y,z,A=angular.isDefined(n.appendToBody)?n.appendToBody:!1,B=m(void 0),C=angular.isDefined(d[k+"Enable"]),D=b.$new(!0),E=function(){var a=i.positionElements(c,w,D.placement,A);a.top+="px",a.left+="px",w.css(a)};D.isOpen=!1,d.$observe(e,function(a){D.content=a,!a&&D.isOpen&&p()}),d.$observe(k+"Title",function(a){D.title=a});var F=function(){c.unbind(B.show,j),c.unbind(B.hide,l)};v();var G=b.$eval(d[k+"Animation"]);D.animation=angular.isDefined(G)?!!G:n.animation;var H=b.$eval(d[k+"AppendToBody"]);A=angular.isDefined(H)?H:A,A&&b.$on("$locationChangeSuccess",function(){D.isOpen&&p()}),b.$on("$destroy",function(){g.cancel(y),g.cancel(z),F(),r(),D=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=i.$eval(k.typeaheadFocusFirst)!==!1,v=b(k.ngModel).assign,w=g.parse(k.typeahead),x=i.$new();i.$on("$destroy",function(){x.$destroy()});var y="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":y});var z=angular.element("<div typeahead-popup></div>");z.attr({id:y,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&z.attr("template-url",k.typeaheadTemplateUrl);var A=function(){x.matches=[],x.activeIdx=-1,j.attr("aria-expanded",!1)},B=function(a){return y+"-option-"+a};x.$watch("activeIdx",function(a){0>a?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",B(a))});var C=function(a){var b={$viewValue:a};q(i,!0),c.when(w.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){x.activeIdx=u?0:-1,x.matches.length=0;for(var e=0;e<c.length;e++)b[w.itemName]=c[e],x.matches.push({id:B(e),label:w.viewMapper(x,b),model:c[e]});x.query=a,x.position=t?f.offset(j):f.position(j),x.position.top=x.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else A();d&&q(i,!1)},function(){A(),q(i,!1)})};A(),x.query=void 0;var D,E=function(a){D=d(function(){C(a)},o)},F=function(){D&&d.cancel(D)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(F(),E(a)):C(a):(q(i,!1),F(),A()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[w.itemName]=a,b=w.viewMapper(i,d),d[w.itemName]=void 0,c=w.viewMapper(i,d),b!==c?b:a)}),x.select=function(a){var b,c,e={};e[w.itemName]=c=x.matches[a].model,b=w.modelMapper(i,e),v(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:w.viewMapper(i,e)}),A(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==x.matches.length&&-1!==h.indexOf(a.which)&&(-1!=x.activeIdx||13!==a.which&&9!==a.which)&&(a.preventDefault(),40===a.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===a.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===a.which||9===a.which?x.$apply(function(){x.select(x.activeIdx)}):27===a.which&&(a.stopPropagation(),A(),x.$digest()))}),j.bind("blur",function(){m=!1});var G=function(a){j[0]!==a.target&&(A(),x.$digest())};e.bind("click",G),i.$on("$destroy",function(){e.unbind("click",G),t&&H.remove()});var H=a(z)(x);t?e.find("body").append(H):j.after(H)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.2",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.2",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.2",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter('[href="#'+b.id+'"], [data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.2",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.2",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.2",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.options.backdrop&&d.adjustBackdrop(),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$element.find(".modal-dialog").one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},c.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.2",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b
},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.2",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.2",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.2",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.2",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a("body").height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(a){a(["jquery"],function(a){return function(){function b(a,b,c){return o({type:v.error,iconClass:p().iconClasses.error,message:a,optionsOverride:c,title:b})}function c(b,c){return b||(b=p()),r=a("#"+b.containerId),r.length?r:(c&&(r=l(b)),r)}function d(a,b,c){return o({type:v.info,iconClass:p().iconClasses.info,message:a,optionsOverride:c,title:b})}function e(a){s=a}function f(a,b,c){return o({type:v.success,iconClass:p().iconClasses.success,message:a,optionsOverride:c,title:b})}function g(a,b,c){return o({type:v.warning,iconClass:p().iconClasses.warning,message:a,optionsOverride:c,title:b})}function h(a){var b=p();r||c(b),k(a,b)||j(b)}function i(b){var d=p();return r||c(d),b&&0===a(":focus",b).length?void q(b):void(r.children().length&&r.remove())}function j(b){for(var c=r.children(),d=c.length-1;d>=0;d--)k(a(c[d]),b)}function k(b,c){return b&&0===a(":focus",b).length?(b[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){q(b)}}),!0):!1}function l(b){return r=a("<div/>").attr("id",b.containerId).addClass(b.positionClass).attr("aria-live","polite").attr("role","alert"),r.appendTo(a(b.target)),r}function m(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function n(a){s&&s(a)}function o(b){function d(b){return!a(":focus",k).length||b?(clearTimeout(v.intervalId),k[h.hideMethod]({duration:h.hideDuration,easing:h.hideEasing,complete:function(){q(k),h.onHidden&&"hidden"!==w.state&&h.onHidden(),w.state="hidden",w.endTime=new Date,n(w)}})):void 0}function e(){(h.timeOut>0||h.extendedTimeOut>0)&&(j=setTimeout(d,h.extendedTimeOut),v.maxHideTime=parseFloat(h.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)}function f(){clearTimeout(j),v.hideEta=0,k.stop(!0,!0)[h.showMethod]({duration:h.showDuration,easing:h.showEasing})}function g(){var a=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;o.width(a+"%")}var h=p(),i=b.iconClass||h.iconClass;if(h.preventDuplicates){if(b.message===t)return;t=b.message}"undefined"!=typeof b.optionsOverride&&(h=a.extend(h,b.optionsOverride),i=b.optionsOverride.iconClass||i),u++,r=c(h,!0);var j=null,k=a("<div/>"),l=a("<div/>"),m=a("<div/>"),o=a("<div/>"),s=a(h.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},w={toastId:u,state:"visible",startTime:new Date,options:h,map:b};return b.iconClass&&k.addClass(h.toastClass).addClass(i),b.title&&(l.append(b.title).addClass(h.titleClass),k.append(l)),b.message&&(m.append(b.message).addClass(h.messageClass),k.append(m)),h.closeButton&&(s.addClass("toast-close-button").attr("role","button"),k.prepend(s)),h.progressBar&&(o.addClass("toast-progress"),k.prepend(o)),k.hide(),h.newestOnTop?r.prepend(k):r.append(k),k[h.showMethod]({duration:h.showDuration,easing:h.showEasing,complete:h.onShown}),h.timeOut>0&&(j=setTimeout(d,h.timeOut),v.maxHideTime=parseFloat(h.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,h.progressBar&&(v.intervalId=setInterval(g,10))),k.hover(f,e),!h.onclick&&h.tapToDismiss&&k.click(d),h.closeButton&&s&&s.click(function(a){a.stopPropagation?a.stopPropagation():void 0!==a.cancelBubble&&a.cancelBubble!==!0&&(a.cancelBubble=!0),d(!0)}),h.onclick&&k.click(function(){h.onclick(),d()}),n(w),h.debug&&console&&console.log(w),k}function p(){return a.extend({},m(),w.options)}function q(a){r||(r=c()),a.is(":visible")||(a.remove(),a=null,0===r.children().length&&r.remove())}var r,s,t,u=0,v={error:"error",info:"info",success:"success",warning:"warning"},w={clear:h,remove:i,error:b,getContainer:c,info:d,options:{},subscribe:e,success:f,version:"2.1.0",warning:g};return w}()})}("function"==typeof define&&define.amd?define:function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery")):window.toastr=b(window.jQuery)}),function(){function a(){var a,b,c=arguments,d={},e=function(a,b){var c,d;"object"!=typeof a&&(a={});for(d in b)b.hasOwnProperty(d)&&(c=b[d],a[d]=c&&"object"==typeof c&&"[object Array]"!==Object.prototype.toString.call(c)&&"renderTo"!==d&&"number"!=typeof c.nodeType?e(a[d]||{},c):b[d]);return a};for(c[0]===!0&&(d=c[1],c=Array.prototype.slice.call(c,2)),b=c.length,a=0;b>a;a++)d=e(d,c[a]);return d}function b(a,b){return parseInt(a,b||10)}function c(a){return"string"==typeof a}function d(a){return a&&"object"==typeof a}function e(a){return"[object Array]"===Object.prototype.toString.call(a)}function f(a){return"number"==typeof a}function g(a){return ib.log(a)/ib.LN10}function h(a){return ib.pow(10,a)}function i(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}}function j(a){return a!==I&&null!==a}function k(a,b,e){var f,g;if(c(b))j(e)?a.setAttribute(b,e):a&&a.getAttribute&&(g=a.getAttribute(b));else if(j(b)&&d(b))for(f in b)a.setAttribute(f,b[f]);return g}function l(a){return e(a)?a:[a]}function m(a,b){vb&&!Bb&&b&&b.opacity!==I&&(b.filter="alpha(opacity="+100*b.opacity+")"),Pb(a.style,b)}function n(a,b,c,d,e){return a=gb.createElement(a),b&&Pb(a,b),e&&m(a,{padding:0,border:Kb,margin:0}),c&&m(a,c),d&&d.appendChild(a),a}function o(a,b){var c=function(){return I};return c.prototype=new a,Pb(c.prototype,b),c}function p(a,b){return Array((b||2)+1-String(a).length).join(0)+a}function q(a){return 6e4*(T&&T(a)||S||0)}function r(a,b){for(var c,d,e,f,g,h="{",i=!1,j=[];-1!==(h=a.indexOf(h));){if(c=a.slice(0,h),i){for(d=c.split(":"),e=d.shift().split("."),g=e.length,c=b,f=0;g>f;f++)c=c[e[f]];d.length&&(d=d.join(":"),e=/\.([0-9])/,f=M.lang,g=void 0,/f$/.test(d)?(g=(g=d.match(e))?g[1]:-1,null!==c&&(c=fb.numberFormat(c,g,f.decimalPoint,d.indexOf(",")>-1?f.thousandsSep:""))):c=N(d,c))}j.push(c),a=a.slice(h+1),h=(i=!i)?"}":"{"}return j.push(a),j.join("")}function s(a){return ib.pow(10,kb(ib.log(a)/ib.LN10))}function t(a,b,c,d,e){var f,g=a,c=Qb(c,1);for(f=a/c,b||(b=[1,2,2.5,5,10],d===!1&&(1===c?b=[1,2,5,10]:.1>=c&&(b=[1/c]))),d=0;d<b.length&&(g=b[d],!(e&&g*c>=a||!e&&f<=(b[d]+(b[d+1]||b[d]))/2));d++);return g*=c}function u(a,b){var c,d,e=a.length;for(d=0;e>d;d++)a[d].ss_i=d;for(a.sort(function(a,d){return c=b(a,d),0===c?a.ss_i-d.ss_i:c}),d=0;e>d;d++)delete a[d].ss_i}function v(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function w(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function x(a,b){for(var c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c]}function y(a){L||(L=n(Jb)),a&&L.appendChild(a),L.innerHTML=""}function z(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw c;hb.console&&console.log(c)}function A(a,b){return parseFloat(a.toPrecision(b||14))}function B(a,b){b.renderer.globalAnimation=Qb(a,b.animation)}function C(){var a=M.global,b=a.useUTC,c=b?"getUTC":"get",d=b?"setUTC":"set";Q=a.Date||window.Date,S=b&&a.timezoneOffset,T=b&&a.getTimezoneOffset,R=function(a,c,d,e,f,g){var h;return b?(h=Q.UTC.apply(0,arguments),h+=q(h)):h=new Q(a,c,Qb(d,1),Qb(e,0),Qb(f,0),Qb(g,0)).getTime(),h},U=c+"Minutes",V=c+"Hours",W=c+"Day",X=c+"Date",Y=c+"Month",Z=c+"FullYear",$=d+"Milliseconds",_=d+"Seconds",ab=d+"Minutes",bb=d+"Hours",cb=d+"Date",db=d+"Month",eb=d+"FullYear"}function D(){}function E(a,b,c,d){this.axis=a,this.pos=b,this.type=c||"",this.isNew=!0,!c&&!d&&this.addLabel()}function F(a,b,c,d,e){var f=a.chart.inverted;this.axis=a,this.isNegative=c,this.options=b,this.x=d,this.total=null,this.points={},this.stack=e,this.alignOptions={align:b.align||(f?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(f?"middle":c?"bottom":"top"),y:Qb(b.y,f?4:c?14:-6),x:Qb(b.x,f?c?-6:6:0)},this.textAlign=b.textAlign||(f?c?"right":"left":"center")}function G(a){var b=a.options,c=b.navigator,d=c.enabled,b=b.scrollbar,e=b.enabled,f=d?c.height:0,g=e?b.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=a,this.setBaseSeries(),this.height=f,this.scrollbarHeight=g,this.scrollbarEnabled=e,this.navigatorEnabled=d,this.navigatorOptions=c,this.scrollbarOptions=b,this.outlineHeight=f+g,this.init()}function H(a){this.init(a)}var I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb=document,hb=window,ib=Math,jb=ib.round,kb=ib.floor,lb=ib.ceil,mb=ib.max,nb=ib.min,ob=ib.abs,pb=ib.cos,qb=ib.sin,rb=ib.PI,sb=2*rb/360,tb=navigator.userAgent,ub=hb.opera,vb=/(msie|trident)/i.test(tb)&&!ub,wb=8===gb.documentMode,xb=/AppleWebKit/.test(tb),yb=/Firefox/.test(tb),zb=/(Mobile|Android|Windows Phone)/.test(tb),Ab="http://www.w3.org/2000/svg",Bb=!!gb.createElementNS&&!!gb.createElementNS(Ab,"svg").createSVGRect,Cb=yb&&parseInt(tb.split("Firefox/")[1],10)<4,Db=!Bb&&!vb&&!!gb.createElement("canvas").getContext,Eb={},Fb=0,Gb=function(){return I},Hb=[],Ib=0,Jb="div",Kb="none",Lb=/^[0-9]+$/,Mb=["plotTop","marginRight","marginBottom","plotLeft"],Nb="stroke-width",Ob={};fb=hb.Highcharts=hb.Highcharts?z(16,!0):{},fb.seriesTypes=Ob;var Pb=fb.extend=function(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a},Qb=fb.pick=function(){var a,b,c=arguments,d=c.length;for(a=0;d>a;a++)if(b=c[a],b!==I&&null!==b)return b},Rb=fb.wrap=function(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(d),c.apply(this,a)}};N=function(a,b,c){if(!j(b)||isNaN(b))return M.lang.invalidDate||"";var d,a=Qb(a,"%Y-%m-%d %H:%M:%S"),e=new Q(b-q(b)),f=e[V](),g=e[W](),h=e[X](),i=e[Y](),k=e[Z](),l=M.lang,m=l.weekdays,e=Pb({a:m[g].substr(0,3),A:m[g],d:p(h),e:h,w:g,b:l.shortMonths[i],B:l.months[i],m:p(i+1),y:k.toString().substr(2,2),Y:k,H:p(f),k:f,I:p(f%12||12),l:f%12||12,M:p(e[U]()),p:12>f?"AM":"PM",P:12>f?"am":"pm",S:p(e.getSeconds()),L:p(jb(b%1e3),3)},fb.dateFormats);for(d in e)for(;-1!==a.indexOf("%"+d);)a=a.replace("%"+d,"function"==typeof e[d]?e[d](b):e[d]);return c?a.substr(0,1).toUpperCase()+a.substr(1):a},P={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},fb.numberFormat=function(a,c,d,e){var f=M.lang,a=+a||0,g=-1===c?nb((a.toString().split(".")[1]||"").length,20):isNaN(c=ob(c))?2:c,c=void 0===d?f.decimalPoint:d,e=void 0===e?f.thousandsSep:e,f=0>a?"-":"",d=String(b(a=ob(a).toFixed(g))),h=d.length>3?d.length%3:0;return f+(h?d.substr(0,h)+e:"")+d.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+e)+(g?c+ob(a-d).toFixed(g).slice(2):"")},O={init:function(a,b,c){var d,e,f,b=b||"",g=a.shift,h=b.indexOf("C")>-1,i=h?7:3,b=b.split(" "),c=[].concat(c),j=function(a){for(d=a.length;d--;)"M"===a[d]&&a.splice(d+1,0,a[d+1],a[d+2],a[d+1],a[d+2])};if(h&&(j(b),j(c)),a.isArea&&(e=b.splice(b.length-6,6),f=c.splice(c.length-6,6)),g<=c.length/i&&b.length===c.length)for(;g--;)c=[].concat(c).splice(0,i).concat(c);if(a.shift=0,b.length)for(a=c.length;b.length<a;)g=[].concat(b).splice(b.length-i,i),h&&(g[i-6]=g[i-2],g[i-5]=g[i-1]),b=b.concat(g);return e&&(b=b.concat(e),c=c.concat(f)),[b,c]},step:function(a,b,c,d){var e=[],f=a.length;if(1===c)e=d;else if(f===b.length&&1>c)for(;f--;)d=parseFloat(a[f]),e[f]=isNaN(d)?a[f]:c*parseFloat(b[f]-d)+d;else e=b;return e}},function(a){hb.HighchartsAdapter=hb.HighchartsAdapter||a&&{init:function(b){var d=a.fx;a.extend(a.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}}),a.each(["cur","_default","width","height","opacity"],function(b,c){var e,f=d.step;"cur"===c?f=d.prototype:"_default"===c&&a.Tween&&(f=a.Tween.propHooks[c],c="set"),(e=f[c])&&(f[c]=function(a){var d,a=b?a:this;return"align"!==a.prop?(d=a.elem,d.attr?d.attr(a.prop,"cur"===c?I:a.now):e.apply(this,arguments)):void 0})}),Rb(a.cssHooks.opacity,"get",function(a,b,c){return b.attr?b.opacity||0:a.call(this,b,c)}),this.addAnimSetter("d",function(a){var c,d=a.elem;a.started||(c=b.init(d,d.d,d.toD),a.start=c[0],a.end=c[1],a.started=!0),d.attr("d",b.step(a.start,a.end,a.pos,d.toD))}),this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(a,b){var c,d=a.length;for(c=0;d>c;c++)if(b.call(a[c],a[c],c,a)===!1)return c},a.fn.highcharts=function(){var a,b,d="Chart",e=arguments;return this[0]&&(c(e[0])&&(d=e[0],e=Array.prototype.slice.call(e,1)),a=e[0],a!==I&&(a.chart=a.chart||{},a.chart.renderTo=this[0],new fb[d](a,e[1]),b=this),a===I&&(b=Hb[k(this[0],"data-highcharts-chart")])),b}},addAnimSetter:function(b,c){a.Tween?a.Tween.propHooks[b]={set:c}:a.fx.step[b]=c},getScript:a.getScript,inArray:a.inArray,adapterRun:function(b,c){return a(b)[c]()},grep:a.grep,map:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c[d]=b.call(a[d],a[d],d,a);return c},offset:function(b){return a(b).offset()},addEvent:function(b,c,d){a(b).bind(c,d)},removeEvent:function(b,c,d){var e=gb.removeEventListener?"removeEventListener":"detachEvent";gb[e]&&b&&!b[e]&&(b[e]=function(){}),a(b).unbind(c,d)},fireEvent:function(b,c,d,e){var f,g=a.Event(c),h="detached"+c;!vb&&d&&(delete d.layerX,delete d.layerY,delete d.returnValue),Pb(g,d),b[c]&&(b[h]=b[c],b[c]=null),a.each(["preventDefault","stopPropagation"],function(a,b){var c=g[b];g[b]=function(){try{c.call(g)}catch(a){"preventDefault"===b&&(f=!0)}}}),a(b).trigger(g),b[h]&&(b[c]=b[h],b[h]=null),e&&!g.isDefaultPrevented()&&!f&&e(g)},washMouseEvent:function(a){var b=a.originalEvent||a;return b.pageX===I&&(b.pageX=a.pageX,b.pageY=a.pageY),b},animate:function(b,c,d){var e=a(b);b.style||(b.style={}),c.d&&(b.toD=c.d,c.d=1),e.stop(),c.opacity!==I&&b.attr&&(c.opacity+="px"),b.hasAnim=1,e.animate(c,d)},stop:function(b){b.hasAnim&&a(b).stop()}}}(hb.jQuery);var Sb=hb.HighchartsAdapter,Tb=Sb||{};Sb&&Sb.init.call(Sb,O);var Ub=Tb.adapterRun,Vb=Tb.getScript,Wb=Tb.inArray,Xb=fb.each=Tb.each,Yb=Tb.grep,Zb=Tb.offset,$b=Tb.map,_b=Tb.addEvent,ac=Tb.removeEvent,bc=Tb.fireEvent,cc=Tb.washMouseEvent,dc=Tb.animate,ec=Tb.stop;M={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.8/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.8/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":fb.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Bb,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:zb?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var fc=M.plotOptions,Sb=fc.line;C();var gc=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,hc=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,ic=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,jc=function(c){var d,e,g=[];
return function(a){a&&a.stops?e=$b(a.stops,function(a){return jc(a[1])}):(d=gc.exec(a))?g=[b(d[1]),b(d[2]),b(d[3]),parseFloat(d[4],10)]:(d=hc.exec(a))?g=[b(d[1],16),b(d[2],16),b(d[3],16),1]:(d=ic.exec(a))&&(g=[b(d[1]),b(d[2]),b(d[3]),1])}(c),{get:function(b){var d;return e?(d=a(c),d.stops=[].concat(d.stops),Xb(e,function(a,c){d.stops[c]=[d.stops[c][0],a.get(b)]})):d=g&&!isNaN(g[0])?"rgb"===b?"rgb("+g[0]+","+g[1]+","+g[2]+")":"a"===b?g[3]:"rgba("+g.join(",")+")":c,d},brighten:function(a){if(e)Xb(e,function(b){b.brighten(a)});else if(f(a)&&0!==a){var c;for(c=0;3>c;c++)g[c]+=b(255*a),g[c]<0&&(g[c]=0),g[c]>255&&(g[c]=255)}return this},rgba:g,setOpacity:function(a){return g[3]=a,this},raw:c}};D.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(a,b){this.element="span"===b?n(b):gb.createElementNS(Ab,b),this.renderer=a},animate:function(b,c,d){return c=Qb(c,this.renderer.globalAnimation,!0),ec(this),c?(c=a(c,{}),d&&(c.complete=d),dc(this,b,c)):this.attr(b,null,d),this},colorGradient:function(b,c,d){var f,g,h,i,k,l,m,n,o,p,q=this.renderer,r=[];if(b.linearGradient?g="linearGradient":b.radialGradient&&(g="radialGradient"),g){h=b[g],i=q.gradients,l=b.stops,o=d.radialReference,e(h)&&(b[g]=h={x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===g&&o&&!j(h.gradientUnits)&&(h=a(h,{cx:o[0]-o[2]/2+h.cx*o[2],cy:o[1]-o[2]/2+h.cy*o[2],r:h.r*o[2],gradientUnits:"userSpaceOnUse"}));for(p in h)"id"!==p&&r.push(p,h[p]);for(p in l)r.push(l[p]);r=r.join(","),i[r]?b=i[r].attr("id"):(h.id=b="highcharts-"+Fb++,i[r]=k=q.createElement(g).attr(h).add(q.defs),k.stops=[],Xb(l,function(a){0===a[1].indexOf("rgba")?(f=jc(a[1]),m=f.get("rgb"),n=f.get("a")):(m=a[1],n=1),a=q.createElement("stop").attr({offset:a[0],"stop-color":m,"stop-opacity":n}).add(k),k.stops.push(a)})),d.setAttribute(c,"url("+q.url+"#"+b+")")}},applyTextShadow:function(a){var c,d=this.element,e=-1!==a.indexOf("contrast"),f={},g=this.renderer.forExport||d.style.textShadow!==I&&!vb;e&&(f.textShadow=a=a.replace(/contrast/g,this.renderer.getContrast(d.style.fill))),xb&&(f.textRendering="geometricPrecision"),g?m(d,f):(this.fakeTS=!0,this.ySetter=this.xSetter,c=[].slice.call(d.getElementsByTagName("tspan")),Xb(a.split(/\s?,\s?/g),function(a){var e,f,g=d.firstChild,a=a.split(" ");e=a[a.length-1],(f=a[a.length-2])&&Xb(c,function(a,c){var h;0===c&&(a.setAttribute("x",d.getAttribute("x")),c=d.getAttribute("y"),a.setAttribute("y",c||0),null===c&&d.setAttribute("y",0)),h=a.cloneNode(1),k(h,{"class":"highcharts-text-shadow",fill:e,stroke:e,"stroke-opacity":1/mb(b(f),3),"stroke-width":f,"stroke-linejoin":"round"}),d.insertBefore(h,g)})}))},attr:function(a,b,c){var d,e,f,g=this.element,h=this;if("string"==typeof a&&b!==I&&(d=a,a={},a[d]=b),"string"==typeof a)h=(this[a+"Getter"]||this._defaultGetter).call(this,a,g);else{for(d in a)b=a[d],f=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(d)&&(e||(this.symbolAttr(a),e=!0),f=!0),!this.rotation||"x"!==d&&"y"!==d||(this.doTransform=!0),f||(this[d+"Setter"]||this._defaultSetter).call(this,b,d,g),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(d)&&this.updateShadows(d,b);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return c&&c(),h},updateShadows:function(a,b){for(var c=this.shadows,d=c.length;d--;)c[d].setAttribute(a,"height"===a?mb(b-(c[d].cutHeight||0),0):"d"===a?this.d:b)},addClass:function(a){var b=this.element,c=k(b,"class")||"";return-1===c.indexOf(a)&&k(b,"class",c+" "+a),this},symbolAttr:function(a){var b=this;Xb("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(c){b[c]=Qb(a[c],b[c])}),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":Kb)},crisp:function(a){var b,c,d={},e=a.strokeWidth||this.strokeWidth||0;c=jb(e)%2/2,a.x=kb(a.x||this.x||0)+c,a.y=kb(a.y||this.y||0)+c,a.width=kb((a.width||this.width||0)-2*c),a.height=kb((a.height||this.height||0)-2*c),a.strokeWidth=e;for(b in a)this[b]!==a[b]&&(this[b]=d[b]=a[b]);return d},css:function(a){var c,d,e=this.styles,f={},g=this.element,h="";if(c=!e,a&&a.color&&(a.fill=a.color),e)for(d in a)a[d]!==e[d]&&(f[d]=a[d],c=!0);if(c){if(c=this.textWidth=a&&a.width&&"text"===g.nodeName.toLowerCase()&&b(a.width)||this.textWidth,e&&(a=Pb(e,f)),this.styles=a,c&&(Db||!Bb&&this.renderer.forExport)&&delete a.width,vb&&!Bb)m(this.element,a);else{e=function(a,b){return"-"+b.toLowerCase()};for(d in a)h+=d.replace(/([A-Z])/g,e)+":"+a[d]+";";k(g,"style",h)}c&&this.added&&this.renderer.buildText(this)}return this},on:function(a,b){var c=this,d=c.element;return K&&"click"===a?(d.ontouchstart=function(a){c.touchEventFired=Q.now(),a.preventDefault(),b.call(d,a)},d.onclick=function(a){(-1===tb.indexOf("Android")||Q.now()-(c.touchEventFired||0)>1100)&&b.call(d,a)}):d["on"+a]=b,this},setRadialReference:function(a){return this.element.radialReference=a,this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,c=this.scaleX,d=this.scaleY,e=this.inverted,f=this.rotation,g=this.element;e&&(a+=this.attr("width"),b+=this.attr("height")),a=["translate("+a+","+b+")"],e?a.push("rotate(90) scale(-1,1)"):f&&a.push("rotate("+f+" "+(g.getAttribute("x")||0)+" "+(g.getAttribute("y")||0)+")"),(j(c)||j(d))&&a.push("scale("+Qb(c,1)+" "+Qb(d,1)+")"),a.length&&g.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,b,d){var e,f,g,h,j={};return f=this.renderer,g=f.alignedObjects,a?(this.alignOptions=a,this.alignByTranslate=b,(!d||c(d))&&(this.alignTo=e=d||"renderer",i(g,this),g.push(this),d=null)):(a=this.alignOptions,b=this.alignByTranslate,e=this.alignTo),d=Qb(d,f[e],f),e=a.align,f=a.verticalAlign,g=(d.x||0)+(a.x||0),h=(d.y||0)+(a.y||0),("right"===e||"center"===e)&&(g+=(d.width-(a.width||0))/{right:1,center:2}[e]),j[b?"translateX":"x"]=jb(g),("bottom"===f||"middle"===f)&&(h+=(d.height-(a.height||0))/({bottom:1,middle:2}[f]||1)),j[b?"translateY":"y"]=jb(h),this[this.placed?"animate":"attr"](j),this.placed=!0,this.alignAttr=j,this},getBBox:function(a){var b,c,d=this.renderer,e=this.rotation,f=this.element,g=this.styles,h=e*sb;c=this.textStr;var i,j,k,l=f.style;if(c!==I&&(k=["",e||0,g&&g.fontSize,f.style.width].join(","),k=""===c||Lb.test(c)?"num:"+c.toString().length+k:c+k),k&&!a&&(b=d.cache[k]),!b){if(f.namespaceURI===Ab||d.forExport){try{j=this.fakeTS&&function(a){Xb(f.querySelectorAll(".highcharts-text-shadow"),function(b){b.style.display=a})},yb&&l.textShadow?(i=l.textShadow,l.textShadow=""):j&&j(Kb),b=f.getBBox?Pb({},f.getBBox()):{width:f.offsetWidth,height:f.offsetHeight},i?l.textShadow=i:j&&j("")}catch(m){}(!b||b.width<0)&&(b={width:0,height:0})}else b=this.htmlGetBBox();d.isSVG&&(a=b.width,c=b.height,vb&&g&&"11px"===g.fontSize&&"16.9"===c.toPrecision(3)&&(b.height=c=14),e&&(b.width=ob(c*qb(h))+ob(a*pb(h)),b.height=ob(c*pb(h))+ob(a*qb(h)))),k&&(d.cache[k]=b)}return b},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.attr({y:-9999})}})},add:function(a){var b,c=this.renderer,d=this.element;return a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&c.buildText(this),this.added=!0,(!a||a.handleZ||this.zIndex)&&(b=this.zIndexSetter()),b||(a?a.element:c.box).appendChild(d),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a,b,c=this,d=c.element||{},e=c.shadows,f=c.renderer.isSVG&&"SPAN"===d.nodeName&&c.parentGroup;if(d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=d.point=null,ec(c),c.clipPath&&(c.clipPath=c.clipPath.destroy()),c.stops){for(b=0;b<c.stops.length;b++)c.stops[b]=c.stops[b].destroy();c.stops=null}for(c.safeRemoveChild(d),e&&Xb(e,function(a){c.safeRemoveChild(a)});f&&f.div&&0===f.div.childNodes.length;)d=f.parentGroup,c.safeRemoveChild(f.div),delete f.div,f=d;c.alignTo&&i(c.renderer.alignedObjects,c);for(a in c)delete c[a];return null},shadow:function(a,b,c){var d,e,f,g,h,i,j=[],l=this.element;if(a){for(g=Qb(a.width,3),h=(a.opacity||.15)/g,i=this.parentInverted?"(-1,-1)":"("+Qb(a.offsetX,1)+", "+Qb(a.offsetY,1)+")",d=1;g>=d;d++)e=l.cloneNode(0),f=2*g+1-2*d,k(e,{isShadow:"true",stroke:a.color||"black","stroke-opacity":h*d,"stroke-width":f,transform:"translate"+i,fill:Kb}),c&&(k(e,"height",mb(k(e,"height")-f,0)),e.cutHeight=f),b?b.element.appendChild(e):l.parentNode.insertBefore(e,l),j.push(e);this.shadows=j}return this},xGetter:function(a){return"circle"===this.element.nodeName&&(a={x:"cx",y:"cy"}[a]||a),this._defaultGetter(a)},_defaultGetter:function(a){return a=Qb(this[a],this.element?this.element.getAttribute(a):null,0),/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a)),a},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),c.setAttribute(b,a),this[b]=a},dashstyleSetter:function(a){var c;if(a=a&&a.toLowerCase()){for(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),c=a.length;c--;)a[c]=b(a[c])*this["stroke-width"];a=a.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,b,c){this[b]=a,c.setAttribute(b,a)},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=gb.createElementNS(Ab,"title"),this.element.appendChild(b)),b.appendChild(gb.createTextNode(String(Qb(a),"").replace(/<[^>]*>/g,"")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,b,c){"string"==typeof a?c.setAttribute(b,a):a&&this.colorGradient(a,b,c)},visibilitySetter:function(a,b,c){"inherit"===a?c.removeAttribute(b):c.setAttribute(b,a)},zIndexSetter:function(a,c){var d,e,f,g=this.renderer,h=this.parentGroup,g=(h||g).element||g.box,i=this.element;d=this.added;var l;if(j(a)&&(i.setAttribute(c,a),a=+a,this[c]===a&&(d=!1),this[c]=a),d){for((a=this.zIndex)&&h&&(h.handleZ=!0),h=g.childNodes,l=0;l<h.length&&!f;l++)d=h[l],e=k(d,"zIndex"),d!==i&&(b(e)>a||!j(a)&&j(e))&&(g.insertBefore(i,d),f=!0);f||g.appendChild(i)}return f},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}},D.prototype.yGetter=D.prototype.xGetter,D.prototype.translateXSetter=D.prototype.translateYSetter=D.prototype.rotationSetter=D.prototype.verticalAlignSetter=D.prototype.scaleXSetter=D.prototype.scaleYSetter=function(a,b){this[b]=a,this.doTransform=!0},D.prototype["stroke-widthSetter"]=D.prototype.strokeSetter=function(a,b,c){this[b]=a,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],D.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===b&&0===a&&this.hasStroke&&(c.removeAttribute("stroke"),this.hasStroke=!1)};var kc=function(){this.init.apply(this,arguments)};kc.prototype={Element:D,init:function(a,b,c,d,e){var f,g=location,d=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(d));f=d.element,a.appendChild(f),-1===a.innerHTML.indexOf("xmlns")&&k(f,"xmlns",Ab),this.isSVG=!0,this.box=f,this.boxWrapper=d,this.alignedObjects=[],this.url=(yb||xb)&&gb.getElementsByTagName("base").length?g.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(gb.createTextNode("Created with Highstock 2.1.8")),this.defs=this.createElement("defs").add(),this.forExport=e,this.gradients={},this.cache={},this.setSize(b,c,!1);var h;yb&&a.getBoundingClientRect&&(this.subPixelFix=b=function(){m(a,{left:0,top:0}),h=a.getBoundingClientRect(),m(a,{left:lb(h.left)-h.left+"px",top:lb(h.top)-h.top+"px"})},b(),_b(hb,"resize",b))},getStyle:function(a){return this.style=Pb({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),x(this.gradients||{}),this.gradients=null,a&&(this.defs=a.destroy()),this.subPixelFix&&ac(hb,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(a){var b=new this.Element;return b.init(this,a),b},draw:function(){},buildText:function(a){for(var c,d,e=a.element,f=this,g=f.forExport,h=Qb(a.textStr,"").toString(),i=-1!==h.indexOf("<"),j=e.childNodes,l=k(e,"x"),n=a.styles,o=a.textWidth,p=n&&n.lineHeight,q=n&&n.textShadow,r=n&&"ellipsis"===n.textOverflow,s=j.length,t=o&&!a.added&&this.box,u=function(a){return p?b(p):f.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:n&&n.fontSize||f.style.fontSize||12,a).h},v=function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">")};s--;)e.removeChild(j[s]);i||q||r||-1!==h.indexOf(" ")?(c=/<.*style="([^"]+)".*>/,d=/<.*href="(http[^"]+)".*>/,t&&t.appendChild(e),h=i?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[h],""===h[h.length-1]&&h.pop(),Xb(h,function(b,h){var i,j=0,b=b.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");i=b.split("|||"),Xb(i,function(b){if(""!==b||1===i.length){var p,q={},s=gb.createElementNS(Ab,"tspan");if(c.test(b)&&(p=b.match(c)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),k(s,"style",p)),d.test(b)&&!g&&(k(s,"onclick",'location.href="'+b.match(d)[1]+'"'),m(s,{cursor:"pointer"})),b=v(b.replace(/<(.|\n)*?>/g,"")||" ")," "!==b){if(s.appendChild(gb.createTextNode(b)),j?q.dx=0:h&&null!==l&&(q.x=l),k(s,q),e.appendChild(s),!j&&h&&(!Bb&&g&&m(s,{display:"block"}),k(s,"dy",u(s))),o){for(var t,w,x,q=b.replace(/([^\^])-/g,"$1- ").split(" "),y=i.length>1||h||q.length>1&&"nowrap"!==n.whiteSpace,z=[],A=u(s),B=1,C=a.rotation,D=b,E=D.length;(y||r)&&(q.length||z.length);)a.rotation=0,t=a.getBBox(!0),x=t.width,!Bb&&f.forExport&&(x=f.measureSpanWidth(s.firstChild.data,a.styles)),t=x>o,void 0===w&&(w=t),r&&w?(E/=2,""===D||!t&&.5>E?q=[]:(t&&(w=!0),D=b.substring(0,D.length+(t?-1:1)*lb(E)),q=[D+(o>3?"…":"")],s.removeChild(s.firstChild))):t&&1!==q.length?(s.removeChild(s.firstChild),z.unshift(q.pop())):(q=z,z=[],q.length&&(B++,s=gb.createElementNS(Ab,"tspan"),k(s,{dy:A,x:l}),p&&k(s,"style",p),e.appendChild(s)),x>o&&(o=x)),q.length&&s.appendChild(gb.createTextNode(q.join(" ").replace(/- /g,"-")));w&&a.attr("title",a.textStr),a.rotation=C}j++}}})}),t&&t.removeChild(e),q&&a.applyTextShadow&&a.applyTextShadow(q)):e.appendChild(gb.createTextNode(v(h)))},getContrast:function(a){return a=jc(a).rgba,a[0]+a[1]+a[2]>384?"#000000":"#FFFFFF"},button:function(b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q=this.label(b,c,d,j,null,null,null,null,"button"),r=0,b={x1:0,y1:0,x2:0,y2:1},f=a({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:b,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},f);return m=f.style,delete f.style,g=a(f,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#FFF"],[1,"#ACF"]]}},g),n=g.style,delete g.style,h=a(f,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#9BD"],[1,"#CDF"]]}},h),o=h.style,delete h.style,i=a(f,{style:{color:"#CCC"}},i),p=i.style,delete i.style,_b(q.element,vb?"mouseover":"mouseenter",function(){3!==r&&q.attr(g).css(n)}),_b(q.element,vb?"mouseout":"mouseleave",function(){3!==r&&(k=[f,g,h][r],l=[m,n,o][r],q.attr(k).css(l))}),q.setState=function(a){(q.state=r=a)?2===a?q.attr(h).css(o):3===a&&q.attr(i).css(p):q.attr(f).css(m)},q.on("click",function(a){3!==r&&e.call(q,a)}).attr(f).css(Pb({cursor:"default"},m))},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=jb(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=jb(a[2])+b%2/2),a},path:function(a){var b={fill:Kb};return e(a)?b.d=a:d(a)&&Pb(b,a),this.createElement("path").attr(b)},circle:function(a,b,c){return a=d(a)?a:{x:a,y:b,r:c},b=this.createElement("circle"),b.xSetter=function(a){this.element.setAttribute("cx",a)},b.ySetter=function(a){this.element.setAttribute("cy",a)},b.attr(a)},arc:function(a,b,c,e,f,g){return d(a)&&(b=a.y,c=a.r,e=a.innerR,f=a.start,g=a.end,a=a.x),a=this.symbol("arc",a||0,b||0,c||0,c||0,{innerR:e||0,start:f||0,end:g||0}),a.r=c,a},rect:function(a,b,c,e,f,g){var f=d(a)?a.r:f,h=this.createElement("rect"),a=d(a)?a:a===I?{}:{x:a,y:b,width:mb(c,0),height:mb(e,0)};return g!==I&&(a.strokeWidth=g,a=h.crisp(a)),f&&(a.r=f),h.rSetter=function(a){k(this.element,{rx:a,ry:a})},h.attr(a)},setSize:function(a,b,c){var d=this.alignedObjects,e=d.length;for(this.width=a,this.height=b,this.boxWrapper[Qb(c,!0)?"animate":"attr"]({width:a,height:b});e--;)d[e].align()},g:function(a){var b=this.createElement("g");return j(a)?b.attr({"class":"highcharts-"+a}):b},image:function(a,b,c,d,e){var f={preserveAspectRatio:Kb};return arguments.length>1&&Pb(f,{x:b,y:c,width:d,height:e}),f=this.createElement("image").attr(f),f.element.setAttributeNS?f.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):f.element.setAttribute("hc-svg-href",a),f},symbol:function(a,b,c,d,e,f){var g,h,i,j=this.symbols[a],j=j&&j(jb(b),jb(c),d,e,f),k=/^url\((.*?)\)$/;return j?(g=this.path(j),Pb(g,{symbolName:a,x:b,y:c,width:d,height:e}),f&&Pb(g,f)):k.test(a)&&(i=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(jb((d-b[0])/2),jb((e-b[1])/2)))},h=a.match(k)[1],a=Eb[h]||f&&f.width&&f.height&&[f.width,f.height],g=this.image(h).attr({x:b,y:c}),g.isImg=!0,a?i(g,a):(g.attr({width:0,height:0}),n("img",{onload:function(){i(g,Eb[h]=[this.width,this.height])},src:h}))),g},symbols:{circle:function(a,b,c,d){var e=.166*c;return["M",a+c/2,b,"C",a+c+e,b,a+c+e,b+d,a+c/2,b+d,"C",a-e,b+d,a-e,b,a+c/2,b,"Z"]},square:function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(a,b,c,d,e){var f=e.start,c=e.r||c||d,g=e.end-.001,d=e.innerR,h=e.open,i=pb(f),j=qb(f),k=pb(g),g=qb(g),e=e.end-f<rb?0:1;return["M",a+c*i,b+c*j,"A",c,c,0,e,1,a+c*k,b+c*g,h?"M":"L",a+d*k,b+d*g,"A",d,d,0,e,0,a+d*i,b+d*j,h?"":"Z"]},callout:function(a,b,c,d,e){var f,g=nb(e&&e.r||0,c,d),h=g+6,i=e&&e.anchorX,e=e&&e.anchorY;return f=["M",a+g,b,"L",a+c-g,b,"C",a+c,b,a+c,b,a+c,b+g,"L",a+c,b+d-g,"C",a+c,b+d,a+c,b+d,a+c-g,b+d,"L",a+g,b+d,"C",a,b+d,a,b+d,a,b+d-g,"L",a,b+g,"C",a,b,a,b,a+g,b],i&&i>c&&e>b+h&&b+d-h>e?f.splice(13,3,"L",a+c,e-6,a+c+6,e,a+c,e+6,a+c,b+d-g):i&&0>i&&e>b+h&&b+d-h>e?f.splice(33,3,"L",a,e+6,a-6,e,a,e-6,a,b+g):e&&e>d&&i>a+h&&a+c-h>i?f.splice(23,3,"L",i+6,b+d,i,b+d+6,i-6,b+d,a+g,b+d):e&&0>e&&i>a+h&&a+c-h>i&&f.splice(3,3,"L",i-6,b,i,b-6,i+6,b,c-g,b),f}},clipRect:function(a,b,c,d){var e="highcharts-"+Fb++,f=this.createElement("clipPath").attr({id:e}).add(this.defs),a=this.rect(a,b,c,d,0).add(f);return a.id=e,a.clipPath=f,a.count=0,a},text:function(a,b,c,d){var e=Db||!Bb&&this.forExport,f={};return d&&!this.forExport?this.html(a,b,c):(f.x=Math.round(b||0),c&&(f.y=Math.round(c)),(a||0===a)&&(f.text=a),a=this.createElement("text").attr(f),e&&a.css({position:"absolute"}),d||(a.xSetter=function(a,b,c){var d,e,f=c.getElementsByTagName("tspan"),g=c.getAttribute(b);for(e=0;e<f.length;e++)d=f[e],d.getAttribute(b)===g&&d.setAttribute(b,a);c.setAttribute(b,a)}),a)},fontMetrics:function(a,c){var d,e,a=a||this.style.fontSize;return c&&hb.getComputedStyle&&(c=c.element||c,a=(d=hb.getComputedStyle(c,""))&&d.fontSize),a=/px/.test(a)?b(a):/em/.test(a)?12*parseFloat(a):12,d=24>a?a+3:jb(1.2*a),e=jb(.8*d),{h:d,b:e,f:a}},rotCorr:function(a,b,c){var d=a;return b&&c&&(d=mb(d*pb(b*sb),4)),{x:-a/3*qb(b*sb),y:d}},label:function(b,c,d,e,f,g,h,i,k){function l(){var a,b;a=y.element.style,p=(void 0===q||void 0===r||x.styles.textAlign)&&j(y.textStr)&&y.getBBox(),x.width=(q||p.width||0)+2*A+B,x.height=(r||p.height||0)+2*A,u=A+w.fontMetrics(a&&a.fontSize,y).b,v&&(o||(a=jb(-z*A)+C,b=(i?-u:0)+C,x.box=o=e?w.symbol(e,a,b,x.width,x.height,E):w.rect(a,b,x.width,x.height,0,E[Nb]),o.isImg||o.attr("fill",Kb),o.add(x)),o.isImg||o.attr(Pb({width:jb(x.width),height:jb(x.height)},E)),E=null)}function m(){var a,b=x.styles,b=b&&b.textAlign,c=B+A*(1-z);a=i?0:u,j(q)&&p&&("center"===b||"right"===b)&&(c+={center:.5,right:1}[b]*(q-p.width)),(c!==y.x||a!==y.y)&&(y.attr("x",c),a!==I&&y.attr("y",a)),y.x=c,y.y=a}function n(a,b){o?o.attr(a,b):E[a]=b}var o,p,q,r,s,t,u,v,w=this,x=w.g(k),y=w.text("",0,0,h).attr({zIndex:1}),z=0,A=3,B=0,C=0,E={};x.onAdd=function(){y.add(x),x.attr({text:b||0===b?b:"",x:c,y:d}),o&&j(f)&&x.attr({anchorX:f,anchorY:g})},x.widthSetter=function(a){q=a},x.heightSetter=function(a){r=a},x.paddingSetter=function(a){j(a)&&a!==A&&(A=x.padding=a,m())},x.paddingLeftSetter=function(a){j(a)&&a!==B&&(B=a,m())},x.alignSetter=function(a){z={left:0,center:.5,right:1}[a]},x.textSetter=function(a){a!==I&&y.textSetter(a),l(),m()},x["stroke-widthSetter"]=function(a,b){a&&(v=!0),C=a%2/2,n(b,a)},x.strokeSetter=x.fillSetter=x.rSetter=function(a,b){"fill"===b&&a&&(v=!0),n(b,a)},x.anchorXSetter=function(a,b){f=a,n(b,jb(a)-C-s)},x.anchorYSetter=function(a,b){g=a,n(b,a-t)},x.xSetter=function(a){x.x=a,z&&(a-=z*((q||p.width)+A)),s=jb(a),x.attr("translateX",s)},x.ySetter=function(a){t=x.y=jb(a),x.attr("translateY",t)};var F=x.css;return Pb(x,{css:function(b){if(b){var c={},b=a(b);Xb(x.textProps,function(a){b[a]!==I&&(c[a]=b[a],delete b[a])}),y.css(c)}return F.call(x,b)},getBBox:function(){return{width:p.width+2*A,height:p.height+2*A,x:p.x-A,y:p.y-A}},shadow:function(a){return o&&o.shadow(a),x},destroy:function(){ac(x.element,"mouseenter"),ac(x.element,"mouseleave"),y&&(y=y.destroy()),o&&(o=o.destroy()),D.prototype.destroy.call(x),x=w=l=m=n=null}})}},J=kc,Pb(D.prototype,{htmlCss:function(a){var b=this.element;return(b=a&&"SPAN"===b.tagName&&a.width)&&(delete a.width,this.textWidth=b,this.updateTransform()),a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden"),this.styles=Pb(this.styles,a),m(this.element,a),this},htmlGetBBox:function(){var a=this.element;return"text"===a.nodeName&&(a.style.position="absolute"),{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,c=this.element,d=this.translateX||0,e=this.translateY||0,f=this.x||0,g=this.y||0,h=this.textAlign||"left",i={left:0,center:.5,right:1}[h],k=this.shadows,l=this.styles;if(m(c,{marginLeft:d,marginTop:e}),k&&Xb(k,function(a){m(a,{marginLeft:d+1,marginTop:e+1})}),this.inverted&&Xb(c.childNodes,function(b){a.invertChild(b,c)}),"SPAN"===c.tagName){var n,o=this.rotation,p=b(this.textWidth),q=[o,h,c.innerHTML,this.textWidth,this.textAlign].join(",");q!==this.cTT&&(n=a.fontMetrics(c.style.fontSize).b,j(o)&&this.setSpanRotation(o,i,n),k=Qb(this.elemWidth,c.offsetWidth),k>p&&/[ \-]/.test(c.textContent||c.innerText)&&(m(c,{width:p+"px",display:"block",whiteSpace:l&&l.whiteSpace||"normal"}),k=p),this.getSpanCorrection(k,n,i,o,h)),m(c,{left:f+(this.xCorr||0)+"px",top:g+(this.yCorr||0)+"px"}),xb&&(n=c.offsetHeight),this.cTT=q}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,c){var d={},e=vb?"-ms-transform":xb?"-webkit-transform":yb?"MozTransform":ub?"-o-transform":"";d[e]=d.transform="rotate("+a+"deg)",d[e+(yb?"Origin":"-origin")]=d.transformOrigin=100*b+"% "+c+"px",m(this.element,d)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c,this.yCorr=-b}}),Pb(kc.prototype,{html:function(a,b,c){var d=this.createElement("span"),e=d.element,f=d.renderer;return d.textSetter=function(a){a!==e.innerHTML&&delete this.bBox,e.innerHTML=this.textStr=a,d.htmlUpdateTransform()},d.xSetter=d.ySetter=d.alignSetter=d.rotationSetter=function(a,b){"align"===b&&(b="textAlign"),d[b]=a,d.htmlUpdateTransform()},d.attr({text:a,x:jb(b),y:jb(c)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),e.style.whiteSpace="nowrap",d.css=d.htmlCss,f.isSVG&&(d.add=function(a){var b,c=f.box.parentNode,g=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)g.push(a),a=a.parentGroup;Xb(g.reverse(),function(a){var d,e=k(a.element,"class");e&&(e={className:e}),b=a.div=a.div||n(Jb,e,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px"},b||c),d=b.style,Pb(a,{translateXSetter:function(b,c){d.left=b+"px",a[c]=b,a.doTransform=!0},translateYSetter:function(b,c){d.top=b+"px",a[c]=b,a.doTransform=!0}}),Rb(a,"visibilitySetter",function(a,b,c,e){a.call(this,b,c,e),d[c]=b})})}}else b=c;return b.appendChild(e),d.added=!0,d.alignOnAdd&&d.htmlUpdateTransform(),d}),d}});var lc;Bb||Db||(Tb={init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],d=["position: ","absolute",";"],e=b===Jb;("shape"===b||e)&&d.push("left:0;top:0;width:1px;height:1px;"),d.push("visibility: ",e?"hidden":"visible"),c.push(' style="',d.join(""),'"/>'),b&&(c=e||"span"===b||"img"===b?c.join(""):a.prepVML(c),this.element=n(c)),this.renderer=a},add:function(a){var b=this.renderer,c=this.element,d=b.box,d=a?a.element||a:d;return a&&a.inverted&&b.invertChild(c,d),d.appendChild(c),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:D.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=pb(a*sb),c=qb(a*sb);m(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-c,", M21=",c,", M22=",b,", sizingMethod='auto expand')"].join(""):Kb})},getSpanCorrection:function(a,b,c,d,e){var f,g=d?pb(d*sb):1,h=d?qb(d*sb):0,i=Qb(this.elemHeight,this.element.offsetHeight);this.xCorr=0>g&&-a,this.yCorr=0>h&&-i,f=0>g*h,this.xCorr+=h*b*(f?1-c:c),this.yCorr-=g*b*(d?f?c:1-c:1),e&&"left"!==e&&(this.xCorr-=a*c*(0>g?-1:1),d&&(this.yCorr-=i*c*(0>h?-1:1)),m(this.element,{textAlign:e}))},pathToVML:function(a){for(var b=a.length,c=[];b--;)f(a[b])?c[b]=jb(10*a[b])-5:"Z"===a[b]?c[b]="x":(c[b]=a[b],!a.isArc||"wa"!==a[b]&&"at"!==a[b]||(c[b+5]===c[b+7]&&(c[b+7]+=a[b+7]>a[b+5]?1:-1),c[b+6]===c[b+8]&&(c[b+8]+=a[b+8]>a[b+6]?1:-1)));return c.join(" ")||"x"},clip:function(a){var b,c=this;return a?(b=a.members,i(b,c),b.push(c),c.destroyClip=function(){i(b,c)},a=a.getCSS(c)):(c.destroyClip&&c.destroyClip(),a={clip:wb?"inherit":"rect(auto)"}),c.css(a)},css:D.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&y(a)},destroy:function(){return this.destroyClip&&this.destroyClip(),D.prototype.destroy.apply(this)},on:function(a,b){return this.element["on"+a]=function(){var a=hb.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,c){var d,a=a.split(/[ ,]/);return d=a.length,(9===d||11===d)&&(a[d-4]=a[d-2]=b(a[d-2])-10*c),a.join(" ")},shadow:function(a,c,d){var e,f,g,h,i,j,k,l=[],m=this.element,o=this.renderer,p=m.style,q=m.path;if(q&&"string"!=typeof q.value&&(q="x"),i=q,a){for(j=Qb(a.width,3),k=(a.opacity||.15)/j,e=1;3>=e;e++)h=2*j+1-2*e,d&&(i=this.cutOffPath(q.value,h+.5)),g=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',i,'" coordsize="10 10" style="',m.style.cssText,'" />'],f=n(o.prepVML(g),null,{left:b(p.left)+Qb(a.offsetX,1),top:b(p.top)+Qb(a.offsetY,1)}),d&&(f.cutOff=h+1),g=['<stroke color="',a.color||"black",'" opacity="',k*e,'"/>'],n(o.prepVML(g),null,null,f),c?c.element.appendChild(f):m.parentNode.insertBefore(f,m),l.push(f);this.shadows=l}return this},updateShadows:Gb,setAttr:function(a,b){wb?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(a,b,c){(c.getElementsByTagName("stroke")[0]||n(this.renderer.prepVML(["<stroke/>"]),null,null,c))[b]=a||"solid",this[b]=a},dSetter:function(a,b,c){var d=this.shadows,a=a||[];if(this.d=a.join&&a.join(" "),c.path=a=this.pathToVML(a),d)for(c=d.length;c--;)d[c].path=d[c].cutOff?this.cutOffPath(a,d[c].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,c){var d=c.nodeName;"SPAN"===d?c.style.color=a:"IMG"!==d&&(c.filled=a!==Kb,this.setAttr("fillcolor",this.renderer.color(a,c,b,this)))},opacitySetter:Gb,rotationSetter:function(a,b,c){c=c.style,this[b]=c[b]=a,c.left=-jb(qb(a*sb)+1)+"px",c.top=jb(pb(a*sb))+"px"},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b))},"stroke-widthSetter":function(a,b,c){c.stroked=!!a,this[b]=a,f(a)&&(a+="px"),this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,c){"inherit"===a&&(a="visible"),this.shadows&&Xb(this.shadows,function(c){c.style[b]=a}),"DIV"===c.nodeName&&(a="hidden"===a?"-999em":0,wb||(c.style[b]=a?"visible":"hidden"),b="top"),c.style[b]=a},xSetter:function(a,b,c){this[b]=a,"x"===b?b="left":"y"===b&&(b="top"),this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a},zIndexSetter:function(a,b,c){c.style[b]=a}},fb.VMLElement=Tb=o(D,Tb),Tb.prototype.ySetter=Tb.prototype.widthSetter=Tb.prototype.heightSetter=Tb.prototype.xSetter,Tb={Element:Tb,isIE8:tb.indexOf("MSIE 8.0")>-1,init:function(a,b,c,d){var e;if(this.alignedObjects=[],d=this.createElement(Jb).css(Pb(this.getStyle(d),{position:"relative"})),e=d.element,a.appendChild(d.element),this.isVML=!0,this.box=e,this.boxWrapper=d,this.cache={},this.setSize(b,c,!1),!gb.namespaces.hcv){gb.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{gb.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(f){gb.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,c,e){var f=this.createElement(),g=d(a);return Pb(f,{members:[],count:0,left:(g?a.x:a)+1,top:(g?a.y:b)+1,width:(g?a.width:c)-1,height:(g?a.height:e)-1,getCSS:function(a){var b=a.element,c=b.nodeName,a=a.inverted,d=this.top-("shape"===c?b.offsetTop:0),e=this.left,b=e+this.width,f=d+this.height,d={clip:"rect("+jb(a?e:d)+"px,"+jb(a?f:b)+"px,"+jb(a?b:f)+"px,"+jb(a?d:e)+"px)"};return!a&&wb&&"DIV"===c&&Pb(d,{width:b+"px",height:f+"px"}),d},updateClipping:function(){Xb(f.members,function(a){a.element&&a.css(f.getCSS(a))})}})},color:function(a,b,c,d){var e,f,g,h=this,i=/^rgba/,j=Kb;if(a&&a.linearGradient?g="gradient":a&&a.radialGradient&&(g="pattern"),g){var k,l,m,o,p,q,r,s,t=a.linearGradient||a.radialGradient,u="",a=a.stops,v=[],w=function(){f=['<fill colors="'+v.join(",")+'" opacity="',p,'" o:opacity2="',o,'" type="',g,'" ',u,'focus="100%" method="any" />'],n(h.prepVML(f),null,null,b)};if(m=a[0],s=a[a.length-1],m[0]>0&&a.unshift([0,m[1]]),s[0]<1&&a.push([1,s[1]]),Xb(a,function(a,b){i.test(a[1])?(e=jc(a[1]),k=e.get("rgb"),l=e.get("a")):(k=a[1],l=1),v.push(100*a[0]+"% "+k),b?(p=l,q=k):(o=l,r=k)}),"fill"===c)if("gradient"===g)c=t.x1||t[0]||0,a=t.y1||t[1]||0,m=t.x2||t[2]||0,t=t.y2||t[3]||0,u='angle="'+(90-180*ib.atan((t-a)/(m-c))/rb)+'"',w();else{var x,j=t.r,y=2*j,z=2*j,A=t.cx,B=t.cy,C=b.radialReference,j=function(){C&&(x=d.getBBox(),A+=(C[0]-x.x)/x.width-.5,B+=(C[1]-x.y)/x.height-.5,y*=C[2]/x.width,z*=C[2]/x.height),u='src="'+M.global.VMLRadialGradientURL+'" size="'+y+","+z+'" origin="0.5,0.5" position="'+A+","+B+'" color2="'+r+'" ',w()};d.added?j():d.onAdd=j,j=q}else j=k}else i.test(a)&&"IMG"!==b.tagName?(e=jc(a),f=["<",c,' opacity="',e.get("a"),'"/>'],n(this.prepVML(f),null,null,b),j=e.get("rgb")):(j=b.getElementsByTagName(c),j.length&&(j[0].opacity=1,j[0].type="solid"),j=a);
return j},prepVML:function(a){var b=this.isIE8,a=a.join("");return b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:"),a},text:kc.prototype.html,path:function(a){var b={coordsize:"10 10"};return e(a)?b.d=a:d(a)&&Pb(b,a),this.createElement("shape").attr(b)},circle:function(a,b,c){var e=this.symbol("circle");return d(a)&&(c=a.r,b=a.y,a=a.x),e.isCircle=!0,e.r=c,e.attr({x:a,y:b})},g:function(a){var b;return a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a}),this.createElement(Jb).attr(b)},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});return arguments.length>1&&f.attr({x:b,y:c,width:d,height:e}),f},createElement:function(a){return"rect"===a?this.symbol(a):kc.prototype.createElement.call(this,a)},invertChild:function(a,c){var d=this,e=c.style,f="IMG"===a.tagName&&a.style;m(a,{flip:"x",left:b(e.width)-(f?b(f.top):1),top:b(e.height)-(f?b(f.left):1),rotation:-90}),Xb(a.childNodes,function(b){d.invertChild(b,a)})},symbols:{arc:function(a,b,c,d,e){var f=e.start,g=e.end,h=e.r||c||d,c=e.innerR,d=pb(f),i=qb(f),j=pb(g),k=qb(g);return g-f===0?["x"]:(f=["wa",a-h,b-h,a+h,b+h,a+h*d,b+h*i,a+h*j,b+h*k],e.open&&!c&&f.push("e","M",a,b),f.push("at",a-c,b-c,a+c,b+c,a+c*j,b+c*k,a+c*d,b+c*i,"x","e"),f.isArc=!0,f)},circle:function(a,b,c,d,e){return e&&(c=d=2*e.r),e&&e.isCircle&&(a-=c/2,b-=d/2),["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(a,b,c,d,e){return kc.prototype.symbols[j(e)&&e.r?"callout":"square"].call(0,a,b,c,d,e)}}},fb.VMLRenderer=lc=function(){this.init.apply(this,arguments)},lc.prototype=a(kc.prototype,Tb),J=lc),kc.prototype.measureSpanWidth=function(a,b){var c,d=gb.createElement("span");return c=gb.createTextNode(a),d.appendChild(c),m(d,b),this.box.appendChild(d),c=d.offsetWidth,y(d),c};var mc;Db&&(fb.CanVGRenderer=Tb=function(){Ab="http://www.w3.org/1999/xhtml"},Tb.prototype.symbols={},mc=function(){function a(){var a,c=b.length;for(a=0;c>a;a++)b[a]();b=[]}var b=[];return{push:function(c,d){0===b.length&&Vb(d,a),b.push(c)}}}(),J=Tb),E.prototype={addLabel:function(){var b,c=this.axis,d=c.options,e=c.chart,f=c.categories,g=c.names,i=this.pos,k=d.labels,l=c.tickPositions,m=i===l[0],n=i===l[l.length-1],g=f?Qb(f[i],g[i],i):i,f=this.label,l=l.info;c.isDatetimeAxis&&l&&(b=d.dateTimeLabelFormats[l.higherRanks[i]||l.unitName]),this.isFirst=m,this.isLast=n,d=c.labelFormatter.call({axis:c,chart:e,isFirst:m,isLast:n,dateTimeLabelFormat:b,value:c.isLog?A(h(g)):g}),j(f)?f&&f.attr({text:d}):(this.labelLength=(this.label=f=j(d)&&k.enabled?e.renderer.text(d,0,0,k.useHTML).css(a(k.style)).add(c.labelGroup):null)&&f.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var b,c=this.axis,d=a.x,e=c.chart.chartWidth,f=c.chart.spacing,g=Qb(c.labelLeft,nb(c.pos,f[3])),f=Qb(c.labelRight,mb(c.pos+c.len,e-f[1])),h=this.label,i=this.rotation,j={left:0,center:.5,right:1}[c.labelAlign],k=h.getBBox().width,l=c.slotWidth,m=1,n={};i?0>i&&g>d-j*k?b=jb(d/pb(i*sb)-g):i>0&&d+j*k>f&&(b=jb((e-d)/pb(i*sb))):(e=d+(1-j)*k,g>d-j*k?l=a.x+l*(1-j)-g:e>f&&(l=f-a.x+l*j,m=-1),l=nb(c.slotWidth,l),l<c.slotWidth&&"center"===c.labelAlign&&(a.x+=m*(c.slotWidth-l-j*(c.slotWidth-nb(k,l)))),(k>l||c.autoRotation&&h.styles.width)&&(b=l)),b&&(n.width=b,c.options.labels.style.textOverflow||(n.textOverflow="ellipsis"),h.css(n))},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,b,c,d,e,f,g,h){var i=this.axis,j=i.transA,k=i.reversed,l=i.staggerLines,m=i.tickRotCorr||{x:0,y:0},c=Qb(e.y,m.y+(2===i.side?8:-(c.getBBox().height/2))),a=a+e.x+m.x-(f&&d?f*j*(k?-1:1):0),b=b+c-(f&&!d?f*j*(k?1:-1):0);return l&&(b+=g/(h||1)%l*(i.labelOffset/l)),{x:a,y:jb(b)}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine(["M",a,b,"L",a+(e?0:-c),b+(e?c:0)],d)},render:function(a,b,c){var d=this.axis,e=d.options,f=d.chart.renderer,g=d.horiz,h=this.type,i=this.label,j=this.pos,k=e.labels,l=this.gridLine,m=h?h+"Grid":"grid",n=h?h+"Tick":"tick",o=e[m+"LineWidth"],p=e[m+"LineColor"],q=e[m+"LineDashStyle"],r=e[n+"Length"],m=Qb(e[n+"Width"],!h&&d.isXAxis?1:0),s=e[n+"Color"],t=e[n+"Position"],n=this.mark,u=k.step,v=!0,w=d.tickmarkOffset,x=this.getPosition(g,j,w,b),y=x.x,x=x.y,z=g&&y===d.pos+d.len||!g&&x===d.pos?-1:1,c=Qb(c,1);this.isActive=!0,o&&(j=d.getPlotLinePath(j+w,o*z,b,!0),l===I&&(l={stroke:p,"stroke-width":o},q&&(l.dashstyle=q),h||(l.zIndex=1),b&&(l.opacity=0),this.gridLine=l=o?f.path(j).attr(l).add(d.gridGroup):null),!b&&l&&j&&l[this.isNew?"attr":"animate"]({d:j,opacity:c})),m&&r&&("inside"===t&&(r=-r),d.opposite&&(r=-r),h=this.getMarkPath(y,x,r,m*z,g,f),n?n.animate({d:h,opacity:c}):this.mark=f.path(h).attr({stroke:s,"stroke-width":m,opacity:c}).add(d.axisGroup)),i&&!isNaN(y)&&(i.xy=x=this.getLabelPosition(y,x,i,g,k,w,a,u),this.isFirst&&!this.isLast&&!Qb(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Qb(e.showLastLabel,1)?v=!1:g&&!d.isRadial&&!k.step&&!k.rotation&&!b&&0!==c&&this.handleOverflow(x),u&&a%u&&(v=!1),v&&!isNaN(x.y)?(x.opacity=c,i[this.isNew?"attr":"animate"](x),this.isNew=!1):i.attr("y",-9999))},destroy:function(){x(this,this.axis)}},fb.PlotLineOrBand=function(a,b){this.axis=a,b&&(this.options=b,this.id=b.id)},fb.PlotLineOrBand.prototype={render:function(){var b,c=this,d=c.axis,e=d.horiz,f=c.options,h=f.label,i=c.label,k=f.width,l=f.to,m=f.from,n=j(m)&&j(l),o=f.value,p=f.dashStyle,q=c.svgElem,r=[],s=f.color,t=f.zIndex,u=f.events,x={},y=d.chart.renderer;if(d.isLog&&(m=g(m),l=g(l),o=g(o)),k)r=d.getPlotLinePath(o,k),x={stroke:s,"stroke-width":k},p&&(x.dashstyle=p);else{if(!n)return;r=d.getPlotBandPath(m,l,f),s&&(x.fill=s),f.borderWidth&&(x.stroke=f.borderColor,x["stroke-width"]=f.borderWidth)}if(j(t)&&(x.zIndex=t),q)r?q.animate({d:r},null,q.onGetPath):(q.hide(),q.onGetPath=function(){q.show()},i&&(c.label=i=i.destroy()));else if(r&&r.length&&(c.svgElem=q=y.path(r).attr(x).add(),u))for(b in f=function(a){q.on(a,function(b){u[a].apply(c,[b])})},u)f(b);return h&&j(h.text)&&r&&r.length&&d.width>0&&d.height>0?(h=a({align:e&&n&&"center",x:e?!n&&4:10,verticalAlign:!e&&n&&"middle",y:e?n?16:10:n?6:-4,rotation:e&&!n&&90},h),i||(x={align:h.textAlign||h.align,rotation:h.rotation},j(t)&&(x.zIndex=t),c.label=i=y.text(h.text,0,0,h.useHTML).attr(x).css(h.style).add()),d=[r[1],r[4],n?r[6]:r[1]],n=[r[2],r[5],n?r[7]:r[2]],r=v(d),e=v(n),i.align(h,!1,{x:r,y:e,width:w(d)-r,height:w(n)-e}),i.show()):i&&i.hide(),c},destroy:function(){i(this.axis.plotLinesAndBands,this),delete this.axis,x(this)}};var nc=fb.Axis=function(){this.init.apply(this,arguments)};nc.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return fb.numberFormat(this.total,-1)},style:a(fc.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(a,b){var c=b.isX;this.chart=a,this.horiz=a.inverted?!c:c,this.coll=(this.isXAxis=c)?"xAxis":"yAxis",this.opposite=b.opposite,this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(b);var d=this.options,e=d.type;this.labelFormatter=d.labels.formatter||this.defaultLabelFormatter,this.userOptions=b,this.minPixelPadding=0,this.reversed=d.reversed,this.zoomEnabled=d.zoomEnabled!==!1,this.categories=d.categories||"category"===e,this.names=this.names||[],this.isLog="logarithmic"===e,this.isDatetimeAxis="datetime"===e,this.isLinked=j(d.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=d.minRange||d.maxZoom,this.range=d.range,this.offset=d.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Qb(d.crosshair,l(a.options.tooltip.crosshairs)[c?0:1],!1);var f,d=this.options.events;-1===Wb(this,a.axes)&&(c&&!this.isColorAxis?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this)),this.series=this.series||[],a.inverted&&c&&this.reversed===I&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(f in d)_b(this,f,d[f]);this.isLog&&(this.val2lin=g,this.lin2val=h)},setOptions:function(b){this.options=a(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],a(M[this.coll],b))},defaultLabelFormatter:function(){var a,b=this.axis,c=this.value,d=b.categories,e=this.dateTimeLabelFormat,f=M.lang.numericSymbols,g=f&&f.length,h=b.options.labels.format,b=b.isLog?c:b.tickInterval;if(h)a=r(h,this);else if(d)a=c;else if(e)a=N(e,c);else if(g&&b>=1e3)for(;g--&&a===I;)d=Math.pow(1e3,g+1),b>=d&&10*c%d===0&&null!==f[g]&&(a=fb.numberFormat(c/d,-1)+f[g]);return a===I&&(a=ob(c)>=1e4?fb.numberFormat(c,-1):fb.numberFormat(c,-1,I,"")),a},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1,a.dataMin=a.dataMax=a.ignoreMinPadding=a.ignoreMaxPadding=null,a.buildStacks&&a.buildStacks(),Xb(a.series,function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var d;d=c.options.threshold;var e;a.hasVisibleSeries=!0,a.isLog&&0>=d&&(d=null),a.isXAxis?(d=c.xData,d.length&&(a.dataMin=nb(Qb(a.dataMin,d[0]),v(d)),a.dataMax=mb(Qb(a.dataMax,d[0]),w(d)))):(c.getExtremes(),e=c.dataMax,c=c.dataMin,j(c)&&j(e)&&(a.dataMin=nb(Qb(a.dataMin,c),c),a.dataMax=mb(Qb(a.dataMax,e),e)),j(d)&&(a.dataMin>=d?(a.dataMin=d,a.ignoreMinPadding=!0):a.dataMax<d&&(a.dataMax=d,a.ignoreMaxPadding=!0)))}})},translate:function(a,b,c,d,e,g){var h=this.linkedParent||this,i=1,j=0,k=d?h.oldTransA:h.transA,d=d?h.oldMin:h.min,l=h.minPixelPadding,e=(h.doPostTranslate||h.isLog&&e)&&h.lin2val;return k||(k=h.transA),c&&(i*=-1,j=h.len),h.reversed&&(i*=-1,j-=i*(h.sector||h.len)),b?(a=a*i+j,a-=l,a=a/k+d,e&&(a=h.lin2val(a))):(e&&(a=h.val2lin(a)),"between"===g&&(g=.5),a=i*(a-d)*k+j+i*l+(f(g)?k*g*h.pointRange:0)),a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,d,e){var f,g,h,i=this.chart,j=this.left,k=this.top,l=c&&i.oldChartHeight||i.chartHeight,m=c&&i.oldChartWidth||i.chartWidth;f=this.transB;var n=function(a,b,c){return(b>a||a>c)&&(d?a=nb(mb(b,a),c):h=!0),a},e=Qb(e,this.translate(a,null,null,c)),a=c=jb(e+f);return f=g=jb(l-e-f),isNaN(e)?h=!0:this.horiz?(f=k,g=l-this.bottom,a=c=n(a,j,j+this.width)):(a=j,c=m-this.right,f=g=n(f,k,k+this.height)),h&&!d?null:i.renderer.crispLine(["M",a,f,"L",c,g],b||1)},getLinearTickPositions:function(a,b,c){var d,e=A(kb(b/a)*a),g=A(lb(c/a)*a),h=[];if(b===c&&f(b))return[b];for(b=e;g>=b&&(h.push(b),b=A(b+a),b!==d);)d=b;return h},getMinorTickPositions:function(){var a,b=this.options,c=this.tickPositions,d=this.minorTickInterval,e=[],f=this.pointRangePadding||0;a=this.min-f;var f=this.max+f,g=f-a;if(g&&g/d<this.len/3)if(this.isLog)for(f=c.length,a=1;f>a;a++)e=e.concat(this.getLogTickPositions(d,c[a-1],c[a],!0));else if(this.isDatetimeAxis&&"auto"===b.minorTickInterval)e=e.concat(this.getTimeTicks(this.normalizeTimeTickInterval(d),a,f,b.startOfWeek));else for(c=a+(c[0]-a)%d;f>=c;c+=d)e.push(c);return 0!==e.length&&this.trimTicks(e,b.startOnTick,b.endOnTick),e},adjustForMinRange:function(){var a,b,c,d,e,f,g=this.options,h=this.min,i=this.max,k=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===I&&!this.isLog&&(j(g.min)||j(g.max)?this.minRange=null:(Xb(this.series,function(a){for(e=a.xData,c=f=a.xIncrement?1:e.length-1;c>0;c--)d=e[c]-e[c-1],(b===I||b>d)&&(b=d)}),this.minRange=nb(5*b,this.dataMax-this.dataMin))),i-h<this.minRange){var l=this.minRange;a=(l-i+h)/2,a=[h-a,Qb(g.min,h-a)],k&&(a[2]=this.dataMin),h=w(a),i=[h+l,Qb(g.max,h+l)],k&&(i[2]=this.dataMax),i=v(i),l>i-h&&(a[0]=i-l,a[1]=Qb(g.min,i-l),h=w(a))}this.min=h,this.max=i},setAxisTranslation:function(a){var b,d=this,e=d.max-d.min,f=d.axisPointRange||0,g=0,h=0,i=d.linkedParent,k=!!d.categories,l=d.transA,m=d.isXAxis;(m||k||f)&&(i?(g=i.minPointOffset,h=i.pointRangePadding):Xb(d.series,function(a){var i=k?1:m?a.pointRange:d.axisPointRange||0,l=a.options.pointPlacement,n=a.closestPointRange;i>e&&(i=0),f=mb(f,i),d.single||(g=mb(g,c(l)?0:i/2),h=mb(h,"on"===l?0:i)),!a.noSharedTooltip&&j(n)&&(b=j(b)?nb(b,n):n)}),i=d.ordinalSlope&&b?d.ordinalSlope/b:1,d.minPointOffset=g*=i,d.pointRangePadding=h*=i,d.pointRange=nb(f,e),m&&(d.closestPointRange=b)),a&&(d.oldTransA=l),d.translationSlope=d.transA=l=d.len/(e+h||1),d.transB=d.horiz?d.left:d.bottom,d.minPixelPadding=l*g},minFromRange:function(){return this.max-this.range},setTickInterval:function(a){var b=this,c=b.chart,d=b.options,e=b.isLog,h=b.isDatetimeAxis,i=b.isXAxis,k=b.isLinked,l=d.maxPadding,m=d.minPadding,n=d.tickInterval,o=d.tickPixelInterval,p=b.categories;!h&&!p&&!k&&this.getTickAmount(),k?(b.linkedParent=c[b.coll][d.linkedTo],c=b.linkedParent.getExtremes(),b.min=Qb(c.min,c.dataMin),b.max=Qb(c.max,c.dataMax),d.type!==b.linkedParent.options.type&&z(11,1)):(b.min=Qb(b.userMin,d.min,b.dataMin),b.max=Qb(b.userMax,d.max,b.dataMax)),e&&(!a&&nb(b.min,Qb(b.dataMin,b.min))<=0&&z(10,1),b.min=A(g(b.min),15),b.max=A(g(b.max),15)),b.range&&j(b.max)&&(b.userMin=b.min=mb(b.min,b.minFromRange()),b.userMax=b.max,b.range=null),b.beforePadding&&b.beforePadding(),b.adjustForMinRange(),p||b.axisPointRange||b.usePercentage||k||!j(b.min)||!j(b.max)||!(c=b.max-b.min)||(j(d.min)||j(b.userMin)||!m||!(b.dataMin<0)&&b.ignoreMinPadding||(b.min-=c*m),j(d.max)||j(b.userMax)||!l||!(b.dataMax>0)&&b.ignoreMaxPadding||(b.max+=c*l)),f(d.floor)&&(b.min=mb(b.min,d.floor)),f(d.ceiling)&&(b.max=nb(b.max,d.ceiling)),b.tickInterval=b.min===b.max||void 0===b.min||void 0===b.max?1:k&&!n&&o===b.linkedParent.options.tickPixelInterval?n=b.linkedParent.tickInterval:Qb(n,this.tickAmount?(b.max-b.min)/mb(this.tickAmount-1,1):void 0,p?1:(b.max-b.min)*o/mb(b.len,o)),i&&!a&&Xb(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax)}),b.setAxisTranslation(!0),b.beforeSetTickPositions&&b.beforeSetTickPositions(),b.postProcessTickInterval&&(b.tickInterval=b.postProcessTickInterval(b.tickInterval)),b.pointRange&&(b.tickInterval=mb(b.pointRange,b.tickInterval)),a=Qb(d.minTickInterval,b.isDatetimeAxis&&b.closestPointRange),!n&&b.tickInterval<a&&(b.tickInterval=a),h||e||n||(b.tickInterval=t(b.tickInterval,null,s(b.tickInterval),Qb(d.allowDecimals,!(b.tickInterval>.5&&b.tickInterval<5&&b.max>1e3&&b.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(b.tickInterval=b.unsquish()),this.setTickPositions()},setTickPositions:function(){var a,b,c=this.options,d=c.tickPositions,e=c.tickPositioner,f=c.startOnTick,g=c.endOnTick;this.tickmarkOffset=this.categories&&"between"===c.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===c.minorTickInterval&&this.tickInterval?this.tickInterval/5:c.minorTickInterval,this.tickPositions=a=d&&d.slice(),!a&&(a=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,c.units),this.min,this.max,c.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),a.length>this.len&&(a=[a[0],a.pop()]),this.tickPositions=a,e&&(e=e.apply(this,[this.min,this.max])))&&(this.tickPositions=a=e),this.isLinked||(this.trimTicks(a,f,g),this.min===this.max&&j(this.min)&&!this.tickAmount&&(b=!0,this.min-=.5,this.max+=.5),this.single=b,!d&&!e&&this.adjustTickAmount())},trimTicks:function(a,b,c){var d=a[0],e=a[a.length-1],f=this.minPointOffset||0;b?this.min=d:this.min-f>d&&a.shift(),c?this.max=e:this.max+f<e&&a.pop(),0===a.length&&j(d)&&a.push((e+d)/2)},getTickAmount:function(){var a,b={},c=this.options,d=c.tickAmount,e=c.tickPixelInterval;!j(c.tickInterval)&&this.len<e&&!this.isRadial&&!this.isLog&&c.startOnTick&&c.endOnTick&&(d=2),!d&&this.chart.options.chart.alignTicks!==!1&&c.alignTicks!==!1&&(Xb(this.chart[this.coll],function(c){var d=c.options,e=c.horiz,d=[e?d.left:d.top,e?d.width:d.height,d.pane].join(",");b[d]?c.series.length&&(a=!0):b[d]=1}),a&&(d=lb(this.len/e)+1)),4>d&&(this.finalTickAmt=d,d=5),this.tickAmount=d},adjustTickAmount:function(){var a=this.tickInterval,b=this.tickPositions,c=this.tickAmount,d=this.finalTickAmt,e=b&&b.length;if(c>e){for(;b.length<c;)b.push(A(b[b.length-1]+a));this.transA*=(e-1)/(c-1),this.max=b[b.length-1]}else e>c&&(this.tickInterval*=2,this.setTickPositions());if(j(d)){for(a=c=b.length;a--;)(3===d&&a%2===1||2>=d&&a>0&&c-1>a)&&b.splice(a,1);this.finalTickAmt=I}},setScale:function(){var a,b;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),b=this.len!==this.oldAxisLength,Xb(this.series,function(b){(b.isDirtyData||b.isDirty||b.xAxis.isDirty)&&(a=!0)}),b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(a,b,c,d,e){var f=this,g=f.chart,c=Qb(c,!0);Xb(f.series,function(a){delete a.kdTree}),e=Pb(e,{min:a,max:b}),bc(f,"setExtremes",e,function(){f.userMin=a,f.userMax=b,f.eventArgs=e,c&&g.redraw(d)})},zoom:function(a,b){var c=this.dataMin,d=this.dataMax,e=this.options,f=nb(c,Qb(e.min,c)),e=mb(d,Qb(e.max,d));return this.allowZoomOutside||(j(c)&&f>=a&&(a=f),j(d)&&b>=e&&(b=e)),this.displayBtn=a!==I||b!==I,this.setExtremes(a,b,!1,I,{trigger:"zoom"}),!0},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsetLeft||0,d=this.horiz,e=Qb(b.width,a.plotWidth-c+(b.offsetRight||0)),f=Qb(b.height,a.plotHeight),g=Qb(b.top,a.plotTop),b=Qb(b.left,a.plotLeft+c),c=/%$/;c.test(f)&&(f=parseFloat(f)/100*a.plotHeight),c.test(g)&&(g=parseFloat(g)/100*a.plotHeight+a.plotTop),this.left=b,this.top=g,this.width=e,this.height=f,this.bottom=a.chartHeight-f-g,this.right=a.chartWidth-e-b,this.len=mb(d?e:f,0),this.pos=d?b:g},getExtremes:function(){var a=this.isLog;return{min:a?A(h(this.min)):this.min,max:a?A(h(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=b?h(this.min):this.min,b=b?h(this.max):this.max;return null===a?a=0>b?b:c:c>a?a=c:a>b&&(a=b),this.translate(a,0,1,0,1)},autoLabelAlign:function(a){return a=(Qb(a,0)-90*this.side+720)%360,a>15&&165>a?"right":a>195&&345>a?"left":"center"},unsquish:function(){var a,b,c,d=this.ticks,e=this.options.labels,f=this.horiz,g=this.tickInterval,h=g,i=this.len/(((this.categories?1:0)+this.max-this.min)/g),k=e.rotation,l=this.chart.renderer.fontMetrics(e.style.fontSize,d[0]&&d[0].label),m=Number.MAX_VALUE,n=function(a){return a/=i||1,a=a>1?lb(a):1,a*g};return f?(c=j(k)?[k]:i<Qb(e.autoRotationLimit,80)&&!e.staggerLines&&!e.step&&e.autoRotation)&&Xb(c,function(c){var d;(c===k||c&&c>=-90&&90>=c)&&(b=n(ob(l.h/qb(sb*c))),d=b+ob(c/360),m>d&&(m=d,a=c,h=b))}):e.step||(h=n(l.h)),this.autoRotation=c,this.labelRotation=a,h},renderUnsquish:function(){var b,d=this.chart,e=d.renderer,f=this.tickPositions,g=this.ticks,h=this.options.labels,i=this.horiz,j=d.margin,k=this.categories?f.length:f.length-1,l=this.slotWidth=i&&!h.step&&!h.rotation&&(this.staggerLines||1)*d.plotWidth/k||!i&&(j[3]&&j[3]-d.spacing[3]||.33*d.chartWidth),m=mb(1,jb(l-2*(h.padding||5))),n={},j=e.fontMetrics(h.style.fontSize,g[0]&&g[0].label),k=h.style.textOverflow,o=0;if(c(h.rotation)||(n.rotation=h.rotation||0),this.autoRotation)Xb(f,function(a){(a=g[a])&&a.labelLength>o&&(o=a.labelLength)}),o>m&&o>j.h?n.rotation=this.labelRotation:this.labelRotation=0;else if(l&&(b={width:m+"px"},!k))for(b.textOverflow="clip",l=f.length;!i&&l--;)m=f[l],(m=g[m].label)&&("ellipsis"===m.styles.textOverflow&&m.css({textOverflow:"clip"}),m.getBBox().height>this.len/f.length-(j.h-j.f)&&(m.specCss={textOverflow:"ellipsis"}));n.rotation&&(b={width:(o>.5*d.chartHeight?.33*d.chartHeight:d.chartHeight)+"px"},!k)&&(b.textOverflow="ellipsis"),this.labelAlign=n.align=h.align||this.autoLabelAlign(this.labelRotation),Xb(f,function(c){var d=(c=g[c])&&c.label;d&&(b&&d.css(a(b,d.specCss)),delete d.specCss,d.attr(n),c.rotation=n.rotation)}),this.tickRotCorr=e.rotCorr(j.b,this.labelRotation||0,2===this.side)},hasData:function(){return this.hasVisibleSeries||j(this.min)&&j(this.max)&&!!this.tickPositions},getOffset:function(){var a,b,c,d,e=this,f=e.chart,g=f.renderer,h=e.options,i=e.tickPositions,k=e.ticks,l=e.horiz,m=e.side,n=f.inverted?[1,0,3,2][m]:m,o=0,p=0,q=h.title,r=h.labels,s=0,t=f.axisOffset,f=f.clipOffset,u=[-1,1,1,-1][m];if(a=e.hasData(),e.showAxis=b=a||Qb(h.showEmpty,!0),e.staggerLines=e.horiz&&r.staggerLines,e.axisGroup||(e.gridGroup=g.g("grid").attr({zIndex:h.gridZIndex||1}).add(),e.axisGroup=g.g("axis").attr({zIndex:h.zIndex||2}).add(),e.labelGroup=g.g("axis-labels").attr({zIndex:r.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels").add()),a||e.isLinked)Xb(i,function(a){k[a]?k[a].addLabel():k[a]=new E(e,a)}),e.renderUnsquish(),Xb(i,function(a){(0===m||2===m||{1:"left",3:"right"}[m]===e.labelAlign)&&(s=mb(k[a].getLabelSize(),s))}),e.staggerLines&&(s*=e.staggerLines,e.labelOffset=s);else for(d in k)k[d].destroy(),delete k[d];q&&q.text&&q.enabled!==!1&&(e.axisTitle||(e.axisTitle=g.text(q.text,0,0,q.useHTML).attr({zIndex:7,rotation:q.rotation||0,align:q.textAlign||{low:"left",middle:"center",high:"right"}[q.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(q.style).add(e.axisGroup),e.axisTitle.isNew=!0),b&&(o=e.axisTitle.getBBox()[l?"height":"width"],c=q.offset,p=j(c)?0:Qb(q.margin,l?5:10)),e.axisTitle[b?"show":"hide"]()),e.offset=u*Qb(h.offset,t[m]),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},g=2===m?e.tickRotCorr.y:0,l=s+p+(s&&u*(l?Qb(r.y,e.tickRotCorr.y+8):r.x)-g),e.axisTitleMargin=Qb(c,l),t[m]=mb(t[m],e.axisTitleMargin+o+u*e.offset,l),h=h.offset?0:2*kb(h.lineWidth/2),f[n]=mb(f[n],h)},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,d=b.chartHeight-this.bottom-(c?this.height:0)+d;return c&&(a*=-1),b.renderer.crispLine(["M",e?this.left:f,e?d:this.top,"L",e?b.chartWidth-this.right:f,e?d:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,c=this.left,d=this.top,e=this.len,f=this.options.title,g=a?c:d,h=this.opposite,i=this.offset,j=f.x||0,k=f.y||0,l=b(f.style.fontSize||12),e={low:g+(a?0:e),middle:g+e/2,high:g+(a?e:0)}[f.align],c=(a?d+this.height:c)+(a?1:-1)*(h?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:a?e+j:c+(h?this.width:0)+i+j,y:a?c+k-(h?this.height:0)+i:e+k}},render:function(){var a,b,c,d=this,e=d.chart,f=e.renderer,g=d.options,i=d.isLog,k=d.isLinked,l=d.tickPositions,m=d.axisTitle,n=d.ticks,o=d.minorTicks,p=d.alternateBands,q=g.stackLabels,r=g.alternateGridColor,s=d.tickmarkOffset,t=g.lineWidth,u=e.hasRendered&&j(d.oldMin)&&!isNaN(d.oldMin),v=d.showAxis,w=f.globalAnimation;d.labelEdge.length=0,d.overlap=!1,Xb([n,o,p],function(a){for(var b in a)a[b].isActive=!1}),(d.hasData()||k)&&(d.minorTickInterval&&!d.categories&&Xb(d.getMinorTickPositions(),function(a){o[a]||(o[a]=new E(d,a,"minor")),u&&o[a].isNew&&o[a].render(null,!0),o[a].render(null,!1,1)}),l.length&&(Xb(l,function(a,b){(!k||a>=d.min&&a<=d.max)&&(n[a]||(n[a]=new E(d,a)),u&&n[a].isNew&&n[a].render(b,!0,.1),n[a].render(b))}),s&&(0===d.min||d.single))&&(n[-1]||(n[-1]=new E(d,-1,null,!0)),n[-1].render(-1)),r&&Xb(l,function(a,e){e%2===0&&a<d.max&&(p[a]||(p[a]=new fb.PlotLineOrBand(d)),b=a+s,c=l[e+1]!==I?l[e+1]+s:d.max,p[a].options={from:i?h(b):b,to:i?h(c):c,color:r},p[a].render(),p[a].isActive=!0)}),d._addedPlotLB||(Xb((g.plotLines||[]).concat(g.plotBands||[]),function(a){d.addPlotBandOrLine(a)}),d._addedPlotLB=!0)),Xb([n,o,p],function(a){var b,c,d=[],f=w?w.duration||500:0,g=function(){for(c=d.length;c--;)a[d[c]]&&!a[d[c]].isActive&&(a[d[c]].destroy(),delete a[d[c]])};for(b in a)a[b].isActive||(a[b].render(b,!1,0),a[b].isActive=!1,d.push(b));a!==p&&e.hasRendered&&f?f&&setTimeout(g,f):g()}),t&&(a=d.getLinePath(t),d.axisLine?d.axisLine.animate({d:a}):d.axisLine=f.path(a).attr({stroke:g.lineColor,"stroke-width":t,zIndex:7}).add(d.axisGroup),d.axisLine[v?"show":"hide"]()),m&&v&&(m[m.isNew?"attr":"animate"](d.getTitlePosition()),m.isNew=!1),q&&q.enabled&&d.renderStackTotals(),d.isDirty=!1},redraw:function(){this.render(),Xb(this.plotLinesAndBands,function(a){a.render()}),Xb(this.series,function(a){a.isDirty=!0})},destroy:function(a){var b,c=this,d=c.stacks,e=c.plotLinesAndBands;a||ac(c);for(b in d)x(d[b]),d[b]=null;for(Xb([c.ticks,c.minorTicks,c.alternateBands],function(a){x(a)}),a=e.length;a--;)e[a].destroy();Xb("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(a){c[a]&&(c[a]=c[a].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(a,b){var c,d=this.crosshair,e=d.animation;!this.crosshair||(j(b)||!Qb(this.crosshair.snap,!0))===!1||b&&b.series&&b.series[this.coll]!==this?this.hideCrosshair():(Qb(d.snap,!0)?j(b)&&(c=this.isXAxis?b.plotX:this.len-b.plotY):c=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos,c=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:Qb(b.stackY,b.y))||null:this.getPlotLinePath(null,null,null,null,c)||null,null===c?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[e?"animate":"attr"]({d:c},e):(e=this.categories&&!this.isRadial,e={"stroke-width":d.width||(e?this.transA:1),stroke:d.color||(e?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:d.zIndex||2},d.dashStyle&&(e.dashstyle=d.dashStyle),this.cross=this.chart.renderer.path(c).attr(e).add()))},hideCrosshair:function(){this.cross&&this.cross.hide()}},Pb(nc.prototype,{getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b,null,null,!0),d=this.getPlotLinePath(a,null,null,!0);return d&&c&&d.toString()!==c.toString()?d.push(c[4],c[5],c[1],c[2]):d=null,d},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(a,b){var c=new fb.PlotLineOrBand(this,a).render(),d=this.userOptions;return c&&(b&&(d[b]=d[b]||[],d[b].push(a)),this.plotLinesAndBands.push(c)),c},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&&b[e].destroy();Xb([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],function(b){for(e=b.length;e--;)b[e].id===a&&i(b,b[e])})}}),nc.prototype.getTimeTicks=function(a,b,c,d){var e,f=[],g={},h=M.global.useUTC,i=new Q(b-q(b)),k=a.unitRange,l=a.count;if(j(b)){i[$](k>=P.second?0:l*kb(i.getMilliseconds()/l)),k>=P.second&&i[_](k>=P.minute?0:l*kb(i.getSeconds()/l)),k>=P.minute&&i[ab](k>=P.hour?0:l*kb(i[U]()/l)),k>=P.hour&&i[bb](k>=P.day?0:l*kb(i[V]()/l)),k>=P.day&&i[cb](k>=P.month?1:l*kb(i[X]()/l)),k>=P.month&&(i[db](k>=P.year?0:l*kb(i[Y]()/l)),e=i[Z]()),k>=P.year&&(e-=e%l,i[eb](e)),k===P.week&&i[cb](i[X]()-i[W]()+Qb(d,1)),b=1,(S||T)&&(i=i.getTime(),i=new Q(i+q(i))),e=i[Z]();for(var d=i.getTime(),m=i[Y](),n=i[X](),o=(P.day+(h?q(i):6e4*i.getTimezoneOffset()))%P.day;c>d;)f.push(d),k===P.year?d=R(e+b*l,0):k===P.month?d=R(e,m+b*l):h||k!==P.day&&k!==P.week?d+=k*l:d=R(e,m,n+b*l*(k===P.day?1:7)),b++;f.push(d),Xb(Yb(f,function(a){return k<=P.hour&&a%P.day===o}),function(a){g[a]="day"})}return f.info=Pb(a,{higherRanks:g,totalRange:k*l}),f},nc.prototype.normalizeTimeTickInterval=function(a,b){var c,d=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],e=d[d.length-1],f=P[e[0]],g=e[1];for(c=0;c<d.length&&(e=d[c],f=P[e[0]],g=e[1],!(d[c+1]&&a<=(f*g[g.length-1]+P[d[c+1][0]])/2));c++);return f===P.year&&5*f>a&&(g=[1,2,5]),d=t(a/f,g,"year"===e[0]?mb(s(a/f),1):1),{unitRange:f,count:d,unitName:e[0]}},nc.prototype.getLogTickPositions=function(a,b,c,d){var e=this.options,f=this.len,i=[];if(d||(this._minorAutoInterval=null),a>=.5)a=jb(a),i=this.getLinearTickPositions(a,b,c);else if(a>=.08)for(var j,k,l,m,n,f=kb(b),e=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c+1>f&&!n;f++)for(k=e.length,j=0;k>j&&!n;j++)l=g(h(f)*e[j]),l>b&&(!d||c>=m)&&m!==I&&i.push(m),m>c&&(n=!0),m=l;else b=h(b),c=h(c),a=e[d?"minorTickInterval":"tickInterval"],a=Qb("auto"===a?null:a,this._minorAutoInterval,(c-b)*(e.tickPixelInterval/(d?5:1))/((d?f/this.tickPositions.length:f)||1)),a=t(a,null,s(a)),i=$b(this.getLinearTickPositions(a,b,c),g),d||(this._minorAutoInterval=a/5);return d||(this.tickInterval=a),i};var oc=fb.Tooltip=function(){this.init.apply(this,arguments)};oc.prototype={init:function(a,c){var d=c.borderWidth,e=c.style,f=b(e.padding);this.chart=a,this.options=c,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=a.renderer.label("",0,0,c.shape||"callout",null,null,c.useHTML,null,"tooltip").attr({padding:f,fill:c.backgroundColor,"stroke-width":d,r:c.borderRadius,zIndex:8}).css(e).css({padding:0}).add().attr({y:-9999}),Db||this.label.shadow(c.shadow),this.shared=c.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(a,b,c,d){var e=this,f=e.now,g=e.options.animation!==!1&&!e.isHidden&&(ob(a-f.x)>1||ob(b-f.y)>1),h=e.followPointer||e.len>1;Pb(f,{x:g?(2*f.x+a)/3:a,y:g?(f.y+b)/2:b,anchorX:h?I:g?(2*f.anchorX+c)/3:c,anchorY:h?I:g?(f.anchorY+d)/2:d}),e.label.attr(f),g&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){e&&e.move(a,b,c,d)},32))},hide:function(a){var b=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){b.label.fadeOut(),b.isHidden=!0},Qb(a,this.options.hideDelay,500)))},getAnchor:function(a,b){var c,d,e,f=this.chart,g=f.inverted,h=f.plotTop,i=f.plotLeft,j=0,k=0,a=l(a);return c=a[0].tooltipPos,this.followPointer&&b&&(b.chartX===I&&(b=f.pointer.normalize(b)),c=[b.chartX-f.plotLeft,b.chartY-h]),c||(Xb(a,function(a){d=a.series.yAxis,e=a.series.xAxis,j+=a.plotX+(!g&&e?e.left-i:0),k+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!g&&d?d.top-h:0)}),j/=a.length,k/=a.length,c=[g?f.plotWidth-k:j,this.shared&&!g&&a.length>1&&b?b.chartY-h:g?f.plotHeight-j:k]),$b(c,jb)},getPosition:function(a,b,c){var d,e=this.chart,f=this.distance,g={},h=c.h||0,i=["y",e.chartHeight,b,c.plotY+e.plotTop,e.plotTop,e.plotTop+e.plotHeight],j=["x",e.chartWidth,a,c.plotX+e.plotLeft,e.plotLeft,e.plotLeft+e.plotWidth],k=Qb(c.ttBelow,e.inverted&&!c.negative||!e.inverted&&c.negative),l=function(a,b,c,d,e,i){var j=d-f>c,l=b>d+f+c,m=d-f-c;
if(d+=f,k&&l)g[a]=d;else if(!k&&j)g[a]=m;else if(j)g[a]=nb(i-c,0>m-h?m:m-h);else{if(!l)return!1;g[a]=mb(e,d+h+c>b?d:d+h)}},m=function(a,b,c,d){return f>d||d>b-f?!1:void(g[a]=c/2>d?1:d>b-c/2?b-c-2:d-c/2)},n=function(a){var b=i;i=j,j=b,d=a},o=function(){l.apply(0,i)!==!1?m.apply(0,j)===!1&&!d&&(n(!0),o()):d?g.x=g.y=0:(n(!0),o())};return(e.inverted||this.len>1)&&n(),o(),g},defaultFormatter:function(a){var b,c=this.points||l(this);return b=[a.tooltipFooterHeaderFormatter(c[0])],b=b.concat(a.bodyFormatter(c)),b.push(a.tooltipFooterHeaderFormatter(c[0],!0)),b.join("")},refresh:function(a,b){var c,d,e,f,g=this.chart,h=this.label,i=this.options,j={},k=[];f=i.formatter||this.defaultFormatter;var m,j=g.hoverPoints,n=this.shared;clearTimeout(this.hideTimer),this.followPointer=l(a)[0].series.tooltipOptions.followPointer,e=this.getAnchor(a,b),c=e[0],d=e[1],!n||a.series&&a.series.noSharedTooltip?j=a.getLabelConfig():(g.hoverPoints=a,j&&Xb(j,function(a){a.setState()}),Xb(a,function(a){a.setState("hover"),k.push(a.getLabelConfig())}),j={x:a[0].category,y:a[0].y},j.points=k,this.len=k.length,a=a[0]),f=f.call(j,this),j=a.series,this.distance=Qb(j.tooltipOptions.distance,16),f===!1?this.hide():(this.isHidden&&(ec(h),h.attr("opacity",1).show()),h.attr({text:f}),m=i.borderColor||a.color||j.color||"#606060",h.attr({stroke:m}),this.updatePosition({plotX:c,plotY:d,negative:a.negative,ttBelow:a.ttBelow,h:e[2]||0}),this.isHidden=!1),bc(g,"tooltipRefresh",{text:f,x:c+g.plotLeft,y:d+g.plotTop,borderColor:m})},updatePosition:function(a){var b=this.chart,c=this.label,c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(jb(c.x),jb(c.y||0),a.plotX+b.plotLeft,a.plotY+b.plotTop)},getXDateFormat:function(a,b,c){var d,e,f,b=b.dateTimeLabelFormats,g=c&&c.closestPointRange,h={millisecond:15,second:12,minute:9,hour:6,day:3},i="millisecond";if(g){f=N("%m-%d %H:%M:%S.%L",a.x);for(e in P){if(g===P.week&&+N("%w",a.x)===c.options.startOfWeek&&"00:00:00.000"===f.substr(6)){e="week";break}if(P[e]>g){e=i;break}if(h[e]&&f.substr(h[e])!=="01-01 00:00:00.000".substr(h[e]))break;"week"!==e&&(i=e)}e&&(d=b[e])}else d=b.day;return d||b.year},tooltipFooterHeaderFormatter:function(a,b){var c=b?"footer":"header",d=a.series,e=d.tooltipOptions,g=e.xDateFormat,h=d.xAxis,i=h&&"datetime"===h.options.type&&f(a.key),c=e[c+"Format"];return i&&!g&&(g=this.getXDateFormat(a,e,h)),i&&g&&(c=c.replace("{point.key}","{point.key:"+g+"}")),r(c,{point:a,series:d})},bodyFormatter:function(a){return $b(a,function(a){var b=a.series.tooltipOptions;return(b.pointFormatter||a.point.tooltipFormatter).call(a.point,b.pointFormat)})}};var pc;K=gb.documentElement.ontouchstart!==I;var qc=fb.Pointer=function(a,b){this.init(a,b)};if(qc.prototype={init:function(a,b){var c,d=b.chart,e=d.events,f=Db?"":d.zoomType,d=a.inverted;this.options=b,this.chart=a,this.zoomX=c=/x/.test(f),this.zoomY=f=/y/.test(f),this.zoomHor=c&&!d||f&&d,this.zoomVert=f&&!d||c&&d,this.hasZoom=c||f,this.runChartClick=e&&!!e.click,this.pinchDown=[],this.lastValidTouch={},fb.Tooltip&&b.tooltip.enabled&&(a.tooltip=new oc(a,b.tooltip),this.followTouchMove=Qb(b.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(a,b){var c,d,a=a||window.event,a=cc(a);return a.target||(a.target=a.srcElement),d=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a,b||(this.chartPosition=b=Zb(this.chart.container)),d.pageX===I?(c=mb(a.x,a.clientX-b.left),d=a.y):(c=d.pageX-b.left,d=d.pageY-b.top),Pb(a,{chartX:jb(c),chartY:jb(d)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return Xb(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})}),b},runPointActions:function(a){var b,c,d,e,f,g=this.chart,h=g.series,i=g.tooltip,j=i?i.shared:!1,k=g.hoverPoint,l=g.hoverSeries,m=g.chartWidth,n=[];if(!j&&!l)for(b=0;b<h.length;b++)(h[b].directTouch||!h[b].options.stickyTracking)&&(h=[]);if(!j&&l&&l.directTouch&&k?e=k:(Xb(h,function(b){c=b.noSharedTooltip&&j,d=!j&&b.directTouch,b.visible&&!c&&!d&&Qb(b.options.enableMouseTracking,!0)&&(f=b.searchPoint(a,!c&&1===b.kdDimensions))&&n.push(f)}),Xb(n,function(a){a&&"number"==typeof a.dist&&a.dist<m&&(m=a.dist,e=a)})),e&&(e!==this.prevKDPoint||i&&i.isHidden)){if(j&&!e.series.noSharedTooltip){for(b=n.length;b--;)(n[b].clientX!==e.clientX||n[b].series.noSharedTooltip)&&n.splice(b,1);n.length&&i&&i.refresh(n,a),Xb(n,function(b){b.onMouseOver(a,b!==(l&&l.directTouch&&k||e))})}else i&&i.refresh(e,a),l&&l.directTouch||e.onMouseOver(a);this.prevKDPoint=e}else h=l&&l.tooltipOptions.followPointer,i&&h&&!i.isHidden&&(h=i.getAnchor([{}],a),i.updatePosition({plotX:h[0],plotY:h[1]}));i&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(a){Hb[pc]&&Hb[pc].pointer.onDocumentMouseMove(a)},_b(gb,"mousemove",this._onDocumentMouseMove)),Xb(g.axes,function(b){b.drawCrosshair(a,Qb(e,k))})},reset:function(a,b){var c=this.chart,d=c.hoverSeries,e=c.hoverPoint,f=c.hoverPoints,g=c.tooltip,h=g&&g.shared?f:e;(a=a&&g&&h)&&l(h)[0].plotX===I&&(a=!1),a?(g.refresh(h),e&&(e.setState(e.state,!0),Xb(c.axes,function(a){Qb(a.options.crosshair&&a.options.crosshair.snap,!0)?a.drawCrosshair(null,e):a.hideCrosshair()}))):(e&&e.onMouseOut(),f&&Xb(f,function(a){a.setState()}),d&&d.onMouseOut(),g&&g.hide(b),this._onDocumentMouseMove&&(ac(gb,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Xb(c.axes,function(a){a.hideCrosshair()}),this.hoverX=c.hoverPoints=c.hoverPoint=null)},scaleGroups:function(a,b){var c,d=this.chart;Xb(d.series,function(e){c=a||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(c),e.markerGroup&&(e.markerGroup.attr(c),e.markerGroup.clip(b?d.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(c))}),d.clipRect.attr(b||d.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b,c=this.chart,d=c.options.chart,e=a.chartX,f=a.chartY,g=this.zoomHor,h=this.zoomVert,i=c.plotLeft,j=c.plotTop,k=c.plotWidth,l=c.plotHeight,m=this.selectionMarker,n=this.mouseDownX,o=this.mouseDownY,p=d.panKey&&a[d.panKey+"Key"];m&&m.touch||(i>e?e=i:e>i+k&&(e=i+k),j>f?f=j:f>j+l&&(f=j+l),this.hasDragged=Math.sqrt(Math.pow(n-e,2)+Math.pow(o-f,2)),this.hasDragged>10&&(b=c.isInsidePlot(n-i,o-j),c.hasCartesianSeries&&(this.zoomX||this.zoomY)&&b&&!p&&!m&&(this.selectionMarker=m=c.renderer.rect(i,j,g?1:k,h?1:l,0).attr({fill:d.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),m&&g&&(e-=n,m.attr({width:ob(e),x:(e>0?0:e)+n})),m&&h&&(e=f-o,m.attr({height:ob(e),y:(e>0?0:e)+o})),b&&!m&&d.panning&&c.pan(a,d.panning)))},drop:function(a){var b=this,c=this.chart,d=this.hasPinched;if(this.selectionMarker){var e,f={xAxis:[],yAxis:[],originalEvent:a.originalEvent||a},g=this.selectionMarker,h=g.attr?g.attr("x"):g.x,i=g.attr?g.attr("y"):g.y,k=g.attr?g.attr("width"):g.width,l=g.attr?g.attr("height"):g.height;(this.hasDragged||d)&&(Xb(c.axes,function(c){if(c.zoomEnabled&&j(c.min)&&(d||b[{xAxis:"zoomX",yAxis:"zoomY"}[c.coll]])){var g=c.horiz,m="touchend"===a.type?c.minPixelPadding:0,n=c.toValue((g?h:i)+m),g=c.toValue((g?h+k:i+l)-m);f[c.coll].push({axis:c,min:nb(n,g),max:mb(n,g)}),e=!0}}),e&&bc(c,"selection",f,function(a){c.zoom(Pb(a,d?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),d&&this.scaleGroups()}c&&(m(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a),a.preventDefault&&a.preventDefault(),this.dragStart(a)},onDocumentMouseUp:function(a){Hb[pc]&&Hb[pc].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition,a=this.normalize(a,c);c&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&this.reset()},onContainerMouseLeave:function(){var a=Hb[pc];a&&(a.pointer.reset(),a.pointer.chartPosition=null)},onContainerMouseMove:function(a){var b=this.chart;pc=b.index,a=this.normalize(a),a.returnValue=!1,"mousedown"===b.mouseIsDown&&this.drag(a),(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(a,b){for(var c;a;){if(c=k(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,c=(a=a.relatedTarget||a.toElement)&&a.point&&a.point.series;!b||b.options.stickyTracking||this.inClass(a,"highcharts-tooltip")||c===b||b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,d=b.plotLeft,e=b.plotTop,a=this.normalize(a);a.originalEvent=a,b.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(bc(c.series,"click",Pb(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(Pb(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-d,a.chartY-e)&&bc(b,"click",a)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)},b.onmousemove=function(b){a.onContainerMouseMove(b)},b.onclick=function(b){a.onContainerClick(b)},_b(b,"mouseleave",a.onContainerMouseLeave),1===Ib&&_b(gb,"mouseup",a.onDocumentMouseUp),K&&(b.ontouchstart=function(b){a.onContainerTouchStart(b)},b.ontouchmove=function(b){a.onContainerTouchMove(b)},1===Ib&&_b(gb,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a;ac(this.chart.container,"mouseleave",this.onContainerMouseLeave),Ib||(ac(gb,"mouseup",this.onDocumentMouseUp),ac(gb,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}},Pb(fb.Pointer.prototype,{pinchTranslate:function(a,b,c,d,e,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,b,c,d,e,f),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,a,b,c,d,e,f)},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var i,j,k,l=this.chart,m=a?"x":"y",n=a?"X":"Y",o="chart"+n,p=a?"width":"height",q=l["plot"+(a?"Left":"Top")],r=h||1,s=l.inverted,t=l.bounds[a?"h":"v"],u=1===b.length,v=b[0][o],w=c[0][o],x=!u&&b[1][o],y=!u&&c[1][o],c=function(){!u&&ob(v-x)>20&&(r=h||ob(w-y)/ob(v-x)),j=(q-w)/r+v,i=l["plot"+(a?"Width":"Height")]/r};c(),b=j,b<t.min?(b=t.min,k=!0):b+i>t.max&&(b=t.max-i,k=!0),k?(w-=.8*(w-g[m][0]),u||(y-=.8*(y-g[m][1])),c()):g[m]=[w,y],s||(f[m]=j-q,f[p]=i),f=s?1/r:r,e[p]=i,e[m]=b,d[s?a?"scaleY":"scaleX":"scale"+n]=r,d["translate"+n]=f*q+(w-f*v)},pinch:function(a){var b=this,c=b.chart,d=b.pinchDown,e=a.touches,f=e.length,g=b.lastValidTouch,h=b.hasZoom,i=b.selectionMarker,j={},k=1===f&&(b.inClass(a.target,"highcharts-tracker")&&c.runTrackerClick||b.runChartClick),l={};f>1&&(b.initiated=!0),h&&b.initiated&&!k&&a.preventDefault(),$b(e,function(a){return b.normalize(a)}),"touchstart"===a.type?(Xb(e,function(a,b){d[b]={chartX:a.chartX,chartY:a.chartY}}),g.x=[d[0].chartX,d[1]&&d[1].chartX],g.y=[d[0].chartY,d[1]&&d[1].chartY],Xb(c.axes,function(a){if(a.zoomEnabled){var b=c.bounds[a.horiz?"h":"v"],d=a.minPixelPadding,e=a.toPixels(Qb(a.options.min,a.dataMin)),f=a.toPixels(Qb(a.options.max,a.dataMax)),g=nb(e,f),e=mb(e,f);b.min=nb(a.pos,g-d),b.max=mb(a.pos+a.len,e+d)}}),b.res=!0):d.length&&(i||(b.selectionMarker=i=Pb({destroy:Gb,touch:!0},c.plotBox)),b.pinchTranslate(d,e,j,i,l,g),b.hasPinched=h,b.scaleGroups(j,l),!h&&b.followTouchMove&&1===f?this.runPointActions(b.normalize(a)):b.res&&(b.res=!1,this.reset(!1,0)))},touch:function(a,b){var c=this.chart;pc=c.index,1===a.touches.length?(a=this.normalize(a),c.isInsidePlot(a.chartX-c.plotLeft,a.chartY-c.plotTop)&&!c.openMenu?(b&&this.runPointActions(a),this.pinch(a)):b&&this.reset()):2===a.touches.length&&this.pinch(a)},onContainerTouchStart:function(a){this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(a){Hb[pc]&&Hb[pc].pointer.drop(a)}}),hb.PointerEvent||hb.MSPointerEvent){var rc={},sc=!!hb.PointerEvent,tc=function(){var a,b=[];b.item=function(a){return this[a]};for(a in rc)rc.hasOwnProperty(a)&&b.push({pageX:rc[a].pageX,pageY:rc[a].pageY,target:rc[a].target});return b},uc=function(a,b,c,d){a=a.originalEvent||a,"touch"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_TOUCH||!Hb[pc]||(d(a),d=Hb[pc].pointer,d[b]({type:c,target:a.currentTarget,preventDefault:Gb,touches:tc()}))};Pb(qc.prototype,{onContainerPointerDown:function(a){uc(a,"onContainerTouchStart","touchstart",function(a){rc[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){uc(a,"onContainerTouchMove","touchmove",function(a){rc[a.pointerId]={pageX:a.pageX,pageY:a.pageY},rc[a.pointerId].target||(rc[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){uc(a,"onDocumentTouchEnd","touchend",function(a){delete rc[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,sc?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,sc?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(gb,sc?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Rb(qc.prototype,"init",function(a,b,c){a.call(this,b,c),this.hasZoom&&m(b.container,{"-ms-touch-action":Kb,"touch-action":Kb})}),Rb(qc.prototype,"setDOMEvents",function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(_b)}),Rb(qc.prototype,"destroy",function(a){this.batchMSEvents(ac),a.call(this)})}var vc=fb.Legend=function(a,b){this.init(a,b)};vc.prototype={init:function(b,c){var d=this,e=c.itemStyle,f=c.itemMarginTop||0;this.options=c,c.enabled&&(d.itemStyle=e,d.itemHiddenStyle=a(e,c.itemHiddenStyle),d.itemMarginTop=f,d.padding=e=Qb(c.padding,8),d.initialItemX=e,d.initialItemY=e-5,d.maxItemWidth=0,d.chart=b,d.itemHeight=0,d.symbolWidth=Qb(c.symbolWidth,16),d.pages=[],d.render(),_b(d.chart,"endResize",function(){d.positionCheckboxes()}))},colorizeItem:function(a,b){var c,d=this.options,e=a.legendItem,f=a.legendLine,g=a.legendSymbol,h=this.itemHiddenStyle.color,d=b?d.itemStyle.color:h,i=b?a.legendColor||a.color||"#CCC":h,h=a.options&&a.options.marker,j={fill:i};if(e&&e.css({fill:d,color:d}),f&&f.attr({stroke:i}),g){if(h&&g.isMarker)for(c in j.stroke=i,h=a.convertAttribs(h))e=h[c],e!==I&&(j[c]=e);g.attr(j)}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,d=a._legendItemPos,e=d[0],d=d[1],f=a.checkbox;(a=a.legendGroup)&&a.element&&a.translate(b?e:this.legendWidth-e-2*c-4,d),f&&(f.x=e,f.y=d)},destroyItem:function(a){var b=a.checkbox;Xb(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),b&&y(a.checkbox)},destroy:function(){var a=this.group,b=this.box;b&&(this.box=b.destroy()),a&&(this.group=a.destroy())},positionCheckboxes:function(a){var b,c=this.group.alignAttr,d=this.clipHeight||this.legendHeight;c&&(b=c.translateY,Xb(this.allItems,function(e){var f,g=e.checkbox;g&&(f=b+g.y+(a||0)+3,m(g,{left:c.translateX+e.checkboxOffset+g.x-20+"px",top:f+"px",display:f>b-6&&b+d-6>f?"":Kb}))}))},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),c=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},setText:function(a){var b=this.options;a.legendItem.attr({text:b.labelFormat?r(b.labelFormat,a):b.labelFormatter.call(a)})},renderItem:function(b){var c=this.chart,d=c.renderer,e=this.options,f="horizontal"===e.layout,g=this.symbolWidth,h=e.symbolPadding,i=this.itemStyle,j=this.itemHiddenStyle,k=this.padding,l=f?Qb(e.itemDistance,20):0,m=!e.rtl,n=e.width,o=e.itemMarginBottom||0,p=this.itemMarginTop,q=this.initialItemX,r=b.legendItem,s=b.series&&b.series.drawLegendSymbol?b.series:b,t=s.options,t=this.createCheckboxForItem&&t&&t.showCheckbox,u=e.useHTML;r||(b.legendGroup=d.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),b.legendItem=r=d.text("",m?g+h:-h,this.baseline||0,u).css(a(b.visible?i:j)).attr({align:m?"left":"right",zIndex:2}).add(b.legendGroup),this.baseline||(this.fontMetrics=d.fontMetrics(i.fontSize,r),this.baseline=this.fontMetrics.f+3+p,r.attr("y",this.baseline)),s.drawLegendSymbol(this,b),this.setItemEvents&&this.setItemEvents(b,r,u,i,j),this.colorizeItem(b,b.visible),t&&this.createCheckboxForItem(b)),this.setText(b),d=r.getBBox(),g=b.checkboxOffset=e.itemWidth||b.legendItemWidth||g+h+d.width+l+(t?20:0),this.itemHeight=h=jb(b.legendItemHeight||d.height),f&&this.itemX-q+g>(n||c.chartWidth-2*k-q-e.x)&&(this.itemX=q,this.itemY+=p+this.lastLineHeight+o,this.lastLineHeight=0),this.maxItemWidth=mb(this.maxItemWidth,g),this.lastItemY=p+this.itemY+o,this.lastLineHeight=mb(h,this.lastLineHeight),b._legendItemPos=[this.itemX,this.itemY],f?this.itemX+=g:(this.itemY+=p+h+o,this.lastLineHeight=h),this.offsetWidth=n||mb((f?this.itemX-q-l:g)+k,this.offsetWidth)},getAllItems:function(){var a=[];return Xb(this.chart.series,function(b){var c=b.options;Qb(c.showInLegend,j(c.linkedTo)?!1:I,!0)&&(a=a.concat(b.legendItems||("point"===c.legendType?b.data:b)))}),a},adjustMargins:function(a,b){var c=this.chart,d=this.options,e=d.align.charAt(0)+d.verticalAlign.charAt(0)+d.layout.charAt(0);this.display&&!d.floating&&Xb([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(f,g){f.test(e)&&!j(a[g])&&(c[Mb[g]]=mb(c[Mb[g]],c.legend[(g+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][g]*d[g%2?"x":"y"]+Qb(d.margin,12)+b[g]))})},render:function(){var a,b,c,d,e=this,f=e.chart,g=f.renderer,h=e.group,i=e.box,j=e.options,k=e.padding,l=j.borderWidth,m=j.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,h||(e.group=h=g.g("legend").attr({zIndex:7}).add(),e.contentGroup=g.g().attr({zIndex:1}).add(h),e.scrollGroup=g.g().add(e.contentGroup)),e.renderTitle(),a=e.getAllItems(),u(a,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),j.reversed&&a.reverse(),e.allItems=a,e.display=b=!!a.length,e.lastLineHeight=0,Xb(a,function(a){e.renderItem(a)}),c=(j.width||e.offsetWidth)+k,d=e.lastItemY+e.lastLineHeight+e.titleHeight,d=e.handleOverflow(d),d+=k,(l||m)&&(i?c>0&&d>0&&(i[i.isNew?"attr":"animate"](i.crisp({width:c,height:d})),i.isNew=!1):(e.box=i=g.rect(0,0,c,d,j.borderRadius,l||0).attr({stroke:j.borderColor,"stroke-width":l||0,fill:m||Kb}).add(h).shadow(j.shadow),i.isNew=!0),i[b?"show":"hide"]()),e.legendWidth=c,e.legendHeight=d,Xb(a,function(a){e.positionItem(a)}),b&&h.align(Pb({width:c,height:d},j),!0,"spacingBox"),f.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b,c,d=this,e=this.chart,f=e.renderer,g=this.options,h=g.y,h=e.spacingBox.height+("top"===g.verticalAlign?-h:h)-this.padding,i=g.maxHeight,j=this.clipRect,k=g.navigation,l=Qb(k.animation,!0),m=k.arrowSize||12,n=this.nav,o=this.pages,p=this.padding,q=this.allItems,r=function(a){j.attr({height:a}),d.contentGroup.div&&(d.contentGroup.div.style.clip="rect("+p+"px,9999px,"+(p+a)+"px,0)")};return"horizontal"===g.layout&&(h/=2),i&&(h=nb(h,i)),o.length=0,a>h?(this.clipHeight=b=mb(h-20-this.titleHeight-p,0),this.currentPage=Qb(this.currentPage,1),this.fullHeight=a,Xb(q,function(a,d){var e=a._legendItemPos[1],f=jb(a.legendItem.getBBox().height),g=o.length;(!g||e-o[g-1]>b&&(c||e)!==o[g-1])&&(o.push(c||e),g++),d===q.length-1&&e+f-o[g-1]>b&&o.push(e),e!==c&&(c=e)}),j||(j=d.clipRect=f.clipRect(0,p,9999,0),d.contentGroup.clip(j)),r(b),n||(this.nav=n=f.g().attr({zIndex:1}).add(this.group),this.up=f.symbol("triangle",0,0,m,m).on("click",function(){d.scroll(-1,l)}).add(n),this.pager=f.text("",15,10).css(k.style).add(n),this.down=f.symbol("triangle-down",0,0,m,m).on("click",function(){d.scroll(1,l)}).add(n)),d.scroll(0),a=h):n&&(r(e.chartHeight),n.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,b){var c=this.pages,d=c.length,e=this.currentPage+a,f=this.clipHeight,g=this.options.navigation,h=g.activeColor,g=g.inactiveColor,i=this.pager,j=this.padding;e>d&&(e=d),e>0&&(b!==I&&B(b,this.chart),this.nav.attr({translateX:j,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===e?g:h}).css({cursor:1===e?"default":"pointer"}),i.attr({text:e+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,fill:e===d?g:h}).css({cursor:e===d?"default":"pointer"}),c=-c[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=e,this.positionCheckboxes(c))}},Tb=fb.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||a.fontMetrics.f;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-c+1,a.symbolWidth,c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b,c=this.options,d=c.marker;b=a.symbolWidth;var e,f=this.chart.renderer,g=this.legendGroup,a=a.baseline-jb(.3*a.fontMetrics.b);c.lineWidth&&(e={"stroke-width":c.lineWidth},c.dashStyle&&(e.dashstyle=c.dashStyle),this.legendLine=f.path(["M",0,a,"L",b,a]).attr(e).add(g)),d&&d.enabled!==!1&&(c=d.radius,this.legendSymbol=b=f.symbol(this.symbol,b/2-c,a-c,2*c,2*c).add(g),b.isMarker=!0)}},(/Trident\/7\.0/.test(tb)||yb)&&Rb(vc.prototype,"positionItem",function(a,b){var c=this,d=function(){b._legendItemPos&&a.call(c,b)};d(),setTimeout(d)});var wc=fb.Chart=function(){this.init.apply(this,arguments)};wc.prototype={callbacks:[],init:function(b,c){var d,e=b.series;b.series=null,d=a(M,b),d.series=b.series=e,this.userOptions=b,e=d.chart,this.margin=this.splashArray("margin",e),this.spacing=this.splashArray("spacing",e);var f=e.events;this.bounds={h:{},v:{}},this.callback=c,this.isResizing=0,this.options=d,this.axes=[],this.series=[],this.hasCartesianSeries=e.showAxes;var g,h=this;if(h.index=Hb.length,Hb.push(h),Ib++,e.reflow!==!1&&_b(h,"load",function(){h.initReflow()}),f)for(g in f)_b(h,g,f[g]);h.xAxis=[],h.yAxis=[],h.animation=Db?!1:Qb(e.animation,!0),h.pointCount=h.colorCounter=h.symbolCounter=0,h.firstRender()},initSeries:function(a){var b=this.options.chart;return(b=Ob[a.type||b.type||b.defaultSeriesType])||z(17,!0),b=new b,b.init(this,a),b},isInsidePlot:function(a,b,c){var d=c?b:a,a=c?a:b;return d>=0&&d<=this.plotWidth&&a>=0&&a<=this.plotHeight},redraw:function(a){var b,c,d=this.axes,e=this.series,f=this.pointer,g=this.legend,h=this.isDirtyLegend,i=this.hasCartesianSeries,j=this.isDirtyBox,k=e.length,l=k,m=this.renderer,n=m.isHidden(),o=[];for(B(a,this),n&&this.cloneRenderTo(),this.layOutTitles();l--;)if(a=e[l],a.options.stacking&&(b=!0,a.isDirty)){c=!0;break}if(c)for(l=k;l--;)a=e[l],a.options.stacking&&(a.isDirty=!0);Xb(e,function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),h=!0)}),h&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1),b&&this.getStacks(),i&&!this.isResizing&&(this.maxTicks=null,Xb(d,function(a){a.setScale()})),this.getMargins(),i&&(Xb(d,function(a){a.isDirty&&(j=!0)}),Xb(d,function(a){var c=a.min+","+a.max;a.extKey!==c&&(a.extKey=c,o.push(function(){bc(a,"afterSetExtremes",Pb(a.eventArgs,a.getExtremes())),delete a.eventArgs})),(j||b)&&a.redraw()})),j&&this.drawChartBox(),Xb(e,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()}),f&&f.reset(!0),m.draw(),bc(this,"redraw"),n&&this.cloneRenderTo(!0),Xb(o,function(a){a.call()})},get:function(a){var b,c,d=this.axes,e=this.series;for(b=0;b<d.length;b++)if(d[b].options.id===a)return d[b];for(b=0;b<e.length;b++)if(e[b].options.id===a)return e[b];for(b=0;b<e.length;b++)for(c=e[b].points||[],d=0;d<c.length;d++)if(c[d].id===a)return c[d];return null},getAxes:function(){var a=this,b=this.options,c=b.xAxis=l(b.xAxis||{}),b=b.yAxis=l(b.yAxis||{});Xb(c,function(a,b){a.index=b,a.isX=!0}),Xb(b,function(a,b){a.index=b}),c=c.concat(b),Xb(c,function(b){new nc(a,b)})},getSelectedPoints:function(){var a=[];return Xb(this.series,function(b){a=a.concat(Yb(b.points||[],function(a){return a.selected}))}),a},getSelectedSeries:function(){return Yb(this.series,function(a){return a.selected})},setTitle:function(b,c,d){var e,f,g=this,h=g.options;f=h.title=a(h.title,b),e=h.subtitle=a(h.subtitle,c),h=e,Xb([["title",b,f],["subtitle",c,h]],function(a){var b=a[0],c=g[b],d=a[1],a=a[2];c&&d&&(g[b]=c=c.destroy()),a&&a.text&&!c&&(g[b]=g.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+b,zIndex:a.zIndex||4}).css(a.style).add())}),g.layOutTitles(d)},layOutTitles:function(a){var b=0,c=this.title,d=this.subtitle,e=this.options,f=e.title,e=e.subtitle,g=this.renderer,h=this.spacingBox.width-44;!c||(c.css({width:(f.width||h)+"px"}).align(Pb({y:g.fontMetrics(f.style.fontSize,c).b-3},f),!1,"spacingBox"),f.floating||f.verticalAlign)||(b=c.getBBox().height),d&&(d.css({width:(e.width||h)+"px"}).align(Pb({y:b+(f.margin-13)+g.fontMetrics(f.style.fontSize,d).b},e),!1,"spacingBox"),!e.floating&&!e.verticalAlign&&(b=lb(b+d.getBBox().height))),c=this.titleOffset!==b,this.titleOffset=b,!this.isDirtyBox&&c&&(this.isDirtyBox=c,this.hasRendered&&Qb(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;j(b)||(this.containerWidth=Ub(c,"width")),j(a)||(this.containerHeight=Ub(c,"height")),this.chartWidth=mb(0,b||this.containerWidth||600),this.chartHeight=mb(0,Qb(a,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;a?b&&(this.renderTo.appendChild(c),y(b),delete this.renderToClone):(c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),m(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),gb.body.appendChild(b),c&&b.appendChild(c))},getContainer:function(){var a,d,e,f,g=this.options.chart;this.renderTo=a=g.renderTo,f="highcharts-"+Fb++,c(a)&&(this.renderTo=a=gb.getElementById(a)),a||z(13,!0),d=b(k(a,"data-highcharts-chart")),!isNaN(d)&&Hb[d]&&Hb[d].hasRendered&&Hb[d].destroy(),k(a,"data-highcharts-chart",this.index),a.innerHTML="",!g.skipClone&&!a.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),d=this.chartWidth,e=this.chartHeight,this.container=a=n(Jb,{className:"highcharts-container"+(g.className?" "+g.className:""),id:f},Pb({position:"relative",overflow:"hidden",width:d+"px",height:e+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},g.style),this.renderToClone||a),this._cursor=a.style.cursor,this.renderer=g.forExport?new kc(a,d,e,g.style,!0):new J(a,d,e,g.style),Db&&this.renderer.create(this,a,d,e),this.renderer.chartIndex=this.index},getMargins:function(a){var b=this.spacing,c=this.margin,d=this.titleOffset;this.resetMargins(),d&&!j(c[0])&&(this.plotTop=mb(this.plotTop,d+this.options.title.margin+b[0])),this.legend.adjustMargins(c,b),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),a||this.getAxisMargins()},getAxisMargins:function(){var a=this,b=a.axisOffset=[0,0,0,0],c=a.margin;a.hasCartesianSeries&&Xb(a.axes,function(a){a.getOffset()}),Xb(Mb,function(d,e){j(c[e])||(a[d]+=b[e])}),a.setChartSize()},reflow:function(a){var b=this,c=b.options.chart,d=b.renderTo,e=c.width||Ub(d,"width"),f=c.height||Ub(d,"height"),c=a?a.target:hb,d=function(){b.container&&(b.setSize(e,f,!1),b.hasUserSize=null)};b.hasUserSize||b.isPrinting||!e||!f||c!==hb&&c!==gb||((e!==b.containerWidth||f!==b.containerHeight)&&(clearTimeout(b.reflowTimeout),a?b.reflowTimeout=setTimeout(d,100):d()),b.containerWidth=e,b.containerHeight=f)},initReflow:function(){var a=this,b=function(b){a.reflow(b)};_b(hb,"resize",b),_b(a,"destroy",function(){ac(hb,"resize",b)})},setSize:function(a,b,c){var d,e,f,g=this,h=g.renderer,i=h.globalAnimation;g.isResizing+=1,f=function(){g&&bc(g,"endResize",null,function(){g.isResizing-=1})},B(c,g),g.oldChartHeight=g.chartHeight,g.oldChartWidth=g.chartWidth,j(a)&&(g.chartWidth=d=mb(0,jb(a)),g.hasUserSize=!!d),j(b)&&(g.chartHeight=e=mb(0,jb(b))),(i?dc:m)(g.container,{width:d+"px",height:e+"px"},i),g.setChartSize(!0),h.setSize(d,e,c),g.maxTicks=null,Xb(g.axes,function(a){a.isDirty=!0,a.setScale()}),Xb(g.series,function(a){a.isDirty=!0}),g.isDirtyLegend=!0,g.isDirtyBox=!0,g.layOutTitles(),g.getMargins(),g.redraw(c),g.oldChartHeight=null,bc(g,"resize"),i===!1?f():setTimeout(f,i&&i.duration||500)},setChartSize:function(a){var b,c,d,e,f=this.inverted,g=this.renderer,h=this.chartWidth,i=this.chartHeight,j=this.options.chart,k=this.spacing,l=this.clipOffset;this.plotLeft=b=jb(this.plotLeft),this.plotTop=c=jb(this.plotTop),this.plotWidth=d=mb(0,jb(h-b-this.marginRight)),this.plotHeight=e=mb(0,jb(i-c-this.marginBottom)),this.plotSizeX=f?e:d,this.plotSizeY=f?d:e,this.plotBorderWidth=j.plotBorderWidth||0,this.spacingBox=g.spacingBox={x:k[3],y:k[0],width:h-k[3]-k[1],height:i-k[0]-k[2]},this.plotBox=g.plotBox={x:b,y:c,width:d,height:e},h=2*kb(this.plotBorderWidth/2),f=lb(mb(h,l[3])/2),g=lb(mb(h,l[0])/2),this.clipBox={x:f,y:g,width:kb(this.plotSizeX-mb(h,l[1])/2-f),height:mb(0,kb(this.plotSizeY-mb(h,l[2])/2-g))},a||Xb(this.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var a=this;Xb(Mb,function(b,c){a[b]=Qb(a.margin[c],a.spacing[c])}),a.axisOffset=[0,0,0,0],a.clipOffset=[0,0,0,0]},drawChartBox:function(){var a,b=this.options.chart,c=this.renderer,d=this.chartWidth,e=this.chartHeight,f=this.chartBackground,g=this.plotBackground,h=this.plotBorder,i=this.plotBGImage,j=b.borderWidth||0,k=b.backgroundColor,l=b.plotBackgroundColor,m=b.plotBackgroundImage,n=b.plotBorderWidth||0,o=this.plotLeft,p=this.plotTop,q=this.plotWidth,r=this.plotHeight,s=this.plotBox,t=this.clipRect,u=this.clipBox;a=j+(b.shadow?8:0),(j||k)&&(f?f.animate(f.crisp({width:d-a,height:e-a})):(f={fill:k||Kb},j&&(f.stroke=b.borderColor,f["stroke-width"]=j),this.chartBackground=c.rect(a/2,a/2,d-a,e-a,b.borderRadius,j).attr(f).addClass("highcharts-background").add().shadow(b.shadow))),l&&(g?g.animate(s):this.plotBackground=c.rect(o,p,q,r,0).attr({fill:l}).add().shadow(b.plotShadow)),m&&(i?i.animate(s):this.plotBGImage=c.image(m,o,p,q,r).add()),t?t.animate({width:u.width,height:u.height}):this.clipRect=c.clipRect(u),n&&(h?h.animate(h.crisp({x:o,y:p,width:q,height:r,strokeWidth:-n})):this.plotBorder=c.rect(o,p,q,r,0,-n).attr({stroke:b.plotBorderColor,"stroke-width":n,fill:Kb,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var a,b,c,d=this,e=d.options.chart,f=d.options.series;Xb(["inverted","angular","polar"],function(g){for(a=Ob[e.type||e.defaultSeriesType],c=d[g]||e[g]||a&&a.prototype[g],b=f&&f.length;!c&&b--;)(a=Ob[f[b].type])&&a.prototype[g]&&(c=!0);d[g]=c})},linkSeries:function(){var a=this,b=a.series;Xb(b,function(a){a.linkedSeries.length=0}),Xb(b,function(b){var d=b.options.linkedTo;c(d)&&(d=":previous"===d?a.series[b.index-1]:a.get(d))&&(d.linkedSeries.push(b),b.linkedParent=d,b.visible=Qb(b.options.visible,d.options.visible,b.visible))})},renderSeries:function(){Xb(this.series,function(a){a.translate(),a.render()})},renderLabels:function(){var a=this,c=a.options.labels;c.items&&Xb(c.items,function(d){var e=Pb(c.style,d.style),f=b(e.left)+a.plotLeft,g=b(e.top)+a.plotTop+12;delete e.left,delete e.top,a.renderer.text(d.html,f,g).attr({zIndex:2}).css(e).add()})},render:function(){var a,b,c,d,e=this.axes,f=this.renderer,g=this.options;this.setTitle(),this.legend=new vc(this,g.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),a=this.plotWidth,b=this.plotHeight-=13,Xb(e,function(a){a.setScale()}),this.getAxisMargins(),c=a/this.plotWidth>1.1,d=b/this.plotHeight>1.1,(c||d)&&(this.maxTicks=null,Xb(e,function(a){(a.horiz&&c||!a.horiz&&d)&&a.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Xb(e,function(a){a.render()}),this.seriesGroup||(this.seriesGroup=f.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(g.credits),this.hasRendered=!0
},showCredits:function(a){a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text,0,0).on("click",function(){a.href&&(location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position))},destroy:function(){var a,b=this,c=b.axes,d=b.series,e=b.container,f=e&&e.parentNode;for(bc(b,"destroy"),Hb[b.index]=I,Ib--,b.renderTo.removeAttribute("data-highcharts-chart"),ac(b),a=c.length;a--;)c[a]=c[a].destroy();for(a=d.length;a--;)d[a]=d[a].destroy();Xb("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())}),e&&(e.innerHTML="",ac(e),f&&y(e));for(a in b)delete b[a]},isReadyToRender:function(){var a=this;return!Bb&&hb==hb.top&&"complete"!==gb.readyState||Db&&!hb.canvg?(Db?mc.push(function(){a.firstRender()},a.options.global.canvasToolsURL):gb.attachEvent("onreadystatechange",function(){gb.detachEvent("onreadystatechange",a.firstRender),"complete"===gb.readyState&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options,c=a.callback;a.isReadyToRender()&&(a.getContainer(),bc(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),Xb(b.series||[],function(b){a.initSeries(b)}),a.linkSeries(),bc(a,"beforeRender"),fb.Pointer&&(a.pointer=new qc(a,b)),a.render(),a.renderer.draw(),c&&c.apply(a,[a]),Xb(a.callbacks,function(b){a.index!==I&&b.apply(a,[a])}),bc(a,"load"),a.cloneRenderTo(!0))},splashArray:function(a,b){var c=b[a],c=d(c)?c:[c,c,c,c];return[Qb(b[a+"Top"],c[0]),Qb(b[a+"Right"],c[1]),Qb(b[a+"Bottom"],c[2]),Qb(b[a+"Left"],c[3])]}};var xc=fb.CenteredSeriesMixin={getCenter:function(){var a,b,c=this.options,d=this.chart,e=2*(c.slicedOffset||0),f=d.plotWidth-2*e,d=d.plotHeight-2*e,g=c.center,g=[Qb(g[0],"50%"),Qb(g[1],"50%"),c.size||"100%",c.innerSize||0],h=nb(f,d);for(a=0;4>a;++a)b=g[a],c=2>a||2===a&&/%$/.test(b),g[a]=(/%$/.test(b)?[f,d,h,g[2]][a]*parseFloat(b)/100:parseFloat(b))+(c?e:0);return g}},yc=function(){};yc.prototype={init:function(a,b,c){return this.series=a,this.color=a.color,this.applyOptions(b,c),this.pointAttr={},a.options.colorByPoint&&(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length)&&(a.colorCounter=0),a.chart.pointCount++,this},applyOptions:function(a,b){var c=this.series,d=c.options.pointValKey||c.pointValKey,a=yc.prototype.optionsToObject.call(this,a);return Pb(this,a),this.options=this.options?Pb(this.options,a):a,d&&(this.y=this[d]),this.x===I&&c&&(this.x=b===I?c.autoIncrement():b),this},optionsToObject:function(a){var b={},c=this.series,d=c.options.keys,f=d||c.pointArrayMap||["y"],g=f.length,h=0,i=0;if("number"==typeof a||null===a)b[f[0]]=a;else if(e(a))for(!d&&a.length>g&&(c=typeof a[0],"string"===c?b.name=a[0]:"number"===c&&(b.x=a[0]),h++);g>i;)b[f[i++]]=a[h++];else"object"==typeof a&&(b=a,a.dataLabels&&(c._hasPointLabels=!0),a.marker&&(c._hasPointMarkers=!0));return b},destroy:function(){var a,b=this.series.chart,c=b.hoverPoints;b.pointCount--,c&&(this.setState(),i(c,this),!c.length)&&(b.hoverPoints=null),this===b.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(ac(this),this.destroyElements()),this.legendItem&&b.legend.destroyItem(this);for(a in this)this[a]=null},destroyElements:function(){for(var a,b="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),c=6;c--;)a=b[c],this[a]&&(this[a]=this[a].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,d=Qb(c.valueDecimals,""),e=c.valuePrefix||"",f=c.valueSuffix||"";return Xb(b.pointArrayMap||["y"],function(b){b="{point."+b,(e||f)&&(a=a.replace(b+"}",e+b+"}"+f)),a=a.replace(b+"}",b+":,."+d+"f}")}),r(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var d=this,e=this.series.options;(e.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),"click"===a&&e.allowPointSelect&&(c=function(a){d.select&&d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),bc(this,a,b,c)}};var zc=fb.Series=function(){};zc.prototype={isCartesian:!0,type:"line",pointClass:yc,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(a,b){var c,d,e=this,f=a.series,g=function(a,b){return Qb(a.options.index,a._i)-Qb(b.options.index,b._i)};e.chart=a,e.options=b=e.setOptions(b),e.linkedSeries=[],e.bindAxes(),Pb(e,{name:b.name,state:"",pointAttr:{},visible:b.visible!==!1,selected:b.selected===!0}),Db&&(b.animation=!1),d=b.events;for(c in d)_b(e,c,d[c]);(d&&d.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)&&(a.runTrackerClick=!0),e.getColor(),e.getSymbol(),Xb(e.parallelArrays,function(a){e[a+"Data"]=[]}),e.setData(b.data,!1),e.isCartesian&&(a.hasCartesianSeries=!0),f.push(e),e._i=f.length-1,u(f,g),this.yAxis&&u(this.yAxis.series,g),Xb(f,function(a,b){a.index=b,a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a,b=this,c=b.options,d=b.chart;Xb(b.axisTypes||[],function(e){Xb(d[e],function(d){a=d.options,(c[e]===a.index||c[e]!==I&&c[e]===a.id||c[e]===I&&0===a.index)&&(d.series.push(b),b[e]=d,d.isDirty=!0)}),!b[e]&&b.optionalAxis!==e&&z(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,d=arguments;Xb(c.parallelArrays,"number"==typeof b?function(d){var e="y"===d&&c.toYData?c.toYData(a):a[d];c[d+"Data"][b]=e}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2))})},autoIncrement:function(){var a,b=this.options,c=this.xIncrement,d=b.pointIntervalUnit,c=Qb(c,b.pointStart,0);return this.pointInterval=a=Qb(this.pointInterval,b.pointInterval,1),("month"===d||"year"===d)&&(b=new Q(c),b="month"===d?+b[db](b[Y]()+a):+b[eb](b[Z]()+a),a=b-c),this.xIncrement=c+a,c},getSegments:function(){var a,b=-1,c=[],d=this.points,e=d.length;if(e)if(this.options.connectNulls){for(a=e;a--;)null===d[a].y&&d.splice(a,1);d.length&&(c=[d])}else Xb(d,function(a,f){null===a.y?(f>b+1&&c.push(d.slice(b+1,f)),b=f):f===e-1&&c.push(d.slice(b+1,f+1))});this.segments=c},setOptions:function(b){var c=this.chart,d=c.options.plotOptions,c=c.userOptions||{},e=c.plotOptions||{},f=d[this.type];return this.userOptions=b,d=a(f,d.series,b),this.tooltipOptions=a(M.tooltip,M.plotOptions[this.type].tooltip,c.tooltip,e.series&&e.series.tooltip,e[this.type]&&e[this.type].tooltip,b.tooltip),null===f.marker&&delete d.marker,this.zoneAxis=d.zoneAxis,b=this.zones=(d.zones||[]).slice(),!d.negativeColor&&!d.negativeFillColor||d.zones||b.push({value:d[this.zoneAxis+"Threshold"]||d.threshold||0,color:d.negativeColor,fillColor:d.negativeFillColor}),b.length&&j(b[b.length-1].value)&&b.push({color:this.color,fillColor:this.fillColor}),d},getCyclic:function(a,b,c){var d=this.userOptions,e="_"+a+"Index",f=a+"Counter";b||(j(d[e])?b=d[e]:(d[e]=b=this.chart[f]%c.length,this.chart[f]+=1),b=c[b]),this[a]=b},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||fc[this.type].color,this.chart.options.colors)},getSymbol:function(){var a=this.options.marker;this.getCyclic("symbol",a.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(a.radius=0)},drawLegendSymbol:Tb.drawLineMarker,setData:function(a,b,d,g){var h,i=this,k=i.points,l=k&&k.length||0,m=i.options,n=i.chart,o=null,p=i.xAxis,q=p&&!!p.categories,r=m.turboThreshold,s=this.xData,t=this.yData,u=(h=i.pointArrayMap)&&h.length,a=a||[];if(h=a.length,b=Qb(b,!0),g!==!1&&h&&l===h&&!i.cropped&&!i.hasGroupedData&&i.visible)Xb(a,function(a,b){k[b].update&&k[b].update(a,!1,null,!1)});else{if(i.xIncrement=null,i.pointRange=q?1:m.pointRange,i.colorCounter=0,Xb(this.parallelArrays,function(a){i[a+"Data"].length=0}),r&&h>r){for(d=0;null===o&&h>d;)o=a[d],d++;if(f(o)){for(q=Qb(m.pointStart,0),m=Qb(m.pointInterval,1),d=0;h>d;d++)s[d]=q,t[d]=a[d],q+=m;i.xIncrement=q}else if(e(o))if(u)for(d=0;h>d;d++)m=a[d],s[d]=m[0],t[d]=m.slice(1,u+1);else for(d=0;h>d;d++)m=a[d],s[d]=m[0],t[d]=m[1];else z(12)}else for(d=0;h>d;d++)a[d]!==I&&(m={series:i},i.pointClass.prototype.applyOptions.apply(m,[a[d]]),i.updateParallelArrays(m,d),q&&j(m.name))&&(p.names[m.x]=m.name);for(c(t[0])&&z(14,!0),i.data=[],i.options.data=a,d=l;d--;)k[d]&&k[d].destroy&&k[d].destroy();p&&(p.minRange=p.userMinRange),i.isDirty=i.isDirtyData=n.isDirtyBox=!0,d=!1}b&&n.redraw(d)},processData:function(a){var b,c=this.xData,d=this.yData,e=c.length;b=0;var f,g,h,i=this.xAxis,j=this.options;h=j.cropThreshold;var k,l,m=this.isCartesian;if(m&&!this.isDirty&&!i.isDirty&&!this.yAxis.isDirty&&!a)return!1;for(i&&(a=i.getExtremes(),k=a.min,l=a.max),m&&this.sorted&&(!h||e>h||this.forceCrop)&&(c[e-1]<k||c[0]>l?(c=[],d=[]):(c[0]<k||c[e-1]>l)&&(b=this.cropData(this.xData,this.yData,k,l),c=b.xData,d=b.yData,b=b.start,f=!0)),h=c.length-1;h>=0;h--)e=c[h]-c[h-1],e>0&&(g===I||g>e)?g=e:0>e&&this.requireSorting&&z(15);this.cropped=f,this.cropStart=b,this.processedXData=c,this.processedYData=d,null===j.pointRange&&(this.pointRange=g||1),this.closestPointRange=g},cropData:function(a,b,c,d){var e,f=a.length,g=0,h=f,i=Qb(this.cropShoulder,1);for(e=0;f>e;e++)if(a[e]>=c){g=mb(0,e-i);break}for(;f>e;e++)if(a[e]>d){h=e+i;break}return{xData:a.slice(g,h),yData:b.slice(g,h),start:g,end:h}},generatePoints:function(){var a,b,c,d,e=this.options.data,f=this.data,g=this.processedXData,h=this.processedYData,i=this.pointClass,j=g.length,k=this.cropStart||0,m=this.hasGroupedData,n=[];for(f||m||(f=[],f.length=e.length,f=this.data=f),d=0;j>d;d++)b=k+d,m?n[d]=(new i).init(this,[g[d]].concat(l(h[d]))):(f[b]?c=f[b]:e[b]!==I&&(f[b]=c=(new i).init(this,e[b],g[d])),n[d]=c),n[d].index=b;if(f&&(j!==(a=f.length)||m))for(d=0;a>d;d++)d===k&&!m&&(d+=j),f[d]&&(f[d].destroyElements(),f[d].plotX=I);this.data=f,this.points=n},getExtremes:function(a){var b,c=this.yAxis,d=this.processedXData,e=[],f=0;b=this.xAxis.getExtremes();var g,h,i,j,k=b.min,l=b.max,a=a||this.stackedYData||this.processedYData;for(b=a.length,j=0;b>j;j++)if(h=d[j],i=a[j],g=null!==i&&i!==I&&(!c.isLog||i.length||i>0),h=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(d[j+1]||h)>=k&&(d[j-1]||h)<=l,g&&h)if(g=i.length)for(;g--;)null!==i[g]&&(e[f++]=i[g]);else e[f++]=i;this.dataMin=v(e),this.dataMax=w(e)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var a,b,c,d=this.options,e=d.stacking,g=this.xAxis,h=g.categories,i=this.yAxis,k=this.points,l=k.length,m=!!this.modifyValue,n=d.pointPlacement,o="between"===n||f(n),p=d.threshold,q=d.startFromThreshold?p:0,r=Number.MAX_VALUE,d=0;l>d;d++){var s=k[d],t=s.x,u=s.y;b=s.low;var v=e&&i.stacks[(this.negStacks&&(q?0:p)>u?"-":"")+this.stackKey];i.isLog&&null!==u&&0>=u&&(s.y=u=null,z(10)),s.plotX=a=nb(mb(-1e5,g.translate(t,0,0,0,1,n,"flags"===this.type)),1e5),e&&this.visible&&v&&v[t]&&(v=v[t],u=v.points[this.index+","+d],b=u[0],u=u[1],b===q&&(b=Qb(p,i.min)),i.isLog&&0>=b&&(b=null),s.total=s.stackTotal=v.total,s.percentage=v.total&&s.y/v.total*100,s.stackY=u,v.setOffset(this.pointXOffset||0,this.barW||0)),s.yBottom=j(b)?i.translate(b,0,1,0,1):null,m&&(u=this.modifyValue(u,s)),s.plotY=b="number"==typeof u&&1/0!==u?nb(mb(-1e5,i.translate(u,0,1,0,1)),1e5):I,s.isInside=b!==I&&b>=0&&b<=i.len&&a>=0&&a<=g.len,s.clientX=o?g.translate(t,0,0,0,1):a,s.negative=s.y<(p||0),s.category=h&&h[s.x]!==I?h[s.x]:s.x,d&&(r=nb(r,ob(a-c))),c=a}this.closestPointRangePx=r,this.getSegments()},setClip:function(a){var b=this.chart,c=b.renderer,d=b.inverted,e=this.clipBox,f=e||b.clipBox,g=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,f.height].join(","),h=b[g],i=b[g+"m"];h||(a&&(f.width=0,b[g+"m"]=i=c.clipRect(-99,d?-b.plotLeft:-b.plotTop,99,d?b.chartWidth:b.chartHeight)),b[g]=h=c.clipRect(f)),a&&(h.count+=1),this.options.clip!==!1&&(this.group.clip(a||e?h:b.clipRect),this.markerGroup.clip(i),this.sharedClipKey=g),a||(h.count-=1,h.count<=0&&g&&b[g]&&(e||(b[g]=b[g].destroy()),b[g+"m"]&&(b[g+"m"]=b[g+"m"].destroy())))},animate:function(a){var b,c=this.chart,e=this.options.animation;e&&!d(e)&&(e=fc[this.type].animation),a?this.setClip(e):(b=this.sharedClipKey,(a=c[b])&&a.animate({width:c.plotSizeX},e),c[b+"m"]&&c[b+"m"].animate({width:c.plotSizeX+99},e),this.animate=null)},afterAnimate:function(){this.setClip(),bc(this,"afterAnimate")},drawPoints:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this.points,n=this.chart,o=this.options.marker,p=this.pointAttr[""],q=this.markerGroup,r=Qb(o.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*o.radius);if(o.enabled!==!1||this._hasPointMarkers)for(d=m.length;d--;)e=m[d],b=kb(e.plotX),c=e.plotY,i=e.graphic,j=e.marker||{},k=!!e.marker,a=r&&j.enabled===I||j.enabled,l=e.isInside,a&&c!==I&&!isNaN(c)&&null!==e.y?(a=e.pointAttr[e.selected?"select":""]||p,f=a.r,g=Qb(j.symbol,this.symbol),h=0===g.indexOf("url"),i?i[l?"show":"hide"](!0).animate(Pb({x:b-f,y:c-f},i.symbolName?{width:2*f,height:2*f}:{})):l&&(f>0||h)&&(e.graphic=n.renderer.symbol(g,b-f,c-f,2*f,2*f,k?j:o).attr(a).add(q))):i&&(e.graphic=i.destroy())},convertAttribs:function(a,b,c,d){var e,f,g=this.pointAttrToOptions,h={},a=a||{},b=b||{},c=c||{},d=d||{};for(e in g)f=g[e],h[e]=Qb(a[f],b[e],c[e],d[e]);return h},getAttribs:function(){var a,b=this,c=b.options,d=fc[b.type].marker?c.marker:c,e=d.states,f=e.hover,g=b.color,h=b.options.negativeColor;a={stroke:g,fill:g};var i,k,l=b.points||[],m=[],n=b.pointAttrToOptions;i=b.hasPointSpecificOptions;var o=d.lineColor,p=d.fillColor;k=c.turboThreshold;var q,r=b.zones,s=b.zoneAxis||"y";if(c.marker?(f.radius=f.radius||d.radius+f.radiusPlus,f.lineWidth=f.lineWidth||d.lineWidth+f.lineWidthPlus):(f.color=f.color||jc(f.color||g).brighten(f.brightness).get(),f.negativeColor=f.negativeColor||jc(f.negativeColor||h).brighten(f.brightness).get()),m[""]=b.convertAttribs(d,a),Xb(["hover","select"],function(a){m[a]=b.convertAttribs(e[a],m[""])}),b.pointAttr=m,g=l.length,!k||k>g||i)for(;g--;){if(k=l[g],(d=k.options&&k.options.marker||k.options)&&d.enabled===!1&&(d.radius=0),r.length){for(i=0,a=r[i];k[s]>=a.value;)a=r[++i];a.color&&(k.color=k.fillColor=a.color)}if(i=c.colorByPoint||k.color,k.options)for(q in n)j(d[n[q]])&&(i=!0);i?(d=d||{},i=[],e=d.states||{},a=e.hover=e.hover||{},c.marker||(a.color=a.color||!k.options.color&&f[k.negative&&h?"negativeColor":"color"]||jc(k.color).brighten(a.brightness||f.brightness).get()),a={color:k.color},p||(a.fillColor=k.color),o||(a.lineColor=k.color),d.hasOwnProperty("color")&&!d.color&&delete d.color,i[""]=b.convertAttribs(Pb(a,d),m[""]),i.hover=b.convertAttribs(e.hover,m.hover,i[""]),i.select=b.convertAttribs(e.select,m.select,i[""])):i=m,k.pointAttr=i}},destroy:function(){var a,b,c,d,e=this,f=e.chart,g=/AppleWebKit\/533/.test(tb),h=e.data||[];for(bc(e,"destroy"),ac(e),Xb(e.axisTypes||[],function(a){(d=e[a])&&(i(d.series,e),d.isDirty=d.forceRedraw=!0)}),e.legendItem&&e.chart.legend.destroyItem(e),a=h.length;a--;)(b=h[a])&&b.destroy&&b.destroy();e.points=null,clearTimeout(e.animationTimeout);for(c in e)e[c]instanceof D&&!e[c].survive&&(a=g&&"group"===c?"hide":"destroy",e[c][a]());f.hoverSeries===e&&(f.hoverSeries=null),i(f.series,e);for(c in e)delete e[c]},getSegmentPath:function(a){var b=this,c=[],d=b.options.step;return Xb(a,function(e,f){var g,h=e.plotX,i=e.plotY;b.getPointSpline?c.push.apply(c,b.getPointSpline(a,e,f)):(c.push(f?"L":"M"),d&&f&&(g=a[f-1],"right"===d?c.push(g.plotX,i):"center"===d?c.push((g.plotX+h)/2,g.plotY,(g.plotX+h)/2,i):c.push(h,g.plotY)),c.push(e.plotX,e.plotY))}),c},getGraphPath:function(){var a,b=this,c=[],d=[];return Xb(b.segments,function(e){a=b.getSegmentPath(e),e.length>1?c=c.concat(a):d.push(e[0])}),b.singlePoints=d,b.graphPath=c},drawGraph:function(){var a=this,b=this.options,c=[["graph",b.lineColor||this.color,b.dashStyle]],d=b.lineWidth,e="square"!==b.linecap,f=this.getGraphPath(),g=this.fillGraph&&this.color||Kb;Xb(this.zones,function(d,e){c.push(["zoneGraph"+e,d.color||a.color,d.dashStyle||b.dashStyle])}),Xb(c,function(c,h){var i=c[0],j=a[i];j?j.animate({d:f}):(d||g)&&f.length&&(j={stroke:c[1],"stroke-width":d,fill:g,zIndex:1},c[2]?j.dashstyle=c[2]:e&&(j["stroke-linecap"]=j["stroke-linejoin"]="round"),a[i]=a.chart.renderer.path(f).attr(j).add(a.group).shadow(2>h&&b.shadow))})},applyZones:function(){var a,b,c,d,e,f,g,h=this,i=this.chart,j=i.renderer,k=this.zones,l=this.clips||[],m=this.graph,n=this.area,o=mb(i.chartWidth,i.chartHeight),p=this[(this.zoneAxis||"y")+"Axis"],q=p.reversed,r=i.inverted,s=p.horiz,t=!1;k.length&&(m||n)&&p.min!==I&&(m&&m.hide(),n&&n.hide(),d=p.getExtremes(),Xb(k,function(k,u){a=q?s?i.plotWidth:0:s?0:p.toPixels(d.min),a=nb(mb(Qb(b,a),0),o),b=nb(mb(jb(p.toPixels(Qb(k.value,d.max),!0)),0),o),t&&(a=b=p.toPixels(d.max)),e=Math.abs(a-b),f=nb(a,b),g=mb(a,b),p.isXAxis?(c={x:r?g:f,y:0,width:e,height:o},s||(c.x=i.plotHeight-c.x)):(c={x:0,y:r?g:f,width:o,height:e},s&&(c.y=i.plotWidth-c.y)),i.inverted&&j.isVML&&(c=p.isXAxis?{x:0,y:q?f:g,height:c.width,width:i.chartWidth}:{x:c.y-i.plotLeft-i.spacingBox.x,y:0,width:c.height,height:i.chartHeight}),l[u]?l[u].animate(c):(l[u]=j.clipRect(c),m&&h["zoneGraph"+u].clip(l[u]),n&&h["zoneArea"+u].clip(l[u])),t=k.value>d.max}),this.clips=l)},invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};Xb(["group","markerGroup"],function(c){b[c]&&b[c].attr(a).invert()})}var b=this,c=b.chart;b.xAxis&&(_b(c,"resize",a),_b(b,"destroy",function(){ac(c,"resize",a)}),a(),b.invertGroups=a)},plotGroup:function(a,b,c,d,e){var f=this[a],g=!f;return g&&(this[a]=f=this.chart.renderer.g(b).attr({visibility:c,zIndex:d||.1}).add(e)),f[g?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;return a.inverted&&(b=c,c=this.xAxis),{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a,b=this,c=b.chart,d=b.options,e=(a=d.animation)&&!!b.animate&&c.renderer.isSVG&&Qb(a.duration,500)||0,f=b.visible?"visible":"hidden",g=d.zIndex,h=b.hasRendered,i=c.seriesGroup;a=b.plotGroup("group","series",f,g,i),b.markerGroup=b.plotGroup("markerGroup","markers",f,g,i),e&&b.animate(!0),b.getAttribs(),a.inverted=b.isCartesian?c.inverted:!1,b.drawGraph&&(b.drawGraph(),b.applyZones()),Xb(b.points,function(a){a.redraw&&a.redraw()}),b.drawDataLabels&&b.drawDataLabels(),b.visible&&b.drawPoints(),b.drawTracker&&b.options.enableMouseTracking!==!1&&b.drawTracker(),c.inverted&&b.invertGroups(),d.clip!==!1&&!b.sharedClipKey&&!h&&a.clip(c.clipRect),e&&b.animate(),h||(e?b.animationTimeout=setTimeout(function(){b.afterAnimate()},e):b.afterAnimate()),b.isDirty=b.isDirtyData=!1,b.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirtyData,c=this.isDirty,d=this.group,e=this.xAxis,f=this.yAxis;d&&(a.inverted&&d.attr({width:a.plotWidth,height:a.plotHeight}),d.animate({translateX:Qb(e&&e.left,a.plotLeft),translateY:Qb(f&&f.top,a.plotTop)})),this.translate(),this.render(),b&&bc(this,"updatedData"),(c||b)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(a,b){var c=this.xAxis,d=this.yAxis,e=this.chart.inverted;return this.searchKDTree({clientX:e?c.len-a.chartY+c.pos:a.chartX-c.pos,plotY:e?d.len-a.chartX+d.pos:a.chartY-d.pos},b)},buildKDTree:function(){function a(b,d,e){var f,g;return(g=b&&b.length)?(f=c.kdAxisArray[d%e],b.sort(function(a,b){return a[f]-b[f]}),g=Math.floor(g/2),{point:b[g],left:a(b.slice(0,g),d+1,e),right:a(b.slice(g+1),d+1,e)}):void 0}function b(){var b=Yb(c.points||[],function(a){return null!==a.y});c.kdTree=a(b,d,d)}var c=this,d=c.kdDimensions;delete c.kdTree,c.options.kdSync?b():setTimeout(b)},searchKDTree:function(a,b){function c(a,b,h,i){var k,l,m=b.point,n=d.kdAxisArray[h%i],o=m;return l=j(a[e])&&j(m[e])?Math.pow(a[e]-m[e],2):null,k=j(a[f])&&j(m[f])?Math.pow(a[f]-m[f],2):null,k=(l||0)+(k||0),m.dist=j(k)?Math.sqrt(k):Number.MAX_VALUE,m.distX=j(l)?Math.sqrt(l):Number.MAX_VALUE,n=a[n]-m[n],k=0>n?"left":"right",l=0>n?"right":"left",b[k]&&(k=c(a,b[k],h+1,i),o=k[g]<o[g]?k:m),b[l]&&Math.sqrt(n*n)<o[g]&&(a=c(a,b[l],h+1,i),o=a[g]<o[g]?a:o),o}var d=this,e=this.kdAxisArray[0],f=this.kdAxisArray[1],g=b?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?c(a,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},F.prototype={destroy:function(){x(this,this.axis)},render:function(a){var b=this.options,c=b.format,c=c?r(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var c=this.axis,d=c.chart,e=d.inverted,f=c.reversed,f=this.isNegative&&!f||!this.isNegative&&f,g=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=ob(g-c),h=d.xAxis[0].translate(this.x)+a,i=d.plotHeight,f={x:e?f?g:g-c:h,y:e?i-h-b:f?i-g-c:i-g,width:e?c:b,height:e?b:c};(e=this.label)&&(e.align(this.alignOptions,null,f),f=e.alignAttr,e[this.options.crop===!1||d.isInsidePlot(f.x,f.y)?"show":"hide"](!0))}},wc.prototype.getStacks=function(){var a=this;Xb(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)}),Xb(a.series,function(b){!b.options.stacking||b.visible!==!0&&a.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=b.type+Qb(b.options.stack,""))})},nc.prototype.buildStacks=function(){var a=this.series,b=Qb(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1;c--;)a[b?c:a.length-c-1].setStackedPoints();if(this.usePercentage)for(c=0;c<a.length;c++)a[c].setPercentStacks()}},nc.prototype.renderStackTotals=function(){var a,b,c=this.chart,d=c.renderer,e=this.stacks,f=this.stackTotalGroup;f||(this.stackTotalGroup=f=d.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),f.translate(c.plotLeft,c.plotTop);for(a in e)for(b in c=e[a])c[b].render(f)},nc.prototype.resetStacks=function(){var a,b,c=this.stacks;if(!this.isXAxis)for(a in c)for(b in c[a])c[a][b].touched<this.stacksTouched?(c[a][b].destroy(),delete c[a][b]):(c[a][b].total=null,c[a][b].cum=0)},nc.prototype.cleanStacks=function(){var a,b,c;if(!this.isXAxis){this.oldStacks&&(a=this.stacks=this.oldStacks);for(b in a)for(c in a[b])a[b][c].cum=a[b][c].total}},zc.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var a,b,c,d,e,f,g=this.processedXData,h=this.processedYData,i=[],j=h.length,k=this.options,l=k.threshold,m=k.startFromThreshold?l:0,n=k.stack,k=k.stacking,o=this.stackKey,p="-"+o,q=this.negStacks,r=this.yAxis,s=r.stacks,t=r.oldStacks;for(r.stacksTouched+=1,d=0;j>d;d++)e=g[d],f=h[d],c=this.index+","+d,b=(a=q&&(m?0:l)>f)?p:o,s[b]||(s[b]={}),s[b][e]||(t[b]&&t[b][e]?(s[b][e]=t[b][e],s[b][e].total=null):s[b][e]=new F(r,r.options.stackLabels,a,e,n)),b=s[b][e],b.points[c]=[Qb(b.cum,m)],b.touched=r.stacksTouched,"percent"===k?(a=a?o:p,q&&s[a]&&s[a][e]?(a=s[a][e],b.total=a.total=mb(a.total,b.total)+ob(f)||0):b.total=A(b.total+(ob(f)||0))):b.total=A(b.total+(f||0)),b.cum=Qb(b.cum,m)+(f||0),b.points[c].push(b.cum),i[d]=b.cum;"percent"===k&&(r.usePercentage=!0),this.stackedYData=i,r.oldStacks={}}},zc.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,d=a.processedXData;Xb([b,"-"+b],function(b){for(var e,f,g,h=d.length;h--;)f=d[h],e=(g=c[b]&&c[b][f])&&g.points[a.index+","+h],(f=e)&&(g=g.total?100/g.total:0,f[0]=A(f[0]*g),f[1]=A(f[1]*g),a.stackedYData[h]=f[1])})},Pb(wc.prototype,{addSeries:function(a,b,c){var d,e=this;return a&&(b=Qb(b,!0),bc(e,"addSeries",{options:a},function(){d=e.initSeries(a),e.isDirtyLegend=!0,e.linkSeries(),b&&e.redraw(c)})),d},addAxis:function(b,c,d,e){var f=c?"xAxis":"yAxis",g=this.options;new nc(this,a(b,{index:this[f].length,isX:c})),g[f]=l(g[f]||{}),g[f].push(b),Qb(d,!0)&&this.redraw(e)},showLoading:function(a){var b=this,c=b.options,d=b.loadingDiv,e=c.loading,f=function(){d&&m(d,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};d||(b.loadingDiv=d=n(Jb,{className:"highcharts-loading"},Pb(e.style,{zIndex:10,display:Kb}),b.container),b.loadingSpan=n("span",null,e.labelStyle,d),_b(b,"redraw",f)),b.loadingSpan.innerHTML=a||c.lang.loading,b.loadingShown||(m(d,{opacity:0,display:""}),dc(d,{opacity:e.style.opacity},{duration:e.showDuration||0}),b.loadingShown=!0),f()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&dc(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){m(b,{display:Kb})}}),this.loadingShown=!1}}),Pb(yc.prototype,{update:function(a,b,c,f){function g(){i.applyOptions(a),null===i.y&&k&&(i.graphic=k.destroy()),d(a)&&!e(a)&&(i.redraw=function(){k&&k.element&&a&&a.marker&&a.marker.symbol&&(i.graphic=k.destroy()),a&&a.dataLabels&&i.dataLabel&&(i.dataLabel=i.dataLabel.destroy()),i.redraw=null}),h=i.index,j.updateParallelArrays(i,h),n&&i.name&&(n[i.x]=i.name),m.data[h]=i.options,j.isDirty=j.isDirtyData=!0,!j.fixedBox&&j.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===m.legendType&&(l.isDirtyLegend=!0),b&&l.redraw(c)}var h,i=this,j=i.series,k=i.graphic,l=j.chart,m=j.options,n=j.xAxis&&j.xAxis.names,b=Qb(b,!0);f===!1?g():i.firePointEvent("update",{options:a},g)},remove:function(a,b){this.series.removePoint(Wb(this,this.series.data),a,b)}}),Pb(zc.prototype,{addPoint:function(a,b,c,d){var e,f=this,g=f.options,h=f.data,i=f.graph,j=f.area,k=f.chart,l=f.xAxis&&f.xAxis.names,m=i&&i.shift||0,n=["graph","area"],i=g.data,o=f.xData;if(B(d,k),c){for(d=f.zones.length;d--;)n.push("zoneGraph"+d,"zoneArea"+d);Xb(n,function(a){f[a]&&(f[a].shift=m+1)})}if(j&&(j.isArea=!0),b=Qb(b,!0),j={series:f},f.pointClass.prototype.applyOptions.apply(j,[a]),n=j.x,d=o.length,f.requireSorting&&n<o[d-1])for(e=!0;d&&o[d-1]>n;)d--;f.updateParallelArrays(j,"splice",d,0,0),f.updateParallelArrays(j,d),l&&j.name&&(l[n]=j.name),i.splice(d,0,a),e&&(f.data.splice(d,0,null),f.processData()),"point"===g.legendType&&f.generatePoints(),c&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),f.updateParallelArrays(j,"shift"),i.shift())),f.isDirty=!0,f.isDirtyData=!0,b&&(f.getAttribs(),k.redraw())},removePoint:function(a,b,c){var d=this,e=d.data,f=e[a],g=d.points,h=d.chart,i=function(){e.length===g.length&&g.splice(a,1),e.splice(a,1),d.options.data.splice(a,1),d.updateParallelArrays(f||{series:d},"splice",a,1),f&&f.destroy(),d.isDirty=!0,d.isDirtyData=!0,b&&h.redraw()};B(c,h),b=Qb(b,!0),f?f.firePointEvent("remove",null,i):i()},remove:function(a,b){var c=this,d=c.chart,a=Qb(a,!0);c.isRemoving||(c.isRemoving=!0,bc(c,"remove",null,function(){c.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,d.linkSeries(),a&&d.redraw(b)})),c.isRemoving=!1},update:function(b,c){var d,e=this,f=this.chart,g=this.userOptions,h=this.type,i=Ob[h].prototype,j=["group","markerGroup","dataLabelsGroup"];(b.type&&b.type!==h||void 0!==b.zIndex)&&(j.length=0),Xb(j,function(a){j[a]=e[a],delete e[a]}),b=a(g,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},b),this.remove(!1);for(d in i)this[d]=I;Pb(this,Ob[b.type||h].prototype),Xb(j,function(a){e[a]=j[a]}),this.init(f,b),f.linkSeries(),Qb(c,!0)&&f.redraw(!1)}}),Pb(nc.prototype,{update:function(b,c){var d=this.chart,b=d.options[this.coll][this.options.index]=a(this.userOptions,b);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=I,this.init(d,Pb(b,{events:I})),d.isDirtyBox=!0,Qb(c,!0)&&d.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,d=this.series,e=d.length;e--;)d[e]&&d[e].remove(!1);i(b.axes,this),i(b[c],this),b.options[c].splice(this.options.index,1),Xb(b[c],function(a,b){a.options.index=b}),this.destroy(),b.isDirtyBox=!0,Qb(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});var Ac=o(zc);Ob.line=Ac,fc.area=a(Sb,{threshold:0});var Bc=o(zc,{type:"area",getSegments:function(){var a,b,c,d,e=this,f=[],g=[],h=[],i=this.xAxis,j=this.yAxis,k=j.stacks[this.stackKey],l={},m=this.points,n=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(c=0;c<m.length;c++)l[m[c].x]=m[c];for(d in k)null!==k[d].total&&h.push(+d);h.sort(function(a,b){return a-b}),Xb(h,function(d){var f,h=0;if(!n||l[d]&&null!==l[d].y)if(l[d])g.push(l[d]);else{for(c=e.index;c<=j.series.length;c++)if(f=k[d].points[c+","+d]){h=f[1];break}a=i.translate(d),b=j.toPixels(h,!0),g.push({y:null,plotX:a,clientX:a,plotY:b,yBottom:b,onMouseOver:Gb})}}),g.length&&f.push(g)}else zc.prototype.getSegments.call(this),f=this.segments;this.segments=f},getSegmentPath:function(a){var b,c=zc.prototype.getSegmentPath.call(this,a),d=[].concat(c),e=this.options;b=c.length;var f,g=this.yAxis.getThreshold(e.threshold);if(3===b&&d.push("L",c[1],c[2]),e.stacking&&!this.closedStacks)for(b=a.length-1;b>=0;b--)f=Qb(a[b].yBottom,g),b<a.length-1&&e.step&&d.push(a[b+1].plotX,f),d.push(a[b].plotX,f);else this.closeSegment(d,a,g);return this.areaPath=this.areaPath.concat(d),c},closeSegment:function(a,b,c){a.push("L",b[b.length-1].plotX,c,"L",b[0].plotX,c)},drawGraph:function(){this.areaPath=[],zc.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,d=[["area",this.color,c.fillColor]];Xb(this.zones,function(b,e){d.push(["zoneArea"+e,b.color||a.color,b.fillColor||c.fillColor])}),Xb(d,function(d){var e=d[0],f=a[e];f?f.animate({d:b}):a[e]=a.chart.renderer.path(b).attr({fill:Qb(d[2],jc(d[1]).setOpacity(Qb(c.fillOpacity,.75)).get()),zIndex:0}).add(a.group)})},drawLegendSymbol:Tb.drawRectangle});Ob.area=Bc,fc.spline=a(Sb),Ac=o(zc,{type:"spline",getPointSpline:function(a,b,c){var d,e,f,g,h=b.plotX,i=b.plotY,j=a[c-1],k=a[c+1];if(j&&k){a=j.plotY,f=k.plotX;var l,k=k.plotY;d=(1.5*h+j.plotX)/2.5,e=(1.5*i+a)/2.5,f=(1.5*h+f)/2.5,g=(1.5*i+k)/2.5,l=(g-e)*(f-h)/(f-d)+i-g,e+=l,g+=l,e>a&&e>i?(e=mb(a,i),g=2*i-e):a>e&&i>e&&(e=nb(a,i),g=2*i-e),g>k&&g>i?(g=mb(k,i),e=2*i-g):k>g&&i>g&&(g=nb(k,i),e=2*i-g),b.rightContX=f,b.rightContY=g}return c?(b=["C",j.rightContX||j.plotX,j.rightContY||j.plotY,d||h,e||i,h,i],j.rightContX=j.rightContY=null):b=["M",h,i],b}}),Ob.spline=Ac,fc.areaspline=a(fc.area),Bc=Bc.prototype,Ac=o(Ac,{type:"areaspline",closedStacks:!0,getSegmentPath:Bc.getSegmentPath,closeSegment:Bc.closeSegment,drawGraph:Bc.drawGraph,drawLegendSymbol:Tb.drawRectangle}),Ob.areaspline=Ac,fc.column=a(Sb,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),Ac=o(zc,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){zc.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&Xb(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var a,b,c=this,d=c.options,e=c.xAxis,f=c.yAxis,g=e.reversed,h={},i=0;d.grouping===!1?i=1:Xb(c.chart.series,function(d){var e=d.options,g=d.yAxis;d.type===c.type&&d.visible&&f.len===g.len&&f.pos===g.pos&&(e.stacking?(a=d.stackKey,h[a]===I&&(h[a]=i++),b=h[a]):e.grouping!==!1&&(b=i++),d.columnIndex=b)});var j=nb(ob(e.transA)*(e.ordinalSlope||d.pointRange||e.closestPointRange||e.tickInterval||1),e.len),k=j*d.groupPadding,l=(j-2*k)/i,d=nb(d.maxPointWidth||e.len,Qb(d.pointWidth,l*(1-2*d.pointPadding)));return c.columnMetrics={width:d,offset:(l-d)/2+(k+((g?i-(c.columnIndex||0):c.columnIndex)||0)*l-j/2)*(g?-1:1)}},translate:function(){var a=this,b=a.chart,c=a.options,d=a.borderWidth=Qb(c.borderWidth,a.closestPointRange*a.xAxis.transA<2?0:1),e=a.yAxis,f=a.translatedThreshold=e.getThreshold(c.threshold),g=Qb(c.minPointLength,5),h=a.getColumnMetrics(),i=h.width,j=a.barW=mb(i,1+2*d),k=a.pointXOffset=h.offset,l=-(d%2?.5:0),m=d%2?.5:1;
b.inverted&&(f-=.5,b.renderer.isVML&&(m+=1)),c.pointPadding&&(j=lb(j)),zc.prototype.translate.apply(a),Xb(a.points,function(c){var d,h,n=Qb(c.yBottom,f),o=999+ob(n),o=nb(mb(-o,c.plotY),e.len+o),p=c.plotX+k,q=j,r=nb(o,n);d=mb(o,n)-r,ob(d)<g&&g&&(d=g,h=!e.reversed&&!c.negative||e.reversed&&c.negative,r=jb(ob(r-f)>g?n-g:f-(h?g:0))),c.barX=p,c.pointWidth=i,q=jb(p+q)+l,p=jb(p)+l,q-=p,n=ob(r)<.5,d=nb(jb(r+d)+m,9e4),r=jb(r)+m,d-=r,n&&(r-=1,d+=1),c.tooltipPos=b.inverted?[e.len+e.pos-b.plotLeft-o,a.xAxis.len-p-q/2,d]:[p+q/2,o+e.pos-b.plotTop,d],c.shapeType="rect",c.shapeArgs={x:p,y:r,width:q,height:d}})},getSymbol:Gb,drawLegendSymbol:Tb.drawRectangle,drawGraph:Gb,drawPoints:function(){var b,c,d=this,e=this.chart,f=d.options,g=e.renderer,h=f.animationLimit||250;Xb(d.points,function(i){var k=i.plotY,l=i.graphic;k===I||isNaN(k)||null===i.y?l&&(i.graphic=l.destroy()):(b=i.shapeArgs,k=j(d.borderWidth)?{"stroke-width":d.borderWidth}:{},c=i.pointAttr[i.selected?"select":""]||d.pointAttr[""],l?(ec(l),l.attr(k)[e.pointCount<h?"animate":"attr"](a(b))):i.graphic=g[i.shapeType](b).attr(k).attr(c).add(d.group).shadow(f.shadow,null,f.stacking&&!f.borderRadius))})},animate:function(a){var b=this.yAxis,c=this.options,d=this.chart.inverted,e={};Bb&&(a?(e.scaleY=.001,a=nb(b.pos+b.len,mb(b.pos,b.toPixels(c.threshold))),d?e.translateX=a-b.len:e.translateY=a,this.group.attr(e)):(e.scaleY=1,e[d?"translateX":"translateY"]=b.pos,this.group.animate(e,this.options.animation),this.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&Xb(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),zc.prototype.remove.apply(a,arguments)}}),Ob.column=Ac,fc.bar=a(fc.column),Bc=o(Ac,{type:"bar",inverted:!0}),Ob.bar=Bc,fc.scatter=a(Sb,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Bc=o(zc,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&zc.prototype.drawGraph.call(this)}}),Ob.scatter=Bc,fc.pie=a(Sb,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Sb={type:"pie",isCartesian:!1,pointClass:o(yc,{init:function(){yc.prototype.init.apply(this,arguments);var a,b=this;return Pb(b,{visible:b.visible!==!1,name:Qb(b.name,"Slice")}),a=function(a){b.slice("select"===a.type)},_b(b,"select",a),_b(b,"unselect",a),b},setVisible:function(a,b){var c=this,d=c.series,e=d.chart,f=d.options.ignoreHiddenPoint,b=Qb(b,f);a!==c.visible&&(c.visible=c.options.visible=a=a===I?!c.visible:a,d.options.data[Wb(c,d.data)]=c.options,Xb(["graphic","dataLabel","connector","shadowGroup"],function(b){c[b]&&c[b][a?"show":"hide"](!0)}),c.legendItem&&e.legend.colorizeItem(c,a),!a&&"hover"===c.state&&c.setState(""),f&&(d.isDirty=!0),b&&e.redraw())},slice:function(a,b,c){var d=this.series;B(c,d.chart),Qb(b,!0),this.sliced=this.options.sliced=a=j(a)?a:!this.sliced,d.options.data[Wb(this,d.data)]=this.options,a=a?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(a),this.shadowGroup&&this.shadowGroup.animate(a)},haloPath:function(a){var b=this.shapeArgs,c=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(a){var b=this,c=b.points,d=b.startAngleRad;a||(Xb(c,function(a){var c=a.graphic,e=a.shapeArgs;c&&(c.attr({r:a.startR||b.center[3]/2,start:d,end:d}),c.animate({r:e.r,start:e.start,end:e.end},b.options.animation))}),b.animate=null)},setData:function(a,b,c,d){zc.prototype.setData.call(this,a,!1,c,d),this.processData(),this.generatePoints(),Qb(b,!0)&&this.chart.redraw(c)},updateTotals:function(){var a,b,c=0,d=this.points,e=d.length,f=this.options.ignoreHiddenPoint;for(a=0;e>a;a++)b=d[a],c+=f&&!b.visible?0:b.y;for(this.total=c,a=0;e>a;a++)b=d[a],b.percentage=c>0&&(b.visible||!f)?b.y/c*100:0,b.total=c},generatePoints:function(){zc.prototype.generatePoints.call(this),this.updateTotals()},translate:function(a){this.generatePoints();var b,c,d,e,f,g=0,h=this.options,i=h.slicedOffset,j=i+h.borderWidth,k=h.startAngle||0,l=this.startAngleRad=rb/180*(k-90),k=(this.endAngleRad=rb/180*(Qb(h.endAngle,k+360)-90))-l,m=this.points,n=h.dataLabels.distance,h=h.ignoreHiddenPoint,o=m.length;for(a||(this.center=a=this.getCenter()),this.getX=function(b,c){return d=ib.asin(nb((b-a[1])/(a[2]/2+n),1)),a[0]+(c?-1:1)*pb(d)*(a[2]/2+n)},e=0;o>e;e++)f=m[e],b=l+g*k,(!h||f.visible)&&(g+=f.percentage/100),c=l+g*k,f.shapeType="arc",f.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:jb(1e3*b)/1e3,end:jb(1e3*c)/1e3},d=(c+b)/2,d>1.5*rb?d-=2*rb:-rb/2>d&&(d+=2*rb),f.slicedTranslation={translateX:jb(pb(d)*i),translateY:jb(qb(d)*i)},b=pb(d)*a[2]/2,c=qb(d)*a[2]/2,f.tooltipPos=[a[0]+.7*b,a[1]+.7*c],f.half=-rb/2>d||d>rb/2?1:0,f.angle=d,j=nb(j,n/2),f.labelPos=[a[0]+b+pb(d)*n,a[1]+c+qb(d)*n,a[0]+b+pb(d)*j,a[1]+c+qb(d)*j,a[0]+b,a[1]+c,0>n?"center":f.half?"right":"left",d]},drawGraph:null,drawPoints:function(){var a,b,c,d,e,f=this,g=f.chart.renderer,h=f.options.shadow;h&&!f.shadowGroup&&(f.shadowGroup=g.g("shadow").add(f.group)),Xb(f.points,function(i){null!==i.y&&(b=i.graphic,d=i.shapeArgs,c=i.shadowGroup,h&&!c&&(c=i.shadowGroup=g.g("shadow").add(f.shadowGroup)),a=i.sliced?i.slicedTranslation:{translateX:0,translateY:0},c&&c.attr(a),b?b.animate(Pb(d,a)):(e={"stroke-linejoin":"round"},i.visible||(e.visibility="hidden"),i.graphic=b=g[i.shapeType](d).setRadialReference(f.center).attr(i.pointAttr[i.selected?"select":""]).attr(e).attr(a).add(f.group).shadow(h,c)))})},searchPoint:Gb,sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:Tb.drawRectangle,getCenter:xc.getCenter,getSymbol:Gb},Sb=o(zc,Sb),Ob.pie=Sb,zc.prototype.drawDataLabels=function(){var b,c,d,e,f=this,g=f.options,h=g.cursor,i=g.dataLabels,k=f.points,l=f.hasRendered||0,m=f.chart.renderer;(i.enabled||f._hasPointLabels)&&(f.dlProcessOptions&&f.dlProcessOptions(i),e=f.plotGroup("dataLabelsGroup","data-labels",i.defer?"hidden":"visible",i.zIndex||6),Qb(i.defer,!0)&&(e.attr({opacity:+l}),l||_b(f,"afterAnimate",function(){f.visible&&e.show(),e[g.animation?"animate":"attr"]({opacity:1},{duration:200})})),c=i,Xb(k,function(k){var l,n,o,p,q=k.dataLabel,s=k.connector,t=!0,u={};if(b=k.dlOptions||k.options&&k.options.dataLabels,l=Qb(b&&b.enabled,c.enabled),q&&!l)k.dataLabel=q.destroy();else if(l){if(i=a(c,b),p=i.style,l=i.rotation,n=k.getLabelConfig(),d=i.format?r(i.format,n):i.formatter.call(n,i),p.color=Qb(i.color,p.color,f.color,"black"),q)j(d)?(q.attr({text:d}),t=!1):(k.dataLabel=q=q.destroy(),s&&(k.connector=s.destroy()));else if(j(d)){q={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:l,padding:i.padding,zIndex:1},"contrast"===p.color&&(u.color=i.inside||i.distance<0||g.stacking?m.getContrast(k.color||f.color):"#000000"),h&&(u.cursor=h);for(o in q)q[o]===I&&delete q[o];q=k.dataLabel=m[l?"text":"label"](d,0,-999,i.shape,null,null,i.useHTML).attr(q).css(Pb(p,u)).add(e).shadow(i.shadow)}q&&f.alignDataLabel(k,q,i,null,t)}}))},zc.prototype.alignDataLabel=function(a,b,c,d,e){var f=this.chart,g=f.inverted,h=Qb(a.plotX,-999),i=Qb(a.plotY,-999),j=b.getBBox(),k=f.renderer.fontMetrics(c.style.fontSize).b,l=this.visible&&(a.series.forceDL||f.isInsidePlot(h,jb(i),g)||d&&f.isInsidePlot(h,g?d.x+1:d.y+d.height-1,g));l&&(d=Pb({x:g?f.plotWidth-i:h,y:jb(g?f.plotHeight-h:i),width:0,height:0},d),Pb(c,{width:j.width,height:j.height}),c.rotation?(a=f.renderer.rotCorr(k,c.rotation),b[e?"attr":"animate"]({x:d.x+c.x+d.width/2+a.x,y:d.y+c.y+d.height/2}).attr({align:c.align})):(b.align(c,null,d),g=b.alignAttr,"justify"===Qb(c.overflow,"justify")?this.justifyDataLabel(b,c,g,j,d,e):Qb(c.crop,!0)&&(l=f.isInsidePlot(g.x,g.y)&&f.isInsidePlot(g.x+j.width,g.y+j.height)),c.shape&&b.attr({anchorX:a.plotX,anchorY:a.plotY}))),l||(b.attr({y:-999}),b.placed=!1)},zc.prototype.justifyDataLabel=function(a,b,c,d,e,f){var g,h,i=this.chart,j=b.align,k=b.verticalAlign,l=a.box?0:a.padding||0;g=c.x+l,0>g&&("right"===j?b.align="left":b.x=-g,h=!0),g=c.x+d.width-l,g>i.plotWidth&&("left"===j?b.align="right":b.x=i.plotWidth-g,h=!0),g=c.y+l,0>g&&("bottom"===k?b.verticalAlign="top":b.y=-g,h=!0),g=c.y+d.height-l,g>i.plotHeight&&("top"===k?b.verticalAlign="bottom":b.y=i.plotHeight-g,h=!0),h&&(a.placed=!f,a.align(b,null,e))},Ob.pie&&(Ob.pie.prototype.drawDataLabels=function(){var a,b,c,d,e,f,g,h,i,j,k,l=this,m=l.data,n=l.chart,o=l.options.dataLabels,p=Qb(o.connectorPadding,10),q=Qb(o.connectorWidth,1),r=n.plotWidth,s=n.plotHeight,t=Qb(o.softConnector,!0),u=o.distance,v=l.center,x=v[2]/2,y=v[1],z=u>0,A=[[],[]],B=[0,0,0,0],C=function(a,b){return b.y-a.y};if(l.visible&&(o.enabled||l._hasPointLabels)){for(zc.prototype.drawDataLabels.apply(l),Xb(m,function(a){a.dataLabel&&a.visible&&A[a.half].push(a)}),j=2;j--;){var D,E=[],F=[],G=A[j],H=G.length;if(H){for(l.sortByAngle(G,j-.5),k=m=0;!m&&G[k];)m=G[k]&&G[k].dataLabel&&(G[k].dataLabel.getBBox().height||21),k++;if(u>0){for(e=nb(y+x+u,n.plotHeight),k=mb(0,y-x-u);e>=k;k+=m)E.push(k);if(e=E.length,H>e){for(a=[].concat(G),a.sort(C),k=H;k--;)a[k].rank=k;for(k=H;k--;)G[k].rank>=e&&G.splice(k,1);H=G.length}for(k=0;H>k;k++){a=G[k],f=a.labelPos,a=9999;var I,J;for(J=0;e>J;J++)I=ob(E[J]-f[1]),a>I&&(a=I,D=J);if(k>D&&null!==E[k])D=k;else for(H-k+D>e&&null!==E[k]&&(D=e-H+k);null===E[D];)D++;F.push({i:D,y:E[D]}),E[D]=null}F.sort(C)}for(k=0;H>k;k++)a=G[k],f=a.labelPos,d=a.dataLabel,i=a.visible===!1?"hidden":"inherit",a=f[1],u>0?(e=F.pop(),D=e.i,h=e.y,(a>h&&null!==E[D+1]||h>a&&null!==E[D-1])&&(h=nb(mb(0,a),n.plotHeight))):h=a,g=o.justify?v[0]+(j?-1:1)*(x+u):l.getX(h===y-x-u||h===y+x+u?a:h,j),d._attr={visibility:i,align:f[6]},d._pos={x:g+o.x+({left:p,right:-p}[f[6]]||0),y:h+o.y-10},d.connX=g,d.connY=h,null===this.options.size&&(e=d.width,p>g-e?B[3]=mb(jb(e-g+p),B[3]):g+e>r-p&&(B[1]=mb(jb(g+e-r+p),B[1])),0>h-m/2?B[0]=mb(jb(-h+m/2),B[0]):h+m/2>s&&(B[2]=mb(jb(h+m/2-s),B[2])))}}(0===w(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),z&&q&&Xb(this.points,function(a){b=a.connector,f=a.labelPos,(d=a.dataLabel)&&d._pos&&a.visible?(i=d._attr.visibility,g=d.connX,h=d.connY,c=t?["M",g+("left"===f[6]?5:-5),h,"C",g,h,2*f[2]-f[4],2*f[3]-f[5],f[2],f[3],"L",f[4],f[5]]:["M",g+("left"===f[6]?5:-5),h,"L",f[2],f[3],"L",f[4],f[5]],b?(b.animate({d:c}),b.attr("visibility",i)):a.connector=b=l.chart.renderer.path(c).attr({"stroke-width":q,stroke:o.connectorColor||a.color||"#606060",visibility:i}).add(l.dataLabelsGroup)):b&&(a.connector=b.destroy())}))}},Ob.pie.prototype.placeDataLabels=function(){Xb(this.points,function(a){var b=a.dataLabel;b&&a.visible&&((a=b._pos)?(b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-999}))})},Ob.pie.prototype.alignDataLabel=Gb,Ob.pie.prototype.verifyDataLabelOverflow=function(a){var b,c=this.center,d=this.options,e=d.center,f=d.minSize||80,g=f;return null!==e[0]?g=mb(c[2]-mb(a[1],a[3]),f):(g=mb(c[2]-a[1]-a[3],f),c[0]+=(a[3]-a[1])/2),null!==e[1]?g=mb(nb(g,c[2]-mb(a[0],a[2])),f):(g=mb(nb(g,c[2]-a[0]-a[2]),f),c[1]+=(a[0]-a[2])/2),g<c[2]?(c[2]=g,c[3]=/%$/.test(d.innerSize||0)?g*parseFloat(d.innerSize||0)/100:parseFloat(d.innerSize||0),this.translate(c),Xb(this.points,function(a){a.dataLabel&&(a.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):b=!0,b}),Ob.column&&(Ob.column.prototype.alignDataLabel=function(b,c,d,e,f){var g=this.chart.inverted,h=b.series,i=b.dlBox||b.shapeArgs,j=Qb(b.below,b.plotY>Qb(this.translatedThreshold,h.yAxis.len)),k=Qb(d.inside,!!this.options.stacking);i&&(e=a(i),g&&(e={x:h.yAxis.len-e.y-e.height,y:h.xAxis.len-e.x-e.width,width:e.height,height:e.width}),!k)&&(g?(e.x+=j?0:e.width,e.width=0):(e.y+=j?e.height:0,e.height=0)),d.align=Qb(d.align,!g||k?"center":j?"right":"left"),d.verticalAlign=Qb(d.verticalAlign,g||k?"middle":j?"top":"bottom"),zc.prototype.alignDataLabel.call(this,b,c,d,e,f)}),function(a){var b=a.Chart,c=a.each,d=a.pick,e=HighchartsAdapter.addEvent;b.prototype.callbacks.push(function(a){function b(){var b=[];c(a.series,function(a){var e=a.options.dataLabels,f=a.dataLabelCollections||["dataLabel"];(e.enabled||a._hasPointLabels)&&!e.allowOverlap&&a.visible&&c(f,function(e){c(a.points,function(a){a[e]&&(a[e].labelrank=d(a.labelrank,a.shapeArgs&&a.shapeArgs.height),b.push(a[e]))})})}),a.hideOverlappingLabels(b)}b(),e(a,"redraw",b)}),b.prototype.hideOverlappingLabels=function(a){var b,d,e,f,g,h,i,j=a.length;for(d=0;j>d;d++)(b=a[d])&&(b.oldOpacity=b.opacity,b.newOpacity=1);for(a.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)}),d=0;j>d;d++)for(e=a[d],b=d+1;j>b;++b)f=a[b],e&&f&&e.placed&&f.placed&&0!==e.newOpacity&&0!==f.newOpacity&&(g=e.alignAttr,h=f.alignAttr,i=2*(e.box?0:e.padding),g=!(h.x>g.x+(e.width-i)||h.x+(f.width-i)<g.x||h.y>g.y+(e.height-i)||h.y+(f.height-i)<g.y))&&((e.labelrank<f.labelrank?e:f).newOpacity=0);c(a,function(a){var b,c;a&&(c=a.newOpacity,a.oldOpacity!==c&&a.placed&&(c?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)),a.isOld=!0)})}}(fb);var Cc=fb.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,d=a.options.cursor,e=d&&{cursor:d},f=function(a){for(var c,d=a.target;d&&!c;)c=d.point,d=d.parentNode;c!==I&&c!==b.hoverPoint&&c.onMouseOver(a)};Xb(a.points,function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.element.point=a)}),a._hasTracking||(Xb(a.trackerGroups,function(b){a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(e),K)&&a[b].on("touchstart",f)}),a._hasTracking=!0)},drawTrackerGraph:function(){var a,b=this,c=b.options,d=c.trackByArea,e=[].concat(d?b.areaPath:b.graphPath),f=e.length,g=b.chart,h=g.pointer,i=g.renderer,j=g.options.tooltip.snap,k=b.tracker,l=c.cursor,m=l&&{cursor:l},l=b.singlePoints,n=function(){g.hoverSeries!==b&&b.onMouseOver()},o="rgba(192,192,192,"+(Bb?1e-4:.002)+")";if(f&&!d)for(a=f+1;a--;)"M"===e[a]&&e.splice(a+1,0,e[a+1]-j,e[a+2],"L"),(a&&"M"===e[a]||a===f)&&e.splice(a,0,"L",e[a-2]+j,e[a-1]);for(a=0;a<l.length;a++)f=l[a],e.push("M",f.plotX-j,f.plotY,"L",f.plotX+j,f.plotY);k?k.attr({d:e}):(b.tracker=i.path(e).attr({"stroke-linejoin":"round",visibility:b.visible?"visible":"hidden",stroke:o,fill:d?o:Kb,"stroke-width":c.lineWidth+(d?0:2*j),zIndex:2}).add(b.group),Xb([b.tracker,b.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(a){h.onTrackerMouseOut(a)}).css(m),K&&a.on("touchstart",n)}))}};Ob.column&&(Ac.prototype.drawTracker=Cc.drawTrackerPoint),Ob.pie&&(Ob.pie.prototype.drawTracker=Cc.drawTrackerPoint),Ob.scatter&&(Bc.prototype.drawTracker=Cc.drawTrackerPoint),Pb(vc.prototype,{setItemEvents:function(a,b,c,d,e){var f=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover"),b.css(f.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?d:e),a.setState()}).on("click",function(b){var c=function(){a.setVisible()},b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):bc(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=n("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),_b(a.checkbox,"click",function(b){bc(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}}),M.legend.itemStyle.cursor="pointer",Pb(wc.prototype,{showResetZoom:function(){var a=this,b=M.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,f="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,f)},zoomOut:function(){var a=this;bc(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,c,e=this.pointer,f=!1;!a||a.resetSelection?Xb(this.axes,function(a){b=a.zoom()}):Xb(a.xAxis.concat(a.yAxis),function(a){var c=a.axis,d=c.isXAxis;(e[d?"zoomX":"zoomY"]||e[d?"pinchX":"pinchY"])&&(b=c.zoom(a.min,a.max),c.displayBtn&&(f=!0))}),c=this.resetZoomButton,f&&!c?this.showResetZoom():!f&&d(c)&&(this.resetZoomButton=c.destroy()),b&&this.redraw(Qb(this.options.chart.animation,a&&a.animation,this.pointCount<100))},pan:function(a,b){var c,d=this,e=d.hoverPoints;e&&Xb(e,function(a){a.setState()}),Xb("xy"===b?[1,0]:[1],function(b){var e=a[b?"chartX":"chartY"],f=d[b?"xAxis":"yAxis"][0],g=d[b?"mouseDownX":"mouseDownY"],h=(f.pointRange||0)/2,i=f.getExtremes(),j=f.toValue(g-e,!0)+h,h=f.toValue(g+d[b?"plotWidth":"plotHeight"]-e,!0)-h,g=g>e;f.series.length&&(g||j>nb(i.dataMin,i.min))&&(!g||h<mb(i.dataMax,i.max))&&(f.setExtremes(j,h,!1,!1,{trigger:"pan"}),c=!0),d[b?"mouseDownX":"mouseDownY"]=e}),c&&d.redraw(!1),m(d.container,{cursor:"move"})}}),Pb(yc.prototype,{select:function(a,b){var c=this,d=c.series,e=d.chart,a=Qb(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a,d.options.data[Wb(c,d.data)]=c.options,c.setState(a&&"select"),b||Xb(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,d.options.data[Wb(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a,b){var c=this.series,d=c.chart,e=d.tooltip,f=d.hoverPoint;d.hoverSeries!==c&&c.onMouseOver(),f&&f!==this&&f.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),e&&(!e.shared||c.noSharedTooltip)&&e.refresh(this,a),this.setState("hover"),!b)&&(d.hoverPoint=this)},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;this.firePointEvent("mouseOut"),b&&-1!==Wb(this,b)||(this.setState(),a.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var b,c=a(this.series.options.point,this.options).events;this.events=c;for(b in c)_b(this,b,c[b]);this.hasImportedEvents=!0}},setState:function(b,c){var d,e=this.plotX,f=this.plotY,g=this.series,h=g.options.states,i=fc[g.type].marker&&g.options.marker,j=i&&!i.enabled,k=i&&i.states[b],l=k&&k.enabled===!1,m=g.stateMarkerGraphic,n=this.marker||{},o=g.chart,p=g.halo,b=b||"";d=this.pointAttr[b]||g.pointAttr[b],b===this.state&&!c||this.selected&&"select"!==b||h[b]&&h[b].enabled===!1||b&&(l||j&&k.enabled===!1)||b&&n.states&&n.states[b]&&n.states[b].enabled===!1||(this.graphic?(i=i&&this.graphic.symbolName&&d.r,this.graphic.attr(a(d,i?{x:e-i,y:f-i,width:2*i,height:2*i}:{})),m&&m.hide()):(b&&k&&(i=k.radius,n=n.symbol||g.symbol,m&&m.currentSymbol!==n&&(m=m.destroy()),m?m[c?"animate":"attr"]({x:e-i,y:f-i}):n&&(g.stateMarkerGraphic=m=o.renderer.symbol(n,e-i,f-i,2*i,2*i).attr(d).add(g.markerGroup),m.currentSymbol=n)),m&&(m[b&&o.isInsidePlot(e,f,o.inverted)?"show":"hide"](),m.element.point=this)),(e=h[b]&&h[b].halo)&&e.size?(p||(g.halo=p=o.renderer.path().add(o.seriesGroup)),p.attr(Pb({fill:jc(this.color||g.color).setOpacity(e.opacity).get()},e.attributes))[c?"animate":"attr"]({d:this.haloPath(e.size)})):p&&p.attr({d:[]}),this.state=b)},haloPath:function(a){var b=this.series,c=b.chart,d=b.getPlotBox(),e=c.inverted;return c.renderer.symbols.circle(d.translateX+(e?b.yAxis.len-this.plotY:this.plotX)-a,d.translateY+(e?b.xAxis.len-this.plotX:this.plotY)-a,2*a,2*a)}}),Pb(zc.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;b&&b!==this&&b.onMouseOut(),this.options.events.mouseOver&&bc(this,"mouseOver"),this.setState("hover"),a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;b.hoverSeries=null,d&&d.onMouseOut(),this&&a.events.mouseOut&&bc(this,"mouseOut"),c&&!a.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide(),this.setState()},setState:function(a){var b=this.options,c=this.graph,d=b.states,e=b.lineWidth,b=0,a=a||"";if(this.state!==a&&(this.state=a,!(d[a]&&d[a].enabled===!1)&&(a&&(e=d[a].lineWidth||e+(d[a].lineWidthPlus||0)),c&&!c.dashstyle)))for(a={"stroke-width":e},c.attr(a);this["zoneGraph"+b];)this["zoneGraph"+b].attr(a),b+=1},setVisible:function(a,b){var c,d=this,e=d.chart,f=d.legendItem,g=e.options.chart.ignoreHiddenSeries,h=d.visible;c=(d.visible=a=d.userOptions.visible=a===I?!h:a)?"show":"hide",Xb(["group","dataLabelsGroup","markerGroup","tracker"],function(a){d[a]&&d[a][c]()}),(e.hoverSeries===d||(e.hoverPoint&&e.hoverPoint.series)===d)&&d.onMouseOut(),f&&e.legend.colorizeItem(d,a),d.isDirty=!0,d.options.stacking&&Xb(e.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),Xb(d.linkedSeries,function(b){b.setVisible(a,!1)}),g&&(e.isDirtyBox=!0),b!==!1&&e.redraw(),bc(d,c)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===I?!this.selected:a,this.checkbox&&(this.checkbox.checked=a),bc(this,a?"select":"unselect")},drawTracker:Cc.drawTrackerGraph}),Rb(zc.prototype,"init",function(a){var b;a.apply(this,Array.prototype.slice.call(arguments,1)),(b=this.xAxis)&&b.options.ordinal&&_b(this,"updatedData",function(){delete b.ordinalIndex})}),Rb(nc.prototype,"getTimeTicks",function(a,b,c,d,e,f,g,h){var i,k,l,m,n=0,o=0,p={},q=[],r=-Number.MAX_VALUE,s=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!f||f.length<3||c===I)return a.call(this,b,c,d,e);for(l=f.length;l>o;o++){if(m=o&&f[o-1]>d,f[o]<c&&(n=o),o===l-1||f[o+1]-f[o]>5*g||m){if(f[o]>r){for(i=a.call(this,b,f[n],f[o],e);i.length&&i[0]<=r;)i.shift();i.length&&(r=i[i.length-1]),q=q.concat(i)}n=o+1}if(m)break}if(a=i.info,h&&a.unitRange<=P.hour){for(o=q.length-1,n=1;o>n;n++)N("%d",q[n])!==N("%d",q[n-1])&&(p[q[n]]="day",k=!0);k&&(p[q[0]]="day"),a.higherRanks=p}if(q.info=a,h&&j(s)){var t,h=a=q.length,o=[];for(k=[];h--;)n=this.translate(q[h]),t&&(k[h]=t-n),o[h]=t=n;for(k.sort(),k=k[kb(k.length/2)],.6*s>k&&(k=null),h=q[a-1]>d?a-1:a,t=void 0;h--;)n=o[h],d=t-n,t&&.8*s>d&&(null===k||.8*k>d)?(p[q[h]]&&!p[q[h+1]]?(d=h+1,t=n):d=h,q.splice(d,1)):t=n}return q}),Pb(nc.prototype,{beforeSetTickPositions:function(){var a,b,c,d=[],e=!1,f=this.getExtremes(),g=f.min,h=f.max,i=this.isXAxis&&!!this.options.breaks;if((f=this.options.ordinal)||i){if(Xb(this.series,function(b,c){if(b.visible!==!1&&(b.takeOrdinalPosition!==!1||i)&&(d=d.concat(b.processedXData),a=d.length,d.sort(function(a,b){return a-b}),a))for(c=a-1;c--;)d[c]===d[c+1]&&d.splice(c,1)}),a=d.length,a>2){for(b=d[1]-d[0],c=a-1;c--&&!e;)d[c+1]-d[c]!==b&&(e=!0);!this.options.keepOrdinalPadding&&(d[0]-g>b||h-d[d.length-1]>b)&&(e=!0)}e?(this.ordinalPositions=d,b=this.val2lin(mb(g,d[0]),!0),c=mb(this.val2lin(nb(h,d[d.length-1]),!0),1),this.ordinalSlope=h=(h-g)/(c-b),this.ordinalOffset=g-b*h):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=I}this.doPostTranslate=f&&e||i,this.groupIntervalFactor=null},val2lin:function(a,b){var c=this.ordinalPositions;if(c){var d,e,f=c.length;for(d=f;d--;)if(c[d]===a){e=d;break}for(d=f-1;d--;)if(a>c[d]||0===d){c=(a-c[d])/(c[d+1]-c[d]),e=d+c;break}return b?e:this.ordinalSlope*(e||0)+this.ordinalOffset}return a},lin2val:function(a,b){var c=this.ordinalPositions;if(c){var d,e,f=this.ordinalSlope,g=this.ordinalOffset,h=c.length-1;if(b)0>a?a=c[0]:a>h?a=c[h]:(h=kb(a),e=a-h);else for(;h--;)if(d=f*h+g,a>=d){f=f*(h+1)+g,e=(a-d)/(f-d);break}return e!==I&&c[h]!==I?c[h]+(e?e*(c[h+1]-c[h]):0):a}return a},getExtendedPositions:function(){var a,b,c=this.chart,d=this.series[0].currentDataGrouping,e=this.ordinalIndex,f=d?d.count+d.unitName:"raw",g=this.getExtremes();return e||(e=this.ordinalIndex={}),e[f]||(a={series:[],getExtremes:function(){return{min:g.dataMin,max:g.dataMax}},options:{ordinal:!0},val2lin:nc.prototype.val2lin},Xb(this.series,function(e){b={xAxis:a,xData:e.xData,chart:c,destroyGroupedData:Gb},b.options={dataGrouping:d?{enabled:!0,forced:!0,approximation:"open",units:[[d.unitName,[d.count]]]}:{enabled:!1}},e.processData.apply(b),a.series.push(b)}),this.beforeSetTickPositions.apply(a),e[f]=a.ordinalPositions),e[f]},getGroupIntervalFactor:function(a,b,c){var d=0,c=c.processedXData,e=c.length,f=[],g=this.groupIntervalFactor;if(!g){for(;e-1>d;d++)f[d]=c[d+1]-c[d];f.sort(function(a,b){return a-b}),d=f[kb(e/2)],a=mb(a,c[0]),b=nb(b,c[e-1]),this.groupIntervalFactor=g=e*d/(b-a)}return g},postProcessTickInterval:function(a){var b=this.ordinalSlope;return b?this.options.breaks?this.closestPointRange:a/(b/this.closestPointRange):a}}),Rb(wc.prototype,"pan",function(a,b){var c=this.xAxis[0],d=b.chartX,e=!1;if(c.options.ordinal&&c.series.length){var f,g=this.mouseDownX,h=c.getExtremes(),i=h.dataMax,j=h.min,k=h.max,l=this.hoverPoints,n=c.closestPointRange,g=(g-d)/(c.translationSlope*(c.ordinalSlope||n)),o={ordinalPositions:c.getExtendedPositions()},n=c.lin2val,p=c.val2lin;o.ordinalPositions?ob(g)>1&&(l&&Xb(l,function(a){a.setState()}),0>g?(l=o,f=c.ordinalPositions?c:o):(l=c.ordinalPositions?c:o,f=o),o=f.ordinalPositions,i>o[o.length-1]&&o.push(i),this.fixedRange=k-j,g=c.toFixedRange(null,null,n.apply(l,[p.apply(l,[j,!0])+g,!0]),n.apply(f,[p.apply(f,[k,!0])+g,!0])),g.min>=nb(h.dataMin,j)&&g.max<=mb(i,k)&&c.setExtremes(g.min,g.max,!0,!1,{trigger:"pan"}),this.mouseDownX=d,m(this.container,{cursor:"move"})):e=!0}else e=!0;e&&a.apply(this,Array.prototype.slice.call(arguments,1))}),Rb(zc.prototype,"getSegments",function(a){var b,c=this.options.gapSize,d=this.xAxis;a.apply(this,Array.prototype.slice.call(arguments,1)),c&&(b=this.segments,Xb(b,function(a,e){for(var f=a.length-1;f--;){if(a[f].x<d.min&&a[f+1].x>d.max){b.length=0;break}a[f+1].x-a[f].x>d.closestPointRange*c&&b.splice(e+1,0,a.splice(f+1,a.length-f))}}))}),function(a){function b(){return Array.prototype.slice.call(arguments,1)}var c=a.pick,d=a.wrap,e=a.extend,f=HighchartsAdapter.fireEvent,g=a.Axis,h=a.Series;e(g.prototype,{isInBreak:function(a,b){var c=a.repeat||1/0,d=a.from,e=a.to-a.from,c=b>=d?(b-d)%c:c-(d-b)%c;return a.inclusive?e>=c:e>c&&0!==c},isInAnyBreak:function(a,b){var d,e,f,g=this.options.breaks,h=g&&g.length;if(h){for(;h--;)this.isInBreak(g[h],a)&&(d=!0,e||(e=c(g[h].showPoints,this.isXAxis?!1:!0)));f=d&&b?d&&!e:d}return f}}),d(g.prototype,"setTickPositions",function(a){if(a.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var b,c=this.tickPositions,d=this.tickPositions.info,e=[];if(!(d&&d.totalRange>=this.closestPointRange)){for(b=0;b<c.length;b++)this.isInAnyBreak(c[b])||e.push(c[b]);this.tickPositions=e,this.tickPositions.info=d}}}),d(g.prototype,"init",function(a,b,c){if(c.breaks&&c.breaks.length&&(c.ordinal=!1),a.call(this,b,c),this.options.breaks){var d=this;d.doPostTranslate=!0,this.val2lin=function(a){var b,c,e=a;for(c=0;c<d.breakArray.length;c++)if(b=d.breakArray[c],b.to<=a)e-=b.len;else{if(b.from>=a)break;if(d.isInBreak(b,a)){e-=a-b.from;break}}return e},this.lin2val=function(a){var b,c;for(c=0;c<d.breakArray.length&&(b=d.breakArray[c],!(b.from>=a));c++)b.to<a?a+=b.len:d.isInBreak(b,a)&&(a+=b.len);return a},this.setExtremes=function(a,b,c,d,e){for(;this.isInAnyBreak(a);)a-=this.closestPointRange;for(;this.isInAnyBreak(b);)b-=this.closestPointRange;g.prototype.setExtremes.call(this,a,b,c,d,e)},this.setAxisTranslation=function(a){g.prototype.setAxisTranslation.call(this,a);var b,c,e,h,i=d.options.breaks,a=[],j=[],k=0,l=d.userMin||d.min,m=d.userMax||d.max;for(h in i)c=i[h],b=c.repeat||1/0,d.isInBreak(c,l)&&(l+=c.to%b-l%b),d.isInBreak(c,m)&&(m-=m%b-c.from%b);for(h in i){for(c=i[h],e=c.from,b=c.repeat||1/0;e-b>l;)e-=b;for(;l>e;)e+=b;for(;m>e;e+=b)a.push({value:e,move:"in"}),a.push({value:e+(c.to-c.from),move:"out",size:c.breakSize})}a.sort(function(a,b){return a.value===b.value?("in"===a.move?0:1)-("in"===b.move?0:1):a.value-b.value}),i=0,e=l;for(h in a)c=a[h],i+="in"===c.move?1:-1,1===i&&"in"===c.move&&(e=c.value),0===i&&(j.push({from:e,to:c.value,len:c.value-e-(c.size||0)}),k+=c.value-e-(c.size||0));d.breakArray=j,f(d,"afterBreaks"),d.transA*=(m-d.min)/(m-l-k),d.min=l,d.max=m}}}),d(h.prototype,"generatePoints",function(a){a.apply(this,b(arguments));var c,d,e=this.xAxis,f=this.yAxis,g=this.points,h=g.length,i=this.options.connectNulls;if(e&&f&&(e.options.breaks||f.options.breaks))for(;h--;)c=g[h],d=null===c.y&&i===!1,d||!e.isInAnyBreak(c.x,!0)&&!f.isInAnyBreak(c.y,!0)||(g.splice(h,1),this.data[h]&&this.data[h].destroyElements())}),d(a.seriesTypes.column.prototype,"drawPoints",function(a){a.apply(this);var b,d,e,g,h,i,a=this.points,j=this.yAxis,k=j.breakArray||[],l=c(this.options.threshold,j.min);for(g=0;g<a.length;g++)for(d=a[g],i=d.stackY||d.y,h=0;h<k.length;h++)e=k[h],b=!1,l<e.from&&i>e.to||l>e.from&&i<e.from?b="pointBreak":(l<e.from&&i>e.from&&i<e.to||l>e.from&&i>e.to&&i<e.from)&&(b="pointInBreak"),b&&f(j,b,{point:d,brk:e})})}(fb);var Dc=zc.prototype,Sb=oc.prototype,Ec=Dc.processData,Fc=Dc.generatePoints,Gc=Dc.destroy,Hc=Sb.tooltipFooterHeaderFormatter,Ic={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Jc={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},Kc=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],Lc={sum:function(a){var b,c=a.length;if(!c&&a.hasNulls)b=null;else if(c)for(b=0;c--;)b+=a[c];return b},average:function(a){var b=a.length,a=Lc.sum(a);return"number"==typeof a&&b&&(a/=b),a},open:function(a){return a.length?a[0]:a.hasNulls?null:I},high:function(a){return a.length?w(a):a.hasNulls?null:I},low:function(a){return a.length?v(a):a.hasNulls?null:I},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:I},ohlc:function(a,b,c,d){return a=Lc.open(a),b=Lc.high(b),c=Lc.low(c),d=Lc.close(d),"number"==typeof a||"number"==typeof b||"number"==typeof c||"number"==typeof d?[a,b,c,d]:void 0},range:function(a,b){return a=Lc.low(a),b=Lc.high(b),"number"==typeof a||"number"==typeof b?[a,b]:void 0}};Dc.groupData=function(a,b,c,d){var e,f,g,h=this.data,i=this.options.data,j=[],k=[],l=a.length,m=!!b,n=[[],[],[],[]],d="function"==typeof d?d:Lc[d],o=this.pointArrayMap,p=o&&o.length;for(g=0;l>=g&&!(a[g]>=c[0]);g++);for(;l>=g;g++){for(;(c[1]!==I&&a[g]>=c[1]||g===l)&&(e=c.shift(),f=d.apply(0,n),f!==I&&(j.push(e),k.push(f)),n[0]=[],n[1]=[],n[2]=[],n[3]=[],g!==l););if(g===l)break;if(o){e=this.cropStart+g,e=h&&h[e]||this.pointClass.prototype.applyOptions.apply({series:this},[i[e]]);var q;for(f=0;p>f;f++)q=e[o[f]],"number"==typeof q?n[f].push(q):null===q&&(n[f].hasNulls=!0)}else e=m?b[g]:null,"number"==typeof e?n[0].push(e):null===e&&(n[0].hasNulls=!0)}return[j,k]},Dc.processData=function(){var a,b=this.chart,c=this.options,d=c.dataGrouping,e=this.allowDG!==!1&&d&&Qb(d.enabled,b.options._stock);if(this.forceCrop=e,this.groupPixelWidth=null,this.hasProcessed=!0,Ec.apply(this,arguments)!==!1&&e){this.destroyGroupedData();
var f=this.processedXData,g=this.processedYData,h=b.plotSizeX,b=this.xAxis,i=b.options.ordinal,k=this.groupPixelWidth=b.getGroupPixelWidth&&b.getGroupPixelWidth(),e=this.pointRange;if(k){a=!0,this.points=null;var l=b.getExtremes(),e=l.min,l=l.max,i=i&&b.getGroupIntervalFactor(e,l,this)||1,h=k*(l-e)/h*i,k=b.getTimeTicks(b.normalizeTimeTickInterval(h,d.units||Kc),e,l,b.options.startOfWeek,f,this.closestPointRange),g=Dc.groupData.apply(this,[f,g,k,d.approximation]),f=g[0],g=g[1];if(d.smoothed){for(d=f.length-1,f[d]=l;d--&&d>0;)f[d]+=h/2;f[0]=e}this.currentDataGrouping=k.info,null===c.pointRange&&(this.pointRange=k.info.totalRange),this.closestPointRange=k.info.totalRange,j(f[0])&&f[0]<b.dataMin&&(b.min===b.dataMin&&(b.min=f[0]),b.dataMin=f[0]),this.processedXData=f,this.processedYData=g}else this.currentDataGrouping=null,this.pointRange=e;this.hasGroupedData=a}},Dc.destroyGroupedData=function(){var a=this.groupedData;Xb(a||[],function(b,c){b&&(a[c]=b.destroy?b.destroy():null)}),this.groupedData=null},Dc.generatePoints=function(){Fc.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},Sb.tooltipFooterHeaderFormatter=function(a,b){var c,d=a.series,e=d.tooltipOptions,g=d.options.dataGrouping,h=e.xDateFormat,i=d.xAxis;return i&&"datetime"===i.options.type&&g&&f(a.key)?(d=d.currentDataGrouping,g=g.dateTimeLabelFormats,d?(i=g[d.unitName],1===d.count?h=i[0]:(h=i[1],c=i[2])):!h&&g&&(h=this.getXDateFormat(a,e,i)),h=N(h,a.key),c&&(h+=N(c,a.key+d.totalRange-1)),e=e[(b?"footer":"header")+"Format"].replace("{point.key}",h)):e=Hc.call(this,a,b),e},Dc.destroy=function(){for(var a=this.groupedData||[],b=a.length;b--;)a[b]&&a[b].destroy();Gc.apply(this)},Rb(Dc,"setOptions",function(b,c){var d=b.call(this,c),e=this.type,f=this.chart.options.plotOptions,g=fc[e].dataGrouping;return Jc[e]&&(g||(g=a(Ic,Jc[e])),d.dataGrouping=a(g,f.series&&f.series.dataGrouping,f[e].dataGrouping,c.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),d}),Rb(nc.prototype,"setScale",function(a){a.call(this),Xb(this.series,function(a){a.hasProcessed=!1})}),nc.prototype.getGroupPixelWidth=function(){var a,b,c=this.series,d=c.length,e=0,f=!1;for(a=d;a--;)(b=c[a].options.dataGrouping)&&(e=mb(e,b.groupPixelWidth));for(a=d;a--;)(b=c[a].options.dataGrouping)&&c[a].hasProcessed&&(d=(c[a].processedXData||c[a].data).length,(c[a].groupPixelWidth||d>this.chart.plotSizeX/e||d&&b.forced)&&(f=!0));return f?e:0},nc.prototype.setDataGrouping=function(a,b){var c,b=Qb(b,!0);if(a||(a={forced:!1,units:null}),this instanceof nc)for(c=this.series.length;c--;)this.series[c].update({dataGrouping:a},!1);else Xb(this.chart.options.series,function(b){b.dataGrouping=a},!1);b&&this.chart.redraw()},fc.ohlc=a(fc.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null}),Sb=o(Ob.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,a.high,a.low,a.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){Ob.column.prototype.getAttribs.apply(this,arguments);var b=this.options,c=b.states,b=b.upColor||this.color,d=a(this.pointAttr),e=this.upColorProp;d[""][e]=b,d.hover[e]=c.hover.upColor||b,d.select[e]=c.select.upColor||b,Xb(this.points,function(a){a.open<a.close&&!a.options.color&&(a.pointAttr=d)})},translate:function(){var a=this.yAxis;Ob.column.prototype.translate.apply(this),Xb(this.points,function(b){null!==b.open&&(b.plotOpen=a.translate(b.open,0,1,0,1)),null!==b.close&&(b.plotClose=a.translate(b.close,0,1,0,1))})},drawPoints:function(){var a,b,c,d,e,f,g,h,i=this,j=i.chart;Xb(i.points,function(k){k.plotY!==I&&(g=k.graphic,a=k.pointAttr[k.selected?"selected":""]||i.pointAttr[""],d=a["stroke-width"]%2/2,h=jb(k.plotX)-d,e=jb(k.shapeArgs.width/2),f=["M",h,jb(k.yBottom),"L",h,jb(k.plotY)],null!==k.open&&(b=jb(k.plotOpen)+d,f.push("M",h,b,"L",h-e,b)),null!==k.close&&(c=jb(k.plotClose)+d,f.push("M",h,c,"L",h+e,c)),g?g.attr(a).animate({d:f}):k.graphic=j.renderer.path(f).attr(a).add(i.group))})},animate:null}),Ob.ohlc=Sb,fc.candlestick=a(fc.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:fc.ohlc.tooltip,threshold:null,upColor:"white"}),Sb=o(Sb,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){Ob.ohlc.prototype.getAttribs.apply(this,arguments);var b=this.options,c=b.states,d=b.upLineColor||b.lineColor,e=c.hover.upLineColor||d,f=c.select.upLineColor||d;Xb(this.points,function(b){b.open<b.close&&(b.lineColor&&(b.pointAttr=a(b.pointAttr),d=b.lineColor),b.pointAttr[""].stroke=d,b.pointAttr.hover.stroke=e,b.pointAttr.select.stroke=f)})},drawPoints:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.chart,o=m.pointAttr[""];Xb(m.points,function(p){j=p.graphic,p.plotY!==I&&(a=p.pointAttr[p.selected?"selected":""]||o,h=a["stroke-width"]%2/2,i=jb(p.plotX)-h,b=p.plotOpen,c=p.plotClose,d=ib.min(b,c),e=ib.max(b,c),l=jb(p.shapeArgs.width/2),f=jb(d)!==jb(p.plotY),g=e!==p.yBottom,d=jb(d)+h,e=jb(e)+h,k=["M",i-l,e,"L",i-l,d,"L",i+l,d,"L",i+l,e,"Z","M",i,d,"L",i,f?jb(p.plotY):d,"M",i,e,"L",i,g?jb(p.yBottom):e],j?j.attr(a).animate({d:k}):p.graphic=n.renderer.path(k).attr(a).add(m.group).shadow(m.options.shadow))})}}),Ob.candlestick=Sb;var Mc=kc.prototype.symbols;fc.flags=a(fc.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),Ob.flags=o(Ob.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:zc.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){Ob.column.prototype.translate.apply(this);var a,b,c,d,e,f=this.chart,g=this.points,h=g.length-1,i=this.options.onSeries,i=(a=i&&f.get(i))&&a.options.step,j=a&&a.points,k=j&&j.length,l=this.xAxis,m=l.getExtremes();if(a&&a.visible&&k)for(a=a.currentDataGrouping,d=j[k-1].x+(a?a.totalRange:0),g.sort(function(a,b){return a.x-b.x});k--&&g[h]&&(a=g[h],c=j[k],!(c.x<=a.x&&c.plotY!==I&&(a.x<=d&&(a.plotY=c.plotY,c.x<a.x&&!i&&(e=j[k+1])&&e.plotY!==I&&(a.plotY+=(a.x-c.x)/(e.x-c.x)*(e.plotY-c.plotY))),h--,k++,0>h))););Xb(g,function(a,c){var d;a.plotY===I&&(a.x>=m.min&&a.x<=m.max?a.plotY=f.chartHeight-l.bottom-(l.opposite?l.height:0)+l.offset-f.plotTop:a.shapeArgs={}),(b=g[c-1])&&b.plotX===a.plotX&&(b.stackIndex===I&&(b.stackIndex=0),d=b.stackIndex+1),a.stackIndex=d})},drawPoints:function(){var b,c,d,e,f,g,h,i,j,k=this.pointAttr[""],l=this.points,m=this.chart.renderer,n=this.options,o=n.y;for(f=l.length;f--;)g=l[f],b=g.plotX>this.xAxis.len,c=g.plotX,c>0&&(c-=Qb(g.lineWidth,n.lineWidth)%2),h=g.stackIndex,e=g.options.shape||n.shape,d=g.plotY,d!==I&&(d=g.plotY+o-(h!==I&&h*n.stackDistance)),i=h?I:g.plotX,j=h?I:g.plotY,h=g.graphic,d!==I&&c>=0&&!b?(b=g.pointAttr[g.selected?"select":""]||k,h?h.attr({x:c,y:d,r:b.r,anchorX:i,anchorY:j}):g.graphic=m.label(g.options.title||n.title||"A",c,d,e,i,j,n.useHTML).css(a(n.style,g.style)).attr(b).attr({align:"flag"===e?"left":"center",width:n.width,height:n.height}).add(this.markerGroup).shadow(n.shadow),g.tooltipPos=[c,d]):h&&(g.graphic=h.destroy())},drawTracker:function(){var a=this.points;Cc.drawTrackerPoint.apply(this),Xb(a,function(b){var c=b.graphic;c&&_b(c.element,"mouseover",function(){b.stackIndex>0&&!b.raised&&(b._y=c.y,c.attr({y:b._y-8}),b.raised=!0),Xb(a,function(a){a!==b&&a.raised&&a.graphic&&(a.graphic.attr({y:a._y}),a.raised=!1)})})})},animate:Gb,buildKDTree:Gb,setClip:Gb}),Mc.flag=function(a,b,c,d,e){return["M",e&&e.anchorX||a,e&&e.anchorY||b,"L",a,b+d,a,b,a+c,b,a+c,b+d,a,b+d,"Z"]},Xb(["circle","square"],function(a){Mc[a+"pin"]=function(b,c,d,e,f){var g=f&&f.anchorX,f=f&&f.anchorY;return"circle"===a&&e>d&&(b-=jb((e-d)/2),d=e),b=Mc[a](b,c,d,e),g&&f&&b.push("M",g,c>f?c:c+e,"L",g,f),b}}),J===fb.VMLRenderer&&Xb(["flag","circlepin","squarepin"],function(a){lc.prototype.symbols[a]=Mc[a]});var Sb=[].concat(Kc),Nc=function(a){var b=Yb(arguments,function(a){return"number"==typeof a});return b.length?Math[a].apply(0,b):void 0};Sb[4]=["day",[1,2,3,4]],Sb[5]=["week",[1,2,3]],Pb(M,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:Ob.areaspline===I?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:Sb},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:zb?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:Bb&&!zb}}),G.prototype={drawHandle:function(a,b){var c,d=this.chart,e=d.renderer,f=this.elementsToDestroy,g=this.handles,h=this.navigatorOptions.handles,h={fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":1};this.rendered||(g[b]=e.g("navigator-handle-"+["left","right"][b]).css({cursor:"ew-resize"}).attr({zIndex:4-b}).add(),c=e.rect(-4.5,0,9,16,0,1).attr(h).add(g[b]),f.push(c),c=e.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(h).add(g[b]),f.push(c)),g[b][d.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(a,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(a){var b,c=this.chart.renderer,d=this.elementsToDestroy,e=this.scrollbarButtons,f=this.scrollbarHeight,g=this.scrollbarOptions;this.rendered||(e[a]=c.g().add(this.scrollbarGroup),b=c.rect(-.5,-.5,f+1,f+1,g.buttonBorderRadius,g.buttonBorderWidth).attr({stroke:g.buttonBorderColor,"stroke-width":g.buttonBorderWidth,fill:g.buttonBackgroundColor}).add(e[a]),d.push(b),b=c.path(["M",f/2+(a?-1:1),f/2-3,"L",f/2+(a?-1:1),f/2+3,f/2+(a?2:-2),f/2]).attr({fill:g.buttonArrowColor}).add(e[a]),d.push(b)),a&&e[a].attr({translateX:this.scrollerWidth-f})},render:function(a,b,c,d){var e,f,g,h,i,k=this.chart,l=k.renderer,m=this.scrollbarGroup,n=this.navigatorGroup,o=this.scrollbar,n=this.xAxis,p=this.scrollbarTrack,q=this.scrollbarHeight,r=this.scrollbarEnabled,s=this.navigatorOptions,t=this.scrollbarOptions,u=t.minWidth,v=this.height,w=this.top,x=this.navigatorEnabled,y=s.outlineWidth,z=y/2,A=0,B=this.outlineHeight,C=t.barBorderRadius,D=t.barBorderWidth,E=w+z;j(a)&&!isNaN(a)&&(this.navigatorLeft=e=Qb(n.left,k.plotLeft+q),this.navigatorWidth=f=Qb(n.len,k.plotWidth-2*q),this.scrollerLeft=g=e-q,this.scrollerWidth=h=h=f+2*q,n.getExtremes&&(i=this.getUnionExtremes(!0))&&(i.dataMin!==n.min||i.dataMax!==n.max)&&n.setExtremes(i.dataMin,i.dataMax,!0,!1),c=Qb(c,n.translate(a)),d=Qb(d,n.translate(b)),(isNaN(c)||1/0===ob(c))&&(c=0,d=h),n.translate(d,!0)-n.translate(c,!0)<k.xAxis[0].minRange||(this.zoomedMax=nb(mb(c,d),f),this.zoomedMin=mb(this.fixedWidth?this.zoomedMax-this.fixedWidth:nb(c,d),0),this.range=this.zoomedMax-this.zoomedMin,c=jb(this.zoomedMax),b=jb(this.zoomedMin),a=c-b,this.rendered||(x&&(this.navigatorGroup=n=l.g("navigator").attr({zIndex:3}).add(),this.leftShade=l.rect().attr({fill:s.maskFill}).add(n),s.maskInside?this.leftShade.css({cursor:"ew-resize "}):this.rightShade=l.rect().attr({fill:s.maskFill}).add(n),this.outline=l.path().attr({"stroke-width":y,stroke:s.outlineColor}).add(n)),r&&(this.scrollbarGroup=m=l.g("scrollbar").add(),o=t.trackBorderWidth,this.scrollbarTrack=p=l.rect().attr({x:0,y:-o%2/2,fill:t.trackBackgroundColor,stroke:t.trackBorderColor,"stroke-width":o,r:t.trackBorderRadius||0,height:q}).add(m),this.scrollbar=o=l.rect().attr({y:-D%2/2,height:q,fill:t.barBackgroundColor,stroke:t.barBorderColor,"stroke-width":D,r:C}).add(m),this.scrollbarRifles=l.path().attr({stroke:t.rifleColor,"stroke-width":1}).add(m))),k=k.isResizing?"animate":"attr",x&&(this.leftShade[k](s.maskInside?{x:e+b,y:w,width:c-b,height:v}:{x:e,y:w,width:b,height:v}),this.rightShade&&this.rightShade[k]({x:e+c,y:w,width:f-c,height:v}),this.outline[k]({d:["M",g,E,"L",e+b-z,E,e+b-z,E+B,"L",e+c-z,E+B,"L",e+c-z,E,g+h,E].concat(s.maskInside?["M",e+b+z,E,"L",e+c-z,E]:[])}),this.drawHandle(b+z,0),this.drawHandle(c+z,1)),r&&m&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),m[k]({translateX:g,translateY:jb(E+v)}),p[k]({width:h}),e=q+b,f=a-D,u>f&&(A=(u-f)/2,f=u,e-=A),this.scrollbarPad=A,o[k]({x:kb(e)+D%2/2,width:f}),u=q+b+a/2-.5,this.scrollbarRifles.attr({visibility:a>12?"visible":"hidden"})[k]({d:["M",u-3,q/4,"L",u-3,2*q/3,"M",u,q/4,"L",u,2*q/3,"M",u+3,q/4,"L",u+3,2*q/3]})),this.scrollbarPad=A,this.rendered=!0))},addEvents:function(){var a,b=this.chart.container,c=this.mouseDownHandler,d=this.mouseMoveHandler,e=this.mouseUpHandler;a=[[b,"mousedown",c],[b,"mousemove",d],[document,"mouseup",e]],K&&a.push([b,"touchstart",c],[b,"touchmove",d],[document,"touchend",e]),Xb(a,function(a){_b.apply(null,a)}),this._events=a},removeEvents:function(){Xb(this._events,function(a){ac.apply(null,a)}),this._events=I,this.navigatorEnabled&&this.baseSeries&&ac(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var b,c,d,e,f=this,g=f.chart,h=f.scrollbarHeight,i=f.navigatorOptions,j=f.height,k=f.top,l=f.baseSeries;f.mouseDownHandler=function(a){var c,a=g.pointer.normalize(a),e=f.zoomedMin,h=f.zoomedMax,i=f.top,k=f.scrollbarHeight,l=f.scrollerLeft,m=f.scrollerWidth,n=f.navigatorLeft,o=f.navigatorWidth,p=f.scrollbarPad,q=f.range,r=a.chartX,s=a.chartY,a=g.xAxis[0],t=zb?10:7;s>i&&i+j+k>s&&((i=!f.scrollbarEnabled||i+j>s)&&ib.abs(r-e-n)<t?(f.grabbedLeft=!0,f.otherHandlePos=h,f.fixedExtreme=a.max,g.fixedRange=null):i&&ib.abs(r-h-n)<t?(f.grabbedRight=!0,f.otherHandlePos=e,f.fixedExtreme=a.min,g.fixedRange=null):r>n+e-p&&n+h+p>r?(f.grabbedCenter=r,f.fixedWidth=q,d=r-e):r>l&&l+m>r&&(h=i?r-n-q/2:n>r?e-.2*q:r>l+m-k?e+.2*q:n+e>r?e-q:h,0>h?h=0:h+q>=o&&(h=o-q,c=f.getUnionExtremes().dataMax),h!==e&&(f.fixedWidth=q,e=b.toFixedRange(h,h+q,null,c),a.setExtremes(e.min,e.max,!0,!1,{trigger:"navigator"}))))},f.mouseMoveHandler=function(a){var b,c=f.scrollbarHeight,h=f.navigatorLeft,i=f.navigatorWidth,j=f.scrollerLeft,k=f.scrollerWidth,l=f.range;0!==a.pageX&&(a=g.pointer.normalize(a),b=a.chartX,h>b?b=h:b>j+k-c&&(b=j+k-c),f.grabbedLeft?(e=!0,f.render(0,0,b-h,f.otherHandlePos)):f.grabbedRight?(e=!0,f.render(0,0,f.otherHandlePos,b-h)):f.grabbedCenter&&(e=!0,d>b?b=d:b>i+d-l&&(b=i+d-l),f.render(0,0,b-d,b-d+l)),e&&f.scrollbarOptions.liveRedraw&&setTimeout(function(){f.mouseUpHandler(a)},0))},f.mouseUpHandler=function(a){var c,h;e&&(f.zoomedMin===f.otherHandlePos?c=f.fixedExtreme:f.zoomedMax===f.otherHandlePos&&(h=f.fixedExtreme),c=b.toFixedRange(f.zoomedMin,f.zoomedMax,c,h),g.xAxis[0].setExtremes(c.min,c.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:a})),"mousemove"!==a.type&&(f.grabbedLeft=f.grabbedRight=f.grabbedCenter=f.fixedWidth=f.fixedExtreme=f.otherHandlePos=e=d=null)};var m=g.xAxis.length,n=g.yAxis.length;g.extraBottomMargin=f.outlineHeight+i.margin,f.navigatorEnabled?(f.xAxis=b=new nc(g,a({breaks:l&&l.xAxis.options.breaks,ordinal:l&&l.xAxis.options.ordinal},i.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:m,height:j,offset:0,offsetLeft:h,offsetRight:-h,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),f.yAxis=c=new nc(g,a(i.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:j,offset:0,index:n,zoomEnabled:!1})),l||i.series.data?f.addBaseSeries():0===g.series.length&&Rb(g,"redraw",function(a,b){g.series.length>0&&!f.series&&(f.setBaseSeries(),g.redraw=a),a.call(g,b)})):f.xAxis=b={translate:function(a,b){var c=g.xAxis[0],d=c.getExtremes(),e=g.plotWidth-2*h,f=Nc("min",c.options.min,d.dataMin),c=Nc("max",c.options.max,d.dataMax)-f;return b?a*c/e+f:e*(a-f)/c},toFixedRange:nc.prototype.toFixedRange},Rb(g,"getMargins",function(a){var d=this.legend,e=d.options;a.apply(this,[].slice.call(arguments,1)),f.top=k=f.navigatorOptions.top||this.chartHeight-f.height-f.scrollbarHeight-this.spacing[2]-("bottom"===e.verticalAlign&&e.enabled&&!e.floating?d.legendHeight+Qb(e.margin,10):0),b&&c&&(b.options.top=c.options.top=k,b.setAxisSize(),c.setAxisSize())}),f.addEvents()},getUnionExtremes:function(a){var b,c=this.chart.xAxis[0],d=this.xAxis,e=d.options,f=c.options;return a&&null===c.dataMin||(b={dataMin:Qb(e&&e.min,Nc("min",f.min,c.dataMin,d.dataMin)),dataMax:Qb(e&&e.max,Nc("max",f.max,c.dataMax,d.dataMax))}),b},setBaseSeries:function(a){var b=this.chart,a=a||b.options.navigator.baseSeries;this.series&&this.series.remove(),this.baseSeries=b.series[a]||"string"==typeof a&&b.get(a)||b.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var b,c=this.baseSeries,d=c?c.options:{},e=d.data,f=this.navigatorOptions.series;b=f.data,this.hasNavigatorData=!!b,d=a(d,f,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),d.data=b||e,this.series=this.chart.initSeries(d),c&&this.navigatorOptions.adaptToUpdatedData!==!1&&(_b(c,"updatedData",this.updatedDataHandler),c.userOptions.events=Pb(c.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var a,b,c,d,e,f=this.chart.scroller,g=f.baseSeries,h=g.xAxis,i=h.getExtremes(),j=i.min,k=i.max,l=i.dataMin,i=i.dataMax,m=k-j,n=f.series;a=n.xData;var o=!!h.setExtremes;b=k>=a[a.length-1]-(this.closestPointRange||0),a=l>=j,f.hasNavigatorData||(n.options.pointStart=g.xData[0],n.setData(g.options.data,!1),e=!0),a&&(d=l,c=d+m),b&&(c=i,a||(d=mb(c-m,n.xData[0]))),o&&(a||b)?isNaN(d)||h.setExtremes(d,c,!0,!1,{trigger:"updatedData"}):(e&&this.chart.redraw(!1),f.render(mb(j,l),nb(k,i)))},destroy:function(){this.removeEvents(),Xb([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(a){a&&a.destroy&&a.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null,Xb([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(a){x(a)})}},fb.Scroller=G,Rb(nc.prototype,"zoom",function(a,b,c){var d,e=this.chart,f=e.options,g=f.chart.zoomType,h=f.navigator,f=f.rangeSelector;return this.isXAxis&&(h&&h.enabled||f&&f.enabled)&&("x"===g?e.resetZoomButton="blocked":"y"===g?d=!1:"xy"===g&&(e=this.previousZoom,j(b)?this.previousZoom=[this.min,this.max]:e&&(b=e[0],c=e[1],delete this.previousZoom))),d!==I?d:a.call(this,b,c)}),Rb(wc.prototype,"init",function(a,b,c){_b(this,"beforeRender",function(){var a=this.options;(a.navigator.enabled||a.scrollbar.enabled)&&(this.scroller=new G(this))}),a.call(this,b,c)}),Rb(zc.prototype,"addPoint",function(a,b,c,f,g){var h=this.options.turboThreshold;h&&this.xData.length>h&&d(b)&&!e(b)&&this.chart.scroller&&z(20,!0),a.call(this,b,c,f,g)}),Pb(M,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),M.lang=a(M.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),H.prototype={clickButton:function(a,b){var c,d,e,f,g,h=this,i=h.selected,j=h.chart,k=h.buttons,l=h.buttonOptions[a],m=j.xAxis[0],n=j.scroller&&j.scroller.getUnionExtremes()||m||{},o=n.dataMin,p=n.dataMax,q=m&&jb(nb(m.max,Qb(p,m.max))),r=l.type,n=l._range,s=l.dataGrouping;if(null!==o&&null!==p&&a!==h.selected){if(j.fixedRange=n,s&&(this.forcedDataGrouping=!0,nc.prototype.setDataGrouping.call(m||{chart:this.chart},s,!1)),"month"===r||"year"===r)m?(r={range:l,max:q,dataMin:o,dataMax:p},c=m.minFromRange.call(r),"number"==typeof r.newMax&&(q=r.newMax)):n=l;else if(n)c=mb(q-n,o),q=nb(c+n,p);else if("ytd"===r){if(!m)return void _b(j,"beforeRender",function(){h.clickButton(a)});p===I&&(o=Number.MAX_VALUE,p=Number.MIN_VALUE,Xb(j.series,function(a){a=a.xData,o=nb(a[0],o),p=mb(a[a.length-1],p)}),b=!1),q=new Q(p),c=q.getFullYear(),c=e=mb(o||0,Q.UTC(c,0,1)),q=q.getTime(),q=nb(p||q,q)}else"all"===r&&m&&(c=o,q=p);k[i]&&k[i].setState(0),k[a]&&k[a].setState(2),m?(m.setExtremes(c,q,Qb(b,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:l}),h.setSelected(a)):(d=j.options.xAxis[0],g=d.range,d.range=n,f=d.min,d.min=e,h.setSelected(a),_b(j,"load",function(){d.range=g,d.min=f}))}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(a){var b=this,c=a.options.rangeSelector,d=c.buttons||[].concat(b.defaultButtons),e=c.selected,f=b.blurInputs=function(){var a=b.minInput,c=b.maxInput;a&&a.blur&&bc(a,"blur"),c&&c.blur&&bc(c,"blur")};b.chart=a,b.options=c,b.buttons=[],a.extraTopMargin=35,b.buttonOptions=d,_b(a.container,"mousedown",f),_b(a,"resize",f),Xb(d,b.computeButtonRange),e!==I&&d[e]&&this.clickButton(e,!1),_b(a,"load",function(){_b(a.xAxis[0],"setExtremes",function(c){this.max-this.min!==a.fixedRange&&"rangeSelectorButton"!==c.trigger&&"updatedData"!==c.trigger&&b.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),_b(a.xAxis[0],"afterSetExtremes",function(){b.updateButtonStates(!0)})})},updateButtonStates:function(a){var b=this,c=this.chart,d=c.xAxis[0],e=c.scroller&&c.scroller.getUnionExtremes()||d,f=e.dataMin,g=e.dataMax,h=b.selected,i=b.options.allButtonsEnabled,j=b.buttons;a&&c.fixedRange!==jb(d.max-d.min)&&(j[h]&&j[h].setState(0),b.setSelected(null)),Xb(b.buttonOptions,function(a,e){var k=jb(d.max-d.min),l=a._range,m=a.type,n=a.count||1,o=l>g-f,p=l<d.minRange,q="all"===a.type&&d.max-d.min>=g-f&&2!==j[e].state,r="ytd"===a.type&&N("%Y",f)===N("%Y",g),s=c.renderer.forExport&&e===h,l=l===k;("month"===m||"year"===m)&&k>=864e5*{month:28,year:365}[m]*n&&k<=864e5*{month:31,year:366}[m]*n&&(l=!0),s||l&&e!==h?(b.setSelected(e),j[e].setState(2)):!i&&(o||p||q||r)?j[e].setState(3):3===j[e].state&&j[e].setState(0)})},computeButtonRange:function(a){var b=a.type,c=a.count||1,d={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};d[b]?a._range=d[b]*c:("month"===b||"year"===b)&&(a._range=864e5*{month:30,year:365}[b]*c)},setInputValue:function(a,b){var c=this.chart.options.rangeSelector;j(b)&&(this[a+"Input"].HCTime=b),this[a+"Input"].value=N(c.inputEditDateFormat||"%Y-%m-%d",this[a+"Input"].HCTime),this[a+"DateBox"].attr({text:N(c.inputDateFormat||"%b %e, %Y",this[a+"Input"].HCTime)})},showInput:function(a){var b=this.inputGroup,c=this[a+"DateBox"];m(this[a+"Input"],{left:b.translateX+c.x+"px",top:b.translateY+"px",width:c.width-2+"px",height:c.height-2+"px",border:"2px solid silver"})},hideInput:function(a){m(this[a+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(a)},drawInput:function(c){var d,e,f=this,g=f.chart,h=g.renderer.style,i=g.renderer,j=g.options.rangeSelector,k=f.div,l="min"===c,m=this.inputGroup;this[c+"Label"]=e=i.label(M.lang[l?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(a(h,j.labelStyle)).add(m),m.offset+=e.width+5,this[c+"DateBox"]=i=i.label("",m.offset).attr({padding:2,width:j.inputBoxWidth||90,height:j.inputBoxHeight||17,stroke:j.inputBoxBorderColor||"silver","stroke-width":1}).css(a({textAlign:"center",color:"#444"},h,j.inputStyle)).on("click",function(){f.showInput(c),f[c+"Input"].focus()}).add(m),m.offset+=i.width+(l?10:0),this[c+"Input"]=d=n("input",{name:c,className:"highcharts-range-selector",type:"text"},Pb({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:h.fontSize,fontFamily:h.fontFamily,top:g.plotTop+"px"},j.inputStyle),k),d.onfocus=function(){f.showInput(c)},d.onblur=function(){f.hideInput(c)},d.onchange=function(){var a=d.value,c=(j.inputDateParser||Q.parse)(a),e=g.xAxis[0],h=e.dataMin,i=e.dataMax;isNaN(c)&&(c=a.split("-"),c=Q.UTC(b(c[0]),b(c[1])-1,b(c[2]))),isNaN(c)||(M.global.useUTC||(c+=6e4*(new Q).getTimezoneOffset()),l?c>f.maxInput.HCTime?c=I:h>c&&(c=h):c<f.minInput.HCTime?c=I:c>i&&(c=i),c!==I&&g.xAxis[0].setExtremes(l?c:e.min,l?e.max:c,I,I,{trigger:"rangeSelectorInput"}))}},getPosition:function(){var a=this.chart,a=Qb((a.options.rangeSelector.buttonPosition||{}).y,a.plotTop-a.axisOffset[0]-35);return{buttonTop:a,inputTop:a-10}},render:function(a,b){var c,d=this,e=d.chart,f=e.renderer,g=e.container,h=e.options,i=h.exporting&&h.navigation&&h.navigation.buttonOptions,k=h.rangeSelector,l=d.buttons,h=M.lang,m=d.div,m=d.inputGroup,o=k.buttonTheme,p=k.buttonPosition||{},q=k.inputEnabled,r=o&&o.states,s=e.plotLeft,t=this.getPosition(),u=d.group,v=d.rendered;v||(d.group=u=f.g("range-selector-buttons").add(),d.zoomText=f.text(h.rangeSelectorZoom,Qb(p.x,s),15).css(k.labelStyle).add(u),c=Qb(p.x,s)+d.zoomText.getBBox().width+5,Xb(d.buttonOptions,function(a,b){l[b]=f.button(a.text,c,0,function(){d.clickButton(b),d.isActive=!0},o,r&&r.hover,r&&r.select,r&&r.disabled).css({textAlign:"center"}).add(u),c+=l[b].width+Qb(k.buttonSpacing,5),d.selected===b&&l[b].setState(2)}),d.updateButtonStates(),q===!1)||(d.div=m=n("div",null,{position:"relative",height:0,zIndex:1}),g.parentNode.insertBefore(m,g),d.inputGroup=m=f.g("input-group").add(),m.offset=0,d.drawInput("min"),d.drawInput("max")),u[v?"animate":"attr"]({translateY:t.buttonTop}),q!==!1&&(m.align(Pb({y:t.inputTop,width:m.offset,x:i&&t.inputTop<(i.y||0)+i.height-e.spacing[0]?-40:0},k.inputPosition),!0,e.spacingBox),j(q)||(e=u.getBBox(),m[m.translateX<e.x+e.width+10?"hide":"show"]()),d.setInputValue("min",a),d.setInputValue("max",b)),d.rendered=!0},destroy:function(){var a,b=this.minInput,c=this.maxInput,d=this.chart,e=this.blurInputs;ac(d.container,"mousedown",e),ac(d,"resize",e),x(this.buttons),b&&(b.onfocus=b.onblur=b.onchange=null),c&&(c.onfocus=c.onblur=c.onchange=null);for(a in this)this[a]&&"chart"!==a&&(this[a].destroy?this[a].destroy():this[a].nodeType&&y(this[a])),this[a]=null}},nc.prototype.toFixedRange=function(a,b,c,d){var e=this.chart&&this.chart.fixedRange,a=Qb(c,this.translate(a,!0)),b=Qb(d,this.translate(b,!0)),c=e&&(b-a)/e;return c>.7&&1.3>c&&(d?a=b-e:b=a+e),{min:a,max:b}},nc.prototype.minFromRange=function(){var a,b=this.range,c={month:"Month",year:"FullYear"}[b.type],d=this.max,e=new Q(d);return"number"==typeof b?(c=this.max-b,a=b):(e["set"+c](e["get"+c]()-b.count),c=e.getTime()),b=Qb(this.dataMin,Number.MIN_VALUE),isNaN(c)&&(c=b),b>=c&&(c=b,this.newMax=nb(c+a,this.dataMax)),isNaN(d)&&(c=void 0),c},Rb(wc.prototype,"init",function(a,b,c){_b(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new H(this))}),a.call(this,b,c)}),fb.RangeSelector=H,wc.prototype.callbacks.push(function(a){function b(){f=a.xAxis[0].getExtremes(),g.render(f.min,f.max)}function c(){f=a.xAxis[0].getExtremes(),isNaN(f.min)||h.render(f.min,f.max)}function d(a){"navigator-drag"!==a.triggerOp&&g.render(a.min,a.max)}function e(a){h.render(a.min,a.max)}var f,g=a.scroller,h=a.rangeSelector;g&&(_b(a.xAxis[0],"afterSetExtremes",d),Rb(a,"drawChartBox",function(a){var c=this.isDirtyBox;a.call(this),c&&b()}),b()),h&&(_b(a.xAxis[0],"afterSetExtremes",e),_b(a,"resize",c),c()),_b(a,"destroy",function(){g&&ac(a.xAxis[0],"afterSetExtremes",d),h&&(ac(a,"resize",c),ac(a.xAxis[0],"afterSetExtremes",e))})}),fb.StockChart=function(b,c){var d,e=b.series,f=Qb(b.navigator&&b.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,g={marker:{enabled:!1,radius:2}},h={shadow:!1,borderWidth:0};return b.xAxis=$b(l(b.xAxis||{}),function(b){return a({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},b,{type:"datetime",categories:null},f)}),b.yAxis=$b(l(b.yAxis||{}),function(b){return d=Qb(b.opposite,!0),a({labels:{y:-2},opposite:d,showLastLabel:!1,title:{text:null}},b)}),b.series=null,b=a({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:g,spline:g,area:g,areaspline:g,arearange:g,areasplinerange:g,column:h,columnrange:h,candlestick:h,ohlc:h}},b,{_stock:!0,chart:{inverted:!1}}),b.series=e,new wc(b,c)},Rb(qc.prototype,"init",function(a,b,c){var d=c.chart.pinchType||"";a.call(this,b,c),this.pinchX=this.pinchHor=-1!==d.indexOf("x"),this.pinchY=this.pinchVert=-1!==d.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),Rb(nc.prototype,"autoLabelAlign",function(a){var b=this.chart,c=this.options,b=b._labelPanes=b._labelPanes||{},d=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&(c=c.top+","+c.height,!b[c]&&d.enabled)?(15===d.x&&(d.x=0),void 0===d.align&&(d.align="right"),b[c]=1,"right"):a.call(this,[].slice.call(arguments,1))}),Rb(nc.prototype,"getPlotLinePath",function(a,b,c,d,e,f){var g,h,i,k,l,m=this,n=this.isLinked&&!this.series?this.linkedParent.series:this.series,o=m.chart,p=o.renderer,q=m.left,r=m.top,s=[],t=[];return"colorAxis"===m.coll?a.apply(this,[].slice.call(arguments,1)):(t=m.isXAxis?j(m.options.yAxis)?[o.yAxis[m.options.yAxis]]:$b(n,function(a){return a.yAxis}):j(m.options.xAxis)?[o.xAxis[m.options.xAxis]]:$b(n,function(a){return a.xAxis}),Xb(m.isXAxis?o.yAxis:o.xAxis,function(a){if(j(a.options.id)?-1===a.options.id.indexOf("navigator"):1){var b=a.isXAxis?"yAxis":"xAxis",b=j(a.options[b])?o[b][a.options[b]]:o[b][0];m===b&&t.push(a)}}),l=t.length?[]:[m.isXAxis?o.yAxis[0]:o.xAxis[0]],Xb(t,function(a){-1===Wb(a,l)&&l.push(a)}),f=Qb(f,m.translate(b,null,null,d)),isNaN(f)||(m.horiz?Xb(l,function(a){var b;h=a.pos,k=h+a.len,g=i=jb(f+m.transB),(q>g||g>q+m.width)&&(e?g=i=nb(mb(q,g),q+m.width):b=!0),b||s.push("M",g,h,"L",i,k)}):Xb(l,function(a){var b;g=a.pos,i=g+a.len,h=k=jb(r+m.height-f),(r>h||h>r+m.height)&&(e?h=k=nb(mb(r,h),m.top+m.height):b=!0),b||s.push("M",g,h,"L",i,k)})),s.length>0?p.crispPolyLine(s,c||1):null)}),nc.prototype.getPlotBandPath=function(a,b){var c,d=this.getPlotLinePath(b,null,null,!0),e=this.getPlotLinePath(a,null,null,!0),f=[];if(e&&d&&e.toString()!==d.toString())for(c=0;c<e.length;c+=6)f.push("M",e[c+1],e[c+2],"L",e[c+4],e[c+5],d[c+4],d[c+5],d[c+1],d[c+2]);else f=null;return f},kc.prototype.crispPolyLine=function(a,b){var c;for(c=0;c<a.length;c+=6)a[c+1]===a[c+4]&&(a[c+1]=a[c+4]=jb(a[c+1])-b%2/2),a[c+2]===a[c+5]&&(a[c+2]=a[c+5]=jb(a[c+2])+b%2/2);return a},J===fb.VMLRenderer&&(lc.prototype.crispPolyLine=kc.prototype.crispPolyLine),Rb(nc.prototype,"hideCrosshair",function(a,b){a.call(this,b),j(this.crossLabelArray)&&(j(b)?this.crossLabelArray[b]&&this.crossLabelArray[b].hide():Xb(this.crossLabelArray,function(a){a.hide()}))}),Rb(nc.prototype,"drawCrosshair",function(a,b,c){var d,e;if(a.call(this,b,c),j(this.crosshair.label)&&this.crosshair.label.enabled&&j(c)){var f,g,a=this.chart,h=this.options.crosshair.label,i=this.isXAxis?"x":"y",b=this.horiz,k=this.opposite,l=this.left,m=this.top,n=this.crossLabel,o=h.format,p="";n||(n=this.crossLabel=a.renderer.label().attr({align:h.align||(b?"center":k?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center"),zIndex:12,height:b?16:I,fill:h.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:Qb(h.padding,2),stroke:h.borderColor||null,"stroke-width":h.borderWidth||0}).css(Pb({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},h.style)).add()),b?(f=c.plotX+l,g=m+(k?0:this.height)):(f=k?this.width+l:0,g=c.plotY+m),m>g||g>m+this.height?this.hideCrosshair():(!o&&!h.formatter&&(this.isDatetimeAxis&&(p="%b %d, %Y"),o="{value"+(p?":"+p:"")+"}"),n.attr({text:o?r(o,{value:c[i]}):h.formatter.call(this,c[i]),x:f,y:g,visibility:"visible"}),c=n.getBBox(),b?("inside"===this.options.tickPosition&&!k||"inside"!==this.options.tickPosition&&k)&&(g=n.y-c.height):g=n.y-c.height/2,b?(d=l-c.x,e=l+this.width-c.x):(d="left"===this.labelAlign?l:0,e="right"===this.labelAlign?l+this.width:a.chartWidth),n.translateX<d&&(f+=d-n.translateX),n.translateX+c.width>=e&&(f-=n.translateX+c.width-e),n.attr({x:f,y:g,visibility:"visible"}))
}});var Oc=Dc.init,Pc=Dc.processData,Qc=yc.prototype.tooltipFormatter;Dc.init=function(){Oc.apply(this,arguments),this.setCompare(this.options.compare)},Dc.setCompare=function(a){this.modifyValue="value"===a||"percent"===a?function(b,c){var d=this.compareValue;return b!==I&&(b="value"===a?b-d:b=100*(b/d)-100,c)&&(c.change=b),b}:null,this.chart.hasRendered&&(this.isDirty=!0)},Dc.processData=function(){var a,b,c,d=0;if(Pc.apply(this,arguments),this.xAxis&&this.processedYData)for(a=this.processedXData,b=this.processedYData,c=b.length;c>d;d++)if("number"==typeof b[d]&&a[d]>=this.xAxis.min){this.compareValue=b[d];break}},Rb(Dc,"getExtremes",function(a){a.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),nc.prototype.setCompare=function(a,b){this.isXAxis||(Xb(this.series,function(b){b.setCompare(a)}),Qb(b,!0)&&this.chart.redraw())},yc.prototype.tooltipFormatter=function(a){return a=a.replace("{point.change}",(this.change>0?"+":"")+fb.numberFormat(this.change,Qb(this.series.tooltipOptions.changeDecimals,2))),Qc.apply(this,[a])},Rb(zc.prototype,"render",function(b){this.chart.options._stock&&this.xAxis&&(!this.clipBox&&this.animate?(this.clipBox=a(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(ec(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),b.call(this)}),Pb(fb,{Color:jc,Point:yc,Tick:E,Renderer:J,SVGElement:D,SVGRenderer:kc,arrayMin:v,arrayMax:w,charts:Hb,dateFormat:N,error:z,format:r,pathAnim:O,getOptions:function(){return M},hasBidiBug:Cb,isTouchDevice:zb,setOptions:function(b){return M=a(!0,M,b),C(),M},addEvent:_b,removeEvent:ac,createElement:n,discardElement:y,css:m,each:Xb,map:$b,merge:a,splat:l,extendClass:o,pInt:b,svg:Bb,canvas:Db,vml:!Bb&&!Db,product:"Highstock",version:"2.1.8"})}(),$(function(){$("#J_switchBtn").on("click","span",function(){var a=$("#J_btns");console.log($(this).text().indexOf("3")),$(this).text().indexOf("3")>-1?a.addClass("three").removeClass("five"):a.addClass("five").removeClass("three"),$(this).siblings().removeClass("cur"),$(this).addClass("cur")}),window.njDrawChart=function(){if(document.getElementById("J_chart")){var a=document.getElementById("J_chart").getContext("2d"),b={labels:["06/26","06/29","06/30","07/01","07/02","07/03"],datasets:[{label:"",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[4188.57,4040.48,4053.7,4182.93,4023.93,3872.15]}]};new Chart(a).Line(b,{responsive:!0})}},Highcharts.setOptions({global:{useUTC:!1},lang:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],weekdays:["周日","周一","周二","周三","周四","周五","周六"]}}),wx.ready(function(){var a="我",b="";bootstrappedUserObject&&(a=bootstrappedUserObject.wechat.wechat_name,b=(bootstrappedUserObject.wechat.trader.lastCash-1e8)/100),wx.onMenuShareAppMessage({title:"股指拍拍机",desc:"我玩股指拍拍机获得3万交易本金，快来一起成为交易高手吧！",link:"http://www.niujin.cn/futures/",imgUrl:"http://www.niujin.cn/futures/images/logo.png",type:"link",dataUrl:"",success:function(){},cancel:function(){}}),wx.onMenuShareTimeline({title:"现在玩拍拍机可获得3万本金，快来一起成为交易高手吧！",link:"http://www.niujin.cn/futures",imgUrl:"http://www.niujin.cn/futures/images/logo.png",success:function(){},cancel:function(){}})}),wx.error(function(){});var a=location.href.split("#")[0];$.get("/wechat/get_jsapi_token?url="+encodeURIComponent(a),function(){}).done(function(a){wx.config(a)}).fail(function(){}).always(function(){}),window.njPersonChart=function(a,b){var c=b-a,d="#eb6877",e="总资产",f="收益:",g="本金:",h=a,i=b.toFixed(0);0>c&&(c=0-c,d="#6fd264",e="本金",f="亏损:",g="总资产:",h=a-c,i=a.toFixed(0)),$("#sectorChart").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1},title:{text:i+"<br>"+e,align:"center",verticalAlign:"middle",x:0,y:0,style:{fontSize:"15"}},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{dataLabels:{enabled:!1},startAngle:0,endAngle:360,center:["50%","50%"],showInLegend:!1}},series:[{type:"pie",name:e,innerSize:"70%",data:[{name:f+c.toFixed(0),color:d,y:c},{name:g+h.toFixed(0),color:"#dfe9eb",y:h}]}],exporting:{enabled:!1},credits:{enabled:!1}})}}),angular.module("futuresApp",["ngResource","ngRoute","ui.bootstrap","commonApp","ngTouch"]),angular.module("futuresApp").config(["$routeProvider","$httpProvider",function(a,b){b.defaults.headers.get||(b.defaults.headers.get={}),b.defaults.headers.get["Cache-Control"]="no-cache",b.defaults.headers.get.Pragma="no-cache",a.when("/home",{templateUrl:"/futures/home",controller:"FuturesHomeCtrl"}).when("/orders",{templateUrl:"/futures/orders",controller:"FuturesOrdersCtrl"}).when("/profit_exchange",{templateUrl:"/futures/profit_exchange",controller:"FuturesExchangeCtrl"}).when("/add_wechat",{templateUrl:"/futures/add_wechat",controller:"FuturesWechatCtrl"}).when("/user_rank",{templateUrl:"/futures/user_rank",controller:"FuturesUserRankCtrl"}).when("/products",{templateUrl:"/futures/products",controller:"FuturesProductsCtrl"}).when("/user",{templateUrl:"/futures/user",controller:"FuturesUserCtrl"}).when("/appointment",{templateUrl:"/futures/appointment",controller:"FuturesAppointmentCtrl"}).when("/user_info",{templateUrl:"/futures/user_info",controller:"FuturesContractCtrl"}).when("/apply_close",{templateUrl:"/futures/apply_close",controller:"FuturesApplyCloseCtrl"}).when("/contract",{templateUrl:"/futures/contract",controller:"FuturesContractCtrl"}).when("/trade_setting",{templateUrl:"/futures/trade_setting",controller:"FuturesTradeSettingCtrl"}).otherwise({redirectTo:"/home"})}]),angular.module("futuresApp").controller("IntroModalCtrl",["$scope","$modalInstance",function(a,b){a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("futuresApp").controller("GainModalCtrl",["$scope","$modalInstance","profit","constant","cash",function(a,b,c,d,e){a.profit=c,a.constant=d,a.cash=e,a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("futuresApp").controller("InfoModalCtrl",["$scope","$modalInstance",function(a,b){a.data={},a.ok=function(){b.close(a.data)},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("futuresApp").service("util",[function(){this.generateBlankData=function(a,b){for(var c=a+72e5+9e5,d=[],e=b[0];c>e;)e+=6e4,d.push([e,null]);return d}}]),angular.module("futuresApp").service("Socket",["$timeout",function(a){this.socket=io(),this.on=function(b,c){this.socket&&this.socket.on(b,function(b){a(function(){c(b)})})},this.emit=function(a,b){this.socket&&this.socket.emit(a,b)},this.removeListener=function(a){this.socket&&this.socket.removeListener(a)}}]),angular.module("futuresApp").directive("futuresChart",["util","Socket",function(a,b){function c(a,b,c,d){d?a.series.addPoint(b,!0,!0):a.series.setData(b,!0,!0),a.fake_series.setData(c,!0,!0),a.flags_series.setData(a.flags_data,!0,!0)}function d(b,d,e){var f=b.length-1,g=a.generateBlankData(e,b[f]);d.lastPoint=b[f][1],c(d,b,g,!1),d.historyData=b}return function(e,f){e.data.historyData||(e.data.historyData=[]);var g;e.data.socket||(e.data.socket=!0,b.on("connect",function(){b.emit("join",{name:e.data.currentUser._id,room:0})}),b.on("history_data",function(a){if(a.productID==e.data.productID){if(!a.data||!a.data[0])return;g=a.data[0][0],d(a.data,e.data,g)}}),b.on("new_data",function(b){if(b.productID==e.data.productID){e.data.historyData.push(b.data),e.data.lastPoint=b.data[1];var d=a.generateBlankData(g,b.data);c(e.data,b.data,d,!0)}})),e.data.chart&&e.data.chart.destroy(),e.data.chart=new Highcharts.StockChart({chart:{renderTo:f[0],events:{load:function(){e.data.series=this.series[0],e.data.fake_series=this.series[1],e.data.flags_series=this.series[2],e.data.historyData.length&&d(e.data.historyData,e.data,g)}}},exporting:{enabled:!1},credits:{enabled:!1},scrollbar:{enabled:!1},navigator:{enabled:!1,height:30},rangeSelector:{enabled:!1,buttons:[{type:"minute",count:20,text:"20M"},{type:"all",text:"All"}]},yAxis:{opposite:!0},series:[{name:"股指",data:[],id:"stock_data"},{name:"股指2",data:[]},{type:"flags",shape:"circlepin",width:1,onSeries:"stock_data",data:[],id:"stock_data_flags",showInLegend:!1}],tooltip:{valueDecimals:1}}),e.$watch("currentOrder",function(a){if(a){var b=a.price/100,c="#FF0000";a.quantity<0&&(c="#00FF00"),e.data.flags_data.push({x:Date.parse(a.timestamp),y:b,color:"#000000",fillColor:c,text:"",title:" "})}})}}]);var Zepto=function(){function a(a){return null==a?String(a):U[V.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&Object.getPrototypeOf(a)==Object.prototype}function g(a){return"number"==typeof a.length}function h(a){return D.call(a,function(a){return null!=a})}function i(a){return a.length>0?x.fn.concat.apply([],a):a}function j(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function k(a){return a in G?G[a]:G[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function l(a,b){return"number"!=typeof b||H[j(a)]?b:b+"px"}function m(a){var b,c;return F[a]||(b=E.createElement(a),E.body.appendChild(b),c=getComputedStyle(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),F[a]=c),F[a]}function n(a){return"children"in a?C.call(a.children):x.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function o(a,b,c){for(w in b)c&&(f(b[w])||Z(b[w]))?(f(b[w])&&!f(a[w])&&(a[w]={}),Z(b[w])&&!Z(a[w])&&(a[w]=[]),o(a[w],b[w],c)):b[w]!==v&&(a[w]=b[w])}function p(a,b){return null==b?x(a):x(a).filter(b)}function q(a,c,d,e){return b(c)?c.call(a,d,e):c}function r(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function s(a,b){var c=a.className||"",d=c&&c.baseVal!==v;return b===v?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function t(a){try{return a?"true"==a||("false"==a?!1:"null"==a?null:+a+""==a?+a:/^[\[\{]/.test(a)?x.parseJSON(a):a):a}catch(b){return a}}function u(a,b){b(a);for(var c=0,d=a.childNodes.length;d>c;c++)u(a.childNodes[c],b)}var v,w,x,y,z,A,B=[],C=B.slice,D=B.filter,E=window.document,F={},G={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},I=/^\s*<(\w+|!)[^>]*>/,J=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,K=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,M=/([A-Z])/g,N=["val","css","html","text","data","width","height","offset"],O=["after","prepend","before","append"],P=E.createElement("table"),Q=E.createElement("tr"),R={tr:E.createElement("tbody"),tbody:P,thead:P,tfoot:P,td:Q,th:Q,"*":E.createElement("div")},S=/complete|loaded|interactive/,T=/^[\w-]*$/,U={},V=U.toString,W={},X=E.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(a){return a instanceof Array};return W.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=X).appendChild(a),d=~W.qsa(e,b).indexOf(a),f&&X.removeChild(a),d},z=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},A=function(a){return D.call(a,function(b,c){return a.indexOf(b)==c})},W.fragment=function(a,b,c){var d,e,g;return J.test(a)&&(d=x(E.createElement(RegExp.$1))),d||(a.replace&&(a=a.replace(K,"<$1></$2>")),b===v&&(b=I.test(a)&&RegExp.$1),b in R||(b="*"),g=R[b],g.innerHTML=""+a,d=x.each(C.call(g.childNodes),function(){g.removeChild(this)})),f(c)&&(e=x(d),x.each(c,function(a,b){N.indexOf(a)>-1?e[a](b):e.attr(a,b)})),d},W.Z=function(a,b){return a=a||[],a.__proto__=x.fn,a.selector=b||"",a},W.isZ=function(a){return a instanceof W.Z},W.init=function(a,c){var d;if(!a)return W.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&I.test(a))d=W.fragment(a,RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}else{if(b(a))return x(E).ready(a);if(W.isZ(a))return a;if(Z(a))d=h(a);else if(e(a))d=[a],a=null;else if(I.test(a))d=W.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}}return W.Z(d,a)},x=function(a,b){return W.init(a,b)},x.extend=function(a){var b,c=C.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){o(a,c,b)}),a},W.qsa=function(a,b){var c,e="#"==b[0],f=!e&&"."==b[0],g=e||f?b.slice(1):b,h=T.test(g);return d(a)&&h&&e?(c=a.getElementById(g))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:C.call(h&&!e?f?a.getElementsByClassName(g):a.getElementsByTagName(b):a.querySelectorAll(b))},x.contains=E.documentElement.contains?function(a,b){return a!==b&&a.contains(b)}:function(a,b){for(;b&&(b=b.parentNode);)if(b===a)return!0;return!1},x.type=a,x.isFunction=b,x.isWindow=c,x.isArray=Z,x.isPlainObject=f,x.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},x.inArray=function(a,b,c){return B.indexOf.call(b,a,c)},x.camelCase=z,x.trim=function(a){return null==a?"":String.prototype.trim.call(a)},x.uuid=0,x.support={},x.expr={},x.map=function(a,b){var c,d,e,f=[];if(g(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return i(f)},x.each=function(a,b){var c,d;if(g(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},x.grep=function(a,b){return D.call(a,b)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){U["[object "+b+"]"]=b.toLowerCase()}),x.fn={forEach:B.forEach,reduce:B.reduce,push:B.push,sort:B.sort,indexOf:B.indexOf,concat:B.concat,map:function(a){return x(x.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return x(C.apply(this,arguments))},ready:function(a){return S.test(E.readyState)&&E.body?a(x):E.addEventListener("DOMContentLoaded",function(){a(x)},!1),this},get:function(a){return a===v?C.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return B.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):x(D.call(this,function(b){return W.matches(b,a)}))},add:function(a,b){return x(A(this.concat(x(a,b))))},is:function(a){return this.length>0&&W.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==v)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):g(a)&&b(a.item)?C.call(a):x(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return x(c)},has:function(a){return this.filter(function(){return e(a)?x.contains(this,a):x(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:x(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:x(a)},find:function(a){var b,c=this;return b=a?"object"==typeof a?x(a).filter(function(){var a=this;return B.some.call(c,function(b){return x.contains(b,a)})}):1==this.length?x(W.qsa(this[0],a)):this.map(function(){return W.qsa(this,a)}):x()},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=x(a));c&&!(e?e.indexOf(c)>=0:W.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return x(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=x.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return p(b,a)},parent:function(a){return p(A(this.pluck("parentNode")),a)},children:function(a){return p(this.map(function(){return n(this)}),a)},contents:function(){return this.map(function(){return C.call(this.childNodes)})},siblings:function(a){return p(this.map(function(a,b){return D.call(n(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return x.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=m(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=x(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){x(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){x(this[0]).before(a=x(a));for(var b;(b=a.children()).length;)a=b.first();x(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=x(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=x(this);(a===v?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return x(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return x(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(b){var c=this.innerHTML;x(this).empty().append(q(this,a,b,c))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(b){var c=q(this,a,b,this.textContent);this.textContent=null==c?"":""+c}):0 in this?this[0].textContent:null},attr:function(a,b){var c;return"string"!=typeof a||1 in arguments?this.each(function(c){if(1===this.nodeType)if(e(a))for(w in a)r(this,w,a[w]);else r(this,a,q(this,b,c,this.getAttribute(a)))}):this.length&&1===this[0].nodeType?!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:v},removeAttr:function(a){return this.each(function(){1===this.nodeType&&a.split(" ").forEach(function(a){r(this,a)},this)})},prop:function(a,b){return a=Y[a]||a,1 in arguments?this.each(function(c){this[a]=q(this,b,c,this[a])}):this[0]&&this[0][a]},data:function(a,b){var c="data-"+a.replace(M,"-$1").toLowerCase(),d=1 in arguments?this.attr(c,b):this.attr(c);return null!==d?t(d):v},val:function(a){return 0 in arguments?this.each(function(b){this.value=q(this,a,b,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(b){var c=x(this),d=q(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(!this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2){var d,e=this[0];if(!e)return;if(d=getComputedStyle(e,""),"string"==typeof b)return e.style[z(b)]||d.getPropertyValue(b);if(Z(b)){var f={};return x.each(b,function(a,b){f[b]=e.style[z(b)]||d.getPropertyValue(b)}),f}}var g="";if("string"==a(b))c||0===c?g=j(b)+":"+l(b,c):this.each(function(){this.style.removeProperty(j(b))});else for(w in b)b[w]||0===b[w]?g+=j(w)+":"+l(w,b[w])+";":this.each(function(){this.style.removeProperty(j(w))});return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(x(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return a?B.some.call(this,function(a){return this.test(s(a))},k(a)):!1},addClass:function(a){return a?this.each(function(b){if("className"in this){y=[];var c=s(this),d=q(this,a,b,c);d.split(/\s+/g).forEach(function(a){x(this).hasClass(a)||y.push(a)},this),y.length&&s(this,c+(c?" ":"")+y.join(" "))}}):this},removeClass:function(a){return this.each(function(b){if("className"in this){if(a===v)return s(this,"");y=s(this),q(this,a,b,y).split(/\s+/g).forEach(function(a){y=y.replace(k(a)," ")}),s(this,y.trim())}})},toggleClass:function(a,b){return a?this.each(function(c){var d=x(this),e=q(this,a,c,s(this));e.split(/\s+/g).forEach(function(a){(b===v?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===v?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===v?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=L.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(x(a).css("margin-top"))||0,c.left-=parseFloat(x(a).css("margin-left"))||0,d.top+=parseFloat(x(b[0]).css("border-top-width"))||0,d.left+=parseFloat(x(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||E.body;a&&!L.test(a.nodeName)&&"static"==x(a).css("position");)a=a.offsetParent;return a})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});x.fn[a]=function(e){var f,g=this[0];return e===v?c(g)?g["inner"+b]:d(g)?g.documentElement["scroll"+b]:(f=this.offset())&&f[a]:this.each(function(b){g=x(this),g.css(a,q(this,e,b,g[a]()))})}}),O.forEach(function(b,c){var d=c%2;x.fn[b]=function(){var b,e,f=x.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:W.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null;var h=x.contains(E.documentElement,e);f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return x(a).remove();e.insertBefore(a,b),h&&u(a,function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})},x.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return x(a)[b](this),this}}),W.Z.prototype=x.fn,W.uniq=A,W.deserializeValue=t,x.zepto=W,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(a){function b(a){return a._zid||(a._zid=m++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(q[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!h.test(a.ns)||f&&b(a.fn)!==b(f)||g&&a.sel!=g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(a,b){return a.del&&!s&&a.e in t||!!b}function g(a){return u[a]||s&&t[a]||a}function h(c,e,h,i,k,m,n){var o=b(c),p=q[o]||(q[o]=[]);e.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(h);var e=d(b);e.fn=h,e.sel=k,e.e in u&&(h=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?e.fn.apply(this,arguments):void 0}),e.del=m;var o=m||h;e.proxy=function(a){if(a=j(a),!a.isImmediatePropagationStopped()){a.data=i;var b=o.apply(c,a._args==l?[a]:[a].concat(a._args));return b===!1&&(a.preventDefault(),a.stopPropagation()),b}},e.i=p.length,p.push(e),"addEventListener"in c&&c.addEventListener(g(e.e),e.proxy,f(e,n))})}function i(a,d,e,h,i){var j=b(a);(d||"").split(/\s/).forEach(function(b){c(a,b,e,h).forEach(function(b){delete q[j][b.i],"removeEventListener"in a&&a.removeEventListener(g(b.e),b.proxy,f(b,i))})})}function j(b,c){return(c||!b.isDefaultPrevented)&&(c||(c=b),a.each(y,function(a,d){var e=c[a];b[a]=function(){return this[d]=v,e&&e.apply(c,arguments)},b[d]=w}),(c.defaultPrevented!==l?c.defaultPrevented:"returnValue"in c?c.returnValue===!1:c.getPreventDefault&&c.getPreventDefault())&&(b.isDefaultPrevented=v)),b}function k(a){var b,c={originalEvent:a};for(b in a)x.test(b)||a[b]===l||(c[b]=a[b]);return j(c,a)}var l,m=1,n=Array.prototype.slice,o=a.isFunction,p=function(a){return"string"==typeof a},q={},r={},s="onfocusin"in window,t={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",a.event={add:h,remove:i},a.proxy=function(c,d){var e=2 in arguments&&n.call(arguments,2);if(o(c)){var f=function(){return c.apply(d,e?e.concat(n.call(arguments)):arguments)};return f._zid=b(c),f}if(p(d))return e?(e.unshift(c[d],c),a.proxy.apply(null,e)):a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b,c){return this.on(a,b,c)},a.fn.unbind=function(a,b){return this.off(a,b)},a.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var v=function(){return!0},w=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(a,b,c){return this.on(b,a,c)},a.fn.undelegate=function(a,b,c){return this.off(b,a,c)},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d,e,f){var g,j,m=this;return b&&!p(b)?(a.each(b,function(a,b){m.on(a,c,d,b,f)}),m):(p(c)||o(e)||e===!1||(e=d,d=c,c=l),(o(d)||d===!1)&&(e=d,d=l),e===!1&&(e=w),m.each(function(l,m){f&&(g=function(a){return i(m,a.type,e),e.apply(this,arguments)}),c&&(j=function(b){var d,f=a(b.target).closest(c,m).get(0);return f&&f!==m?(d=a.extend(k(b),{currentTarget:f,liveFired:m}),(g||e).apply(f,[d].concat(n.call(arguments,1)))):void 0}),h(m,b,e,d,c,j||g)}))},a.fn.off=function(b,c,d){var e=this;return b&&!p(b)?(a.each(b,function(a,b){e.off(a,c,b)}),e):(p(c)||o(d)||d===!1||(d=c,c=l),d===!1&&(d=w),e.each(function(){i(this,b,d,c)}))},a.fn.trigger=function(b,c){return b=p(b)||a.isPlainObject(b)?a.Event(b):j(b),b._args=c,this.each(function(){b.type in t&&"function"==typeof this[b.type]?this[b.type]():"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k(p(b)?a.Event(b):b),e._args=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return 0 in arguments?this.bind(b,a):this.trigger(b)}}),a.Event=function(a,b){p(a)||(b=a,a=b.type);var c=document.createEvent(r[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),j(c)}}(Zepto),function(a){function b(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.isDefaultPrevented()}function c(a,c,d,e){return a.global?b(c||s,d,e):void 0}function d(b){b.global&&0===a.active++&&c(b,null,"ajaxStart")}function e(b){b.global&&!--a.active&&c(b,null,"ajaxStop")}function f(a,b){var d=b.context;return b.beforeSend.call(d,a,b)===!1||c(b,d,"ajaxBeforeSend",[a,b])===!1?!1:void c(b,d,"ajaxSend",[a,b])}function g(a,b,d,e){var f=d.context,g="success";d.success.call(f,a,g,b),e&&e.resolveWith(f,[a,g,b]),c(d,f,"ajaxSuccess",[b,d,a]),i(g,b,d)}function h(a,b,d,e,f){var g=e.context;e.error.call(g,d,b,a),f&&f.rejectWith(g,[d,b,a]),c(e,g,"ajaxError",[d,e,a||b]),i(b,d,e)}function i(a,b,d){var f=d.context;d.complete.call(f,b,a),c(d,f,"ajaxComplete",[b,d]),e(d)}function j(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==w?"json":u.test(a)?"script":v.test(a)&&"xml")||"text"}function l(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function m(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=l(b.url,b.data),b.data=void 0)}function n(b,c,d,e){return a.isFunction(c)&&(e=d,d=c,c=void 0),a.isFunction(d)||(e=d,d=void 0),{url:b,data:c,success:d,dataType:e}}function o(b,c,d,e){var f,g=a.isArray(c),h=a.isPlainObject(c);a.each(c,function(c,i){f=a.type(i),e&&(c=d?e:e+"["+(h||"object"==f||"array"==f?c:"")+"]"),!e&&g?b.add(i.name,i.value):"array"==f||!d&&"object"==f?o(b,i,d,c):b.add(c,i)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/,z=s.createElement("a");z.href=window.location.href,a.active=0,a.ajaxJSONP=function(b,c){if(!("type"in b))return a.ajax(b);var d,e,i=b.jsonpCallback,j=(a.isFunction(i)?i():i)||"jsonp"+ ++r,k=s.createElement("script"),l=window[j],m=function(b){a(k).triggerHandler("error",b||"abort")},n={abort:m};return c&&c.promise(n),a(k).on("load error",function(f,i){clearTimeout(e),a(k).off().remove(),"error"!=f.type&&d?g(d[0],n,b,c):h(null,i||"error",n,b,c),window[j]=l,d&&a.isFunction(l)&&l(d[0]),l=d=void 0}),f(n,b)===!1?(m("abort"),n):(window[j]=function(){d=arguments},k.src=b.url.replace(/\?(.+)=\?/,"?$1="+j),s.head.appendChild(k),b.timeout>0&&(e=setTimeout(function(){m("timeout")},b.timeout)),n)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c,e=a.extend({},b||{}),i=a.Deferred&&a.Deferred();for(p in a.ajaxSettings)void 0===e[p]&&(e[p]=a.ajaxSettings[p]);d(e),e.crossDomain||(c=s.createElement("a"),c.href=e.url,c.href=c.href,e.crossDomain=z.protocol+"//"+z.host!=c.protocol+"//"+c.host),e.url||(e.url=window.location.toString()),m(e);var n=e.dataType,o=/\?.+=\?/.test(e.url);if(o&&(n="jsonp"),e.cache!==!1&&(b&&b.cache===!0||"script"!=n&&"jsonp"!=n)||(e.url=l(e.url,"_="+Date.now())),"jsonp"==n)return o||(e.url=l(e.url,e.jsonp?e.jsonp+"=?":e.jsonp===!1?"":"callback=?")),a.ajaxJSONP(e,i);var r,t=e.accepts[n],u={},v=function(a,b){u[a.toLowerCase()]=[a,b]},w=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:window.location.protocol,x=e.xhr(),A=x.setRequestHeader;if(i&&i.promise(x),e.crossDomain||v("X-Requested-With","XMLHttpRequest"),v("Accept",t||"*/*"),(t=e.mimeType||t)&&(t.indexOf(",")>-1&&(t=t.split(",",2)[0]),x.overrideMimeType&&x.overrideMimeType(t)),(e.contentType||e.contentType!==!1&&e.data&&"GET"!=e.type.toUpperCase())&&v("Content-Type",e.contentType||"application/x-www-form-urlencoded"),e.headers)for(q in e.headers)v(q,e.headers[q]);if(x.setRequestHeader=v,x.onreadystatechange=function(){if(4==x.readyState){x.onreadystatechange=j,clearTimeout(r);var b,c=!1;if(x.status>=200&&x.status<300||304==x.status||0==x.status&&"file:"==w){n=n||k(e.mimeType||x.getResponseHeader("content-type")),b=x.responseText;try{"script"==n?(1,eval)(b):"xml"==n?b=x.responseXML:"json"==n&&(b=y.test(b)?null:a.parseJSON(b))}catch(d){c=d}c?h(c,"parsererror",x,e,i):g(b,x,e,i)}else h(x.statusText||null,x.status?"error":"abort",x,e,i)}},f(x,e)===!1)return x.abort(),h(null,"abort",x,e,i),x;if(e.xhrFields)for(q in e.xhrFields)x[q]=e.xhrFields[q];var B="async"in e?e.async:!0;x.open(e.type,e.url,B,e.username,e.password);for(q in u)A.apply(x,u[q]);return e.timeout>0&&(r=setTimeout(function(){x.onreadystatechange=j,x.abort(),h(null,"timeout",x,e,i)
},e.timeout)),x.send(e.data?e.data:null),x},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var b=n.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=n.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=n(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(t,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var A=encodeURIComponent;a.param=function(b,c){var d=[];return d.add=function(b,c){a.isFunction(c)&&(c=c()),null==c&&(c=""),this.push(A(b)+"="+A(c))},o(d,b,c),d.join("&").replace(/%20/g,"+")}}(Zepto),function(a){a.fn.serializeArray=function(){var b,c,d=[],e=function(a){return a.forEach?a.forEach(e):void d.push({name:b,value:a})};return this[0]&&a.each(this[0].elements,function(d,f){c=f.type,b=f.name,b&&"fieldset"!=f.nodeName.toLowerCase()&&!f.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&"file"!=c&&("radio"!=c&&"checkbox"!=c||f.checked)&&e(a(f).val())}),d},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(0 in arguments)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(a){"__proto__"in{}||a.extend(a.zepto,{Z:function(b,c){return b=b||[],a.extend(b,a.fn),b.selector=c||"",b.__Z=!0,b},isZ:function(b){return"array"===a.type(b)&&"__Z"in b}});try{getComputedStyle(void 0)}catch(b){var c=getComputedStyle;window.getComputedStyle=function(a){try{return c(a)}catch(b){return null}}}}(Zepto),angular.module("futuresApp").controller("FuturesApplyCloseCtrl",["$scope","$window","$http","$modal","$timeout",function(a,b,c,d,e){function f(b){a.errorMsg=b,a.showError=!0,e(function(){a.showError=!1},2e3)}function g(){var b=d.open({animation:!0,windowClass:"xx-dialog",templateUrl:"views/apply_close_popup.html",controller:"InfoModalCtrl",size:"lg",resolve:{}});b.result.then(function(){j=!1,c.post("/futures/trade_close",{uid:a.user._id,user_status:5,trader_status:1}).success(function(){a.user.wechat.status=5,a.btn_text=i}).error(function(a){f("结算申请提交失败:"+a.error_msg),j=!0})},function(){})}a.user=a.data.currentUser;var h="申请结算",i="结算已受理，请等待短信通知",j=!0;5===a.user.wechat.status?(a.btn_text=i,j=!1):a.btn_text=h,a.closeApply=function(){j&&g()}}]),angular.module("futuresApp").controller("FuturesAppointmentCtrl",["$scope","$modal","$http","$timeout","$location",function(a,b,c,d,e){a.user=a.data.currentUser,a.appoint=function(){}}]),angular.module("futuresApp").controller("FuturesContractCtrl",["$scope","$window","$http","$timeout","$location",function(a,b,c,d,e){a.user=a.data.currentUser,a.verifyUserIdentity=function(){return a.userName&&a.userID?void c.post("/user/set_identity",{userName:a.userName,userID:a.userID,ppj:!0}).success(function(){a.user.identity.name=a.userName,a.user.identity.id=a.userID,e.path("/user")}).error(function(b){a.errorMsg=b.error_msg,a.inputError=!0,d(function(){a.inputError=!1},1500)}):(a.errorMsg="请输入有效的姓名及身份证号",a.inputError=!0,void d(function(){a.inputError=!1},1500))}}]),angular.module("futuresApp").controller("FuturesExchangeCtrl",["$scope","$window","$modal","$location",function(a,b,c,d){a.user=a.data.currentUser,a.profitLevel=[.1,.2,.3,.4],a.pointNeeded=["0-99","100-399","400-999","1000+"],a.profitLevelIndex=3,a.user.score<=99?a.profitLevelIndex=0:a.user.score<=300?a.profitLevelIndex=1:a.user.score<1e3&&(a.profitLevelIndex=2),a.cash=a.user.wechat.profit*a.profitLevel[a.profitLevelIndex]/100,a.scorePercent=a.user.score/1e3,a.percentClass={width:a.scorePercent+"%"};var e=function(a){var b=c.open({animation:!0,backdrop:"static",windowClass:"xx-dialog",templateUrl:"views/score_hint_popup.html",controller:"InfoModalCtrl",size:a,resolve:{}});b.result.then(function(){console.log("Modal dismissed at: "+new Date)},function(){console.log("Modal dismissed at: "+new Date)})};a.showScoreHint=function(){e("lg")},a.changeCash=function(){d.path("/add_wechat")}}]),angular.module("futuresApp").controller("FuturesHomeCtrl",["$scope","$window","$location","$modal","$http","$timeout","$interval","Socket",function(a,b,c,d,e,f,g,h){function i(b){b&&(a.openPrice=b.total_point,a.tradeData.down=a.tradeData.up=a.tradeData.sell=0,b.quantity&&(b.longQuantity>b.shortQuantity?(a.tradeData.up=(b.longQuantity-b.shortQuantity)/o,a.tradeData.down=0,a.tradeData.sell=a.tradeData.up):(a.tradeData.down=(b.shortQuantity-b.longQuantity)/o,a.tradeData.up=0,a.tradeData.sell=a.tradeData.down)))}function j(){e.get("/api/futures/get_positions?type="+(a.data.real?1:0)).success(function(b){var c=b.position;i(c),a.cash=b.user.cash/100}).error(function(a){k(a.error_msg)})}function k(b){a.errorMsg=b,a.showError=!0,f(function(){a.showError=!1},1e3)}function l(){e.get("/api/futures/get_user_profit?product="+a.data.productID+"&type="+(a.data.real?1:0)).success(function(b){null!=b.result&&void 0!=b.result?(a.profit=b.result/100,a.lastProfit=b.lastProfit/100,a.currentPrice=b.lastPrice/100,a.balance=a.data.deposit+a.profit+a.lastProfit,a.data.balance=a.balance,a.yesterdayClose=b.yesterdayClose,a.pointDelta=(a.currentPrice-a.yesterdayClose)/a.yesterdayClose*100,i(b.portfolio)):(a.profit=0,a.lastProfit=0,a.currentPrice=a.data.lastPoint,a.balance=a.data.deposit,a.data.balance=a.balance,a.yesterdayClose=0,a.pointDelta=0)}).error(function(){a.profit=0,a.lastProfit=0,a.currentPrice=a.data.lastPoint,a.balance=0,a.data.balance=a.balance,a.yesterdayClose=0,a.pointDelta=0})}a.user=a.data.currentUser,a.user.real===!0&&(a.data.real=!0),a.data.real&&a.user.wechat.real_trader?(a.data.deposit=a.user.wechat.real_trader.deposit/100,a.data.cash=a.user.wechat.real_trader.cash):(a.data.deposit=3e4,a.data.cash=2e7);var m="现在是非交易时间",n="您的账户不能交易",o=100,p=2e5;a.data.selectedItem=1,a.tradeClose=!1,a.browserHeight=document.documentElement.clientHeight,a.closeText=m;var q=moment(),r=moment();r.hour(9),r.minute(15),r.second(0);var s=moment();s.hour(13),s.minute(0),s.second(0);var t=moment();t.hour(11),t.minute(30),t.second(0);var u=moment();u.hour(15),u.minute(12),u.second(0),q>=r&&t>=q||q>=s&&u>=q?a.data.timeoutSet||(a.data.timeoutSet=!0,t>q&&f(function(){a.tradeClose=!0,a.closeText=m,a.openTimeHintPopup("lg")},t-q),u>q&&f(function(){a.tradeClose=!0,a.closeText=m,a.openTimeHintPopup("lg")},u-q)):a.tradeClose=!0,a.data.real&&4!==a.user.wechat.status&&(a.tradeClose=!0,a.closeText=n),a.data.flags_data=[],e.get("/futures/get_nearest_orders?type="+(a.data.real?1:0)).success(function(b){for(var c=0;c<b.length;++c){var d=b[c];if(!(d.lockedCash<0)){var e=parseInt(d.price/100),f="#FF0000";d.quantity<0&&(f="#00FF00"),a.data.flags_data&&a.data.flags_data.push({x:Date.parse(d.timestamp),y:e,color:"#000000",fillColor:f,text:"",title:" "})}}}).error(function(a){console.log(a.error_msg)}),a.tradeData={up:0,down:0,sell:0};var v=0;j(!0),l(),g(function(){l()},500),a.showShareHint=!1,a.openIntroPopup=function(){return},a.openGainPopup=function(b){var c=d.open({animation:!0,backdrop:"static",windowClass:"xx-dialog",templateUrl:"views/gain_popup.html",controller:"GainModalCtrl",size:b,resolve:{profit:function(){return v},constant:function(){return 1e3},cash:function(){return a.user.score>99?2:a.user.score>399?3:a.user.score>999?4:1}}});c.result.then(function(){a.showShareHint=!0},function(){console.log("Modal dismissed at: "+new Date)})},a.openRiskPopup=function(a){var b=d.open({animation:!0,backdrop:"static",windowClass:"xx-dialog",templateUrl:"views/risk_popup.html",controller:"InfoModalCtrl",size:a,resolve:{}});b.result.then(function(){console.log("Modal dismissed at: "+new Date)},function(){console.log("Modal dismissed at: "+new Date)})},a.openTimeHintPopup=function(a){var b=d.open({animation:!0,backdrop:"static",windowClass:"xx-dialog",templateUrl:"views/time_hint_popup.html",controller:"InfoModalCtrl",size:a,resolve:{}});b.result.then(function(){console.log("Modal dismissed at: "+new Date)},function(){console.log("Modal dismissed at: "+new Date)})};var w=function(){var b=d.open({animation:!0,backdrop:"static",windowClass:"xx-dialog",templateUrl:"views/reset_confirm_popup.html",controller:"InfoModalCtrl",size:"lg",resolve:{}});b.result.then(function(){e.get("/futures/reset_user").success(function(){a.cash=p,k("重置成功")}).error(function(a){k(a.error_msg)})},function(){})};a.showTradeTime=function(){a.openTimeHintPopup("lg")},a.withdraw=function(){c.path("/profit_exchange")},a.setting=function(){c.path("/trade_setting")},a.currentOrder=null,a.placeOrder=function(b){if(!a.tradeClose&&(0==b&&(a.PButtonPressed=!0,f(function(){a.PButtonPressed=!1},500)),1==b&&(a.ZButtonPressed=!0,f(function(){a.ZButtonPressed=!1},500)),-1==b&&(a.DButtonPressed=!0,f(function(){a.DButtonPressed=!1},500)),0!==a.tradeData.sell||0!==b)){var c=100;-1===b&&(c=0-c);var d=!1;0===b&&(d=!0),e.post("/api/futures/create_order",{quantity:c,forceClose:d,product:a.data.productID,type:a.data.real?1:0}).success(function(c){0!=b?(a.currentOrder=c,h.emit("getData",{name:a.data.currentUser._id,room:0})):a.currentOrder=null}).error(function(a){k(a.error_msg),console.log(a.error_msg)})}},a.makeAppointment=function(){c.path("/appointment")},a.resetCapital=function(){w()}}]),angular.module("futuresApp").controller("FuturesIndexCtrl",["$scope","$window","$location","$timeout",function(a,b,c,d){a.data={},a.data.currentUser=b.bootstrappedUserObject,a.data.flags_data=[],a.data.status=0,a.data.productID=0,a.data.selectedItem=1,a.data.selectedProduct=0,a.data.productType="股指",a.items=[{value:0,name:"自选",img:"/futures/images/foot1.png",selectedImg:"/futures/images/foot1-dark.png",page:"/products"},{value:1,name:"交易",img:"/futures/images/foot2.png",selectedImg:"/futures/images/foot2-dark.png",page:"/home"},{value:2,name:"排行榜",img:"/futures/images/foot3.png",selectedImg:"/futures/images/foot3-dark.png",page:"/user_rank"},{value:3,name:"我的账户",img:"/futures/images/foot4.png",selectedImg:"/futures/images/foot4-dark.png",page:"/user"}],a.switchPage=function(a){c.path(a.page)}}]),angular.module("futuresApp").controller("FuturesOrdersCtrl",["$scope","$window","$http","$filter","$location",function(a,b,c){function d(b){g=!0,c.get("/api/futures/get_orders?page="+b+"&type="+(a.data.real?1:0)).success(function(b){++f,g=!1,a.orders=a.orders.concat(b.orders),a.userInfo=b.user,e=b.pageCount}).error(function(){a.orders=[]})}a.user=a.data.currentUser,a.data.selectedItem=3;var e=1,f=1;a.orders=[];var g=!1;a.currentItem=0,a.items=[{name:"股指",value:0},{name:"美元",value:1},{name:"欧元",value:2}],d(f),a.loadMore=function(){g||f>=e||d(f)},a.changeItem=function(a){}}]),angular.module("futuresApp").controller("FuturesProductsCtrl",["$scope","$window","$modal","$location",function(a,b,c,d){a.data.selectedItem=0;var e=moment();e.hour(9),e.minute(15),e.second(0);var f=moment();f.hour(15),f.minute(10),f.second(0);var g=moment(),h=moment();h.hour(11),h.minute(30),h.second(1);var i=moment();i.hour(13),i.minute(0),i.second(0);var j=!0;e>g||g>f?j=!1:g>h&&i>g&&(j=!1),a.products=[{value:1,name:"EURUSD",type:"欧 元",intro:"暂无相关介绍（开发中）",status:0,alias:"欧元",time:"工作日05:15-次日05:00"},{value:2,name:"XAUUSD",type:"黄 金",intro:"暂无相关介绍（开发中）",status:0,alias:"黄金",time:"工作日06:00-次日05:00"},{value:3,name:"BABA",type:"美 股",intro:"中概股，晚上交易，涨跌均可买（开发中）",status:0,alias:"BABA",time:"工作日09:15-11:30  13:00-15:15"}],a.openQrcodePopup=function(a){c.open({animation:!0,backdrop:"static",windowClass:"xx-dialog",templateUrl:"views/qrcode_popup.html",controller:"IntroModalCtrl",size:a,resolve:{}})},a.showQrcode=function(){a.openQrcodePopup("lg")},a.selectProduct=function(b){if(!b){var c=a.data.selectedProduct;a.data.selectedProduct=b,c!=b&&(a.data.productID=b,a.data.productType=a.products[b].alias,a.data.socket&&a.data.socket.emit("join",{name:a.data.currentUser._id,room:b})),d.path("/home")}}}]),angular.module("futuresApp").controller("FuturesTradeSettingCtrl",["$scope","$modal","$http","$timeout","$location",function(a,b,c,d,e){function f(b,c){a.errorMsg=b,a.showError=!0,d(function(){a.showError=!1,c&&e.path("/home")},2e3)}function g(b){var d=0;a.data.real&&(d=1),c.post("/futures/change_trade_setting",{open:b,win:a.winPoint,loss:a.lossPoint,type:d}).success(function(){f("设置成功"),a.open=b,a.data.real?(a.user.wechat.real_trader.winPoint=a.winPoint,a.user.wechat.real_trader.lossPoint=a.lossPoint,a.user.wechat.real_trader.tradeControl=b):(a.user.wechat.trader.winPoint=a.winPoint,a.user.wechat.trader.lossPoint=a.lossPoint,a.user.wechat.trader.tradeControl=b),k=!1,a.toggleSetting()}).error(function(){f("设置失败"),k=!1})}a.user=a.data.currentUser;var h="开启设置",i="关闭设置",j="设置中",k=!1;a.setDefaultPoint=function(){a.data.real?(a.winPoint=a.user.wechat.real_trader.winPoint,a.lossPoint=a.user.wechat.real_trader.lossPoint,a.open=a.user.wechat.real_trader.tradeControl):(a.winPoint=a.user.wechat.trader.winPoint,a.lossPoint=a.user.wechat.trader.lossPoint,a.open=a.user.wechat.trader.tradeControl),0===a.winPoint&&(a.winPoint=null),0===a.lossPoint&&(a.lossPoint=null),(void 0===a.open||null===a.open)&&(a.open=!1),a.toggleSetting()},a.changeSetting=function(){if(!k){k=!0;var c=!a.open;if(c){if(!a.winPoint&&!a.lossPoint)return f("止损金额，止盈金额请至少输入一个。"),void(k=!1);!function(){var d=b.open({animation:!0,windowClass:"xx-dialog",templateUrl:"views/trade_setting_open_popup.html",controller:"InfoModalCtrl",size:"lg",resolve:{}});d.result.then(function(){g(c)},function(){k=!1,a.toggleSetting()})}()}else a.setDefaultPoint(),function(){var d=b.open({animation:!0,windowClass:"xx-dialog",templateUrl:"views/trade_setting_close_popup.html",controller:"InfoModalCtrl",size:"lg",resolve:{}});d.result.then(function(){g(c)},function(){k=!1,a.toggleSetting()})}()}},a.toggleSetting=function(){return k?void(a.titleText=j):void(a.titleText=a.open?i:h)},a.showLossPointHint=function(){a.lossPointHint=!0},a.showWinPointHint=function(){a.winPointHint=!0},a.closeDialogWindow=function(){a.lossPointHint=!1,a.winPointHint=!1}}]),angular.module("futuresApp").controller("FuturesUserCtrl",["$scope","$window","$http","$location","$timeout","$modal",function(a,b,c,d,e,f){function g(){var b=f.open({animation:!0,backdrop:"static",windowClass:"xx-dialog",templateUrl:"views/intro_popup.html",controller:"IntroModalCtrl",size:"lg",resolve:{}});b.result.then(function(){console.log("Modal dismissed at: "+new Date),a.data.status=1},function(){console.log("Modal dismissed at: "+new Date)})}function h(){var b=f.open({animation:!0,windowClass:"xx-dialog",templateUrl:"views/real_trade_popup.html",controller:"InfoModalCtrl",size:"lg",resolve:{}});b.result.then(function(){a.data.real=!0,d.path("/home")},function(){})}a.user=a.data.currentUser,a.data.selectedItem=3;var i=a.data.balance;i||(i=a.data.deposit),0>i&&(i=0),b.njPersonChart(a.data.deposit,i);var j=i-a.data.deposit;a.profit=j>0?j:0,a.loss=0>j?j:0,a.showOrders=function(){d.path("/orders")},a.showUserInfo=function(){d.path("/user_info")},a.showApplyClose=function(){d.path("/apply_close")},a.showContract=function(){d.path("/contract")},a.showHelp=function(){g()},a.gotoReal=function(){a.user.identity.id?h():d.path("/contract")}}]),angular.module("futuresApp").controller("FuturesUserRankCtrl",["$scope","$window","$location","$http","$filter",function(a,b,c,d){a.user=a.data.currentUser,a.data.selectedItem=2,d.get("/api/futures/user_rank").success(function(b){var c=b.users;a.goldUser=c.shift(),a.goldUser||(a.goldUser={}),a.silverUser=c.shift(),a.silverUser||(a.silverUser={}),a.copperUser=c.shift(),a.copperUser||(a.copperUser={}),a.topUsers=c,a.userInRank=b.userInRank}).error(function(){a.goldUser={},a.silverUser={},a.copperUser={},a.topUsers=[]}),a.trade=function(){b.location.assign("/futures")}}]),angular.module("futuresApp").controller("FuturesWechatCtrl",["$scope","$window",function(){}]),function(){var a=[moment("2015-03-14").dayOfYear(),moment("2015-03-15").dayOfYear(),moment("2015-03-21").dayOfYear(),moment("2015-03-22").dayOfYear(),moment("2015-03-28").dayOfYear(),moment("2015-03-29").dayOfYear(),moment("2015-04-04").dayOfYear(),moment("2015-04-05").dayOfYear(),moment("2015-04-06").dayOfYear(),moment("2015-04-11").dayOfYear(),moment("2015-04-12").dayOfYear(),moment("2015-04-18").dayOfYear(),moment("2015-04-19").dayOfYear(),moment("2015-04-25").dayOfYear(),moment("2015-04-26").dayOfYear(),moment("2015-05-01").dayOfYear(),moment("2015-05-02").dayOfYear(),moment("2015-05-03").dayOfYear(),moment("2015-05-09").dayOfYear(),moment("2015-05-10").dayOfYear(),moment("2015-05-16").dayOfYear(),moment("2015-05-17").dayOfYear(),moment("2015-05-23").dayOfYear(),moment("2015-05-24").dayOfYear(),moment("2015-05-30").dayOfYear(),moment("2015-05-31").dayOfYear(),moment("2015-06-06").dayOfYear(),moment("2015-06-07").dayOfYear(),moment("2015-06-13").dayOfYear(),moment("2015-06-14").dayOfYear(),moment("2015-06-20").dayOfYear(),moment("2015-06-21").dayOfYear(),moment("2015-06-22").dayOfYear(),moment("2015-06-27").dayOfYear(),moment("2015-06-28").dayOfYear(),moment("2015-07-04").dayOfYear(),moment("2015-07-05").dayOfYear(),moment("2015-07-11").dayOfYear(),moment("2015-07-12").dayOfYear(),moment("2015-07-18").dayOfYear(),moment("2015-07-19").dayOfYear(),moment("2015-07-25").dayOfYear(),moment("2015-07-26").dayOfYear(),moment("2015-08-01").dayOfYear(),moment("2015-08-02").dayOfYear(),moment("2015-08-08").dayOfYear(),moment("2015-08-09").dayOfYear(),moment("2015-08-15").dayOfYear(),moment("2015-08-16").dayOfYear(),moment("2015-08-22").dayOfYear(),moment("2015-08-23").dayOfYear(),moment("2015-08-29").dayOfYear(),moment("2015-08-30").dayOfYear(),moment("2015-09-05").dayOfYear(),moment("2015-09-06").dayOfYear(),moment("2015-09-12").dayOfYear(),moment("2015-09-13").dayOfYear(),moment("2015-09-19").dayOfYear(),moment("2015-09-20").dayOfYear(),moment("2015-09-26").dayOfYear(),moment("2015-09-27").dayOfYear(),moment("2015-10-01").dayOfYear(),moment("2015-10-02").dayOfYear(),moment("2015-10-03").dayOfYear(),moment("2015-10-04").dayOfYear(),moment("2015-10-05").dayOfYear(),moment("2015-10-06").dayOfYear(),moment("2015-10-07").dayOfYear(),moment("2015-10-10").dayOfYear(),moment("2015-10-11").dayOfYear(),moment("2015-10-17").dayOfYear(),moment("2015-10-18").dayOfYear(),moment("2015-10-24").dayOfYear(),moment("2015-10-25").dayOfYear(),moment("2015-10-31").dayOfYear(),moment("2015-11-01").dayOfYear(),moment("2015-11-07").dayOfYear(),moment("2015-11-08").dayOfYear(),moment("2015-11-14").dayOfYear(),moment("2015-11-15").dayOfYear(),moment("2015-11-21").dayOfYear(),moment("2015-11-22").dayOfYear(),moment("2015-11-28").dayOfYear(),moment("2015-11-29").dayOfYear(),moment("2015-12-05").dayOfYear(),moment("2015-12-06").dayOfYear(),moment("2015-12-12").dayOfYear(),moment("2015-12-13").dayOfYear(),moment("2015-12-19").dayOfYear(),moment("2015-12-20").dayOfYear(),moment("2015-12-26").dayOfYear(),moment("2015-12-27").dayOfYear()],b=function(){var b=moment().startOf("day");for(moment().hour()>=14&&(b=moment().endOf("day").add(1,"ms"));;){var c=b.dayOfYear();if(-1===a.indexOf(c))break;b=b.add(1,"day")}return b},c=function(b,c,d){var e=b.clone();if(d&&2===d){for(e=e.add(c,"months");-1!==a.indexOf(e.dayOfYear());)e=e.add(1,"day");return e}for(--c;c;)e=e.add(1,"day"),-1===a.indexOf(e.dayOfYear())&&--c;return e.hour(14),e.minute(50),e.second(0),e},d=function(b){for(var c=moment(b).dayOfYear(),d=moment().dayOfYear(),e=0;d>=c;)-1===a.indexOf(d)&&++e,--d;return e};angular.module("commonApp",[]),angular.module("commonApp").value("gbToastr",toastr),angular.module("commonApp").factory("gbNotifier",["gbToastr",function(a){return{notify:function(b){a.success(b)},error:function(b){a.error(b)}}}]),angular.module("commonApp").filter("numTrunc",function(){return function(a){if(a){var b=a.toString(),c=b.search("\\.");c>-1&&(b=b.substr(c))}return b}}).filter("integerNum",function(){return function(a){var b=a,c=b.search("\\.");return c>-1&&(b=b.substr(0,c)),b}}).filter("displayManager",function(){return function(a){switch(a){case"13520978346":return"秦亚景";case"13488867185":return"姜涛";case"17709810065":return"刘恩泽";case"18911347741":return"刘瑞";case"18511565878":return"刘亚东";case"15101183931":return"孟雪";case"18931040286":return"魏昊庚";case"15710035052":return"张丽霞";default:return a}}}).filter("displayOrderAmount",function(){return function(a,b){var c="+";return(2===b||9===b||10===b||11===b||17===b||15===b||19===b||7===b)&&(c="-"),c+a}}).filter("displayIncome",["$filter",function(a){return function(b,c){var d=b;return 2==c||9==c||10==c||11===c||17===c||15==c||19==c||7===c?"":a("currency")(d,"",2)}}]).filter("displayOutcome",["$filter",function(a){return function(b,c){var d="";return(2==c||9==c||10==c||11===c||17===c||15==c||19==c||7===c)&&(d=a("currency")(b,"",2)),d}}]).filter("displayMobile",function(){return function(a){return a?(a=a.toString(),a.substr(0,3)+"****"+a.substr(-4)):""}}).filter("displayEmail",function(){return function(a){if(a){var b=a.search("@");return a.substr(0,2)+"***"+a.substr(b)}return""}}).filter("displayIdentityID",function(){return function(a){return a?a.substr(0,4)+"**********"+a.substr(-4):""}}).filter("displayDate",function(){return function(a){return a?moment(a).format("YYYY-MM-DD HH:mm"):"N/A"}}).filter("displayShortDate",function(){return function(a){return moment(a).format("YYYY-MM-DD")}}).filter("displayCard",["BankNameList",function(a){return function(b){if(b&&b.cardID){var c=b.cardID.toString().substr(12);return a[b.bankID].name+" **** **** **** "+c}return""}}]).filter("displayCard3",function(){return function(a){if(a&&a.cardID){var b=a.cardID.toString().substr(-4),c=a.cardID.toString().substr(0,4);return c+" **** **** "+b}return""}}).filter("displayCard2",["BankNameList",function(){return function(a){if(a&&a.cardID){var b=a.cardID.toString().substr(-4);return b}return""}}]).filter("orderStatus",function(){return function(a){switch(a){case 0:return"等待确认";case 1:return"交易成功";case 2:return"未支付";default:return"未支付"}}}).filter("contractStatus",function(){return function(a){switch(a){case 1:return"进行中";case 2:return"已回款";default:return"未知"}}}).filter("displayOrderType",function(){return function(a){switch(a){case 1:return"充值";case 2:return"提现";case 3:return"盈利提取";case 4:return"股票盈利";case 5:return"保证金返还";case 6:return"保证金支出";case 7:return"管理费支出";case 8:return"管理费返还";case 9:return"保证金支出";case 10:return"管理费支出";case 11:return"投资本金支出";case 12:return"利息收入";case 13:return"推广佣金";case 14:return"佣金兑换余额";case 15:return"穿仓扣除";case 16:return"投资本金返还";case 17:return"余额转入投资本金";case 18:return"投资本金转入余额";case 19:return"融资加配";default:return"充值"}}}).filter("applyStatus",function(){return function(a){switch(a){case 1:return"待支付";case 2:return"操盘中";case 3:return"已结算";case 4:return"审核中";case 5:return"结算中";case 9:return"排队中";default:return"待支付"}}}).filter("payType",function(){return function(a){switch(a){case 0:return"爱贝";case 1:return"盛付通";case 2:return"股票融资盈利";case 3:return"支付宝";case 4:return"银行转账";case 5:return"贝付移动";case 6:return"佣金";case 7:return"牛金";case 8:return"穿仓";case 9:return"易宝";default:return"无"}}}).filter("ppjUserType",function(){return function(a){switch(a){case 0:return"模拟";case 1:return"未签署协议";case 2:return"未分配账户";case 3:return"交易未开通";case 4:return"交易中";case 5:return"结算中";case 6:return"账户未入资";default:return"未知"}}}).filter("displayAccountType",function(){return function(a){switch(a){case 2:return"同花顺";case 3:return"牛金操盘";default:return"Homs"}}}).filter("displayFutureQuantity",function(){return function(a){if(angular.isNumber(a)){var b="";return b+=a>0?"涨":"跌",a/=100,a=Math.abs(a),b+=a}return a}}).service("days",function(){this.startTime=b,this.endTime=c,this.tradeDaysTillNow=d}).service("util",["warn_factor","sell_factor",function(b,c){this.serviceCharge=19.9,this.getServiceCharge=function(a){switch(a){case 10:return 19.9;case 9:return 18.9;case 8:return 29.9;case 7:return 28.9;case 6:return 27.9;case 5:return 14.9;case 4:return 13.9;case 3:return 10.9;case 2:return 9.9;default:return 19.9}},this.getServiceFee=function(a,b,c){var d=a.discount?a.discount:1;if((0>=d||d>1)&&(d=1),a.type&&2===a.type)return Number((a.amount*a.interestRate*d).toFixed(2));b||(b=a.period);var e=0;return c||(e=a.freeDays>0?a.freeDays:0,b-=e,0>b&&(b=0)),Number((a.amount/1e4*(a.serviceCharge?a.serviceCharge:this.getServiceCharge(a.lever))*b*d).toFixed(2))},this.getWarnValue=function(a,c){return Number((a-b*c).toFixed(2))},this.getSellValue=function(a,b){return Number((a-c*b).toFixed(2))},this.isHoliday=function(b){return-1!==a.indexOf(b)}}]);var e=[{name:"register_content",value:0,content:"验证码：CODE，用于注册，欢迎来到牛金网，为您提供专业贴心的融资服务。"},{name:"reset_pass_content",value:1,content:"验证码：CODE，用于密码重置，请勿泄露给他人！"},{name:"approve_apply_sms_content",value:2,content:"AMOUNT元资金已到账，股票账号ACCOUNT，登录密码PASSWORD，请不要向任何人泄露！"},{name:"close_apply_sms_content",value:3,content:"账户ACCOUNT结算AMOUNT元（保证金DEPOSIT元，收益PROFIT元）已完成，祝您投资愉快。"},{name:"pay_success_sms_content",value:4,content:"充值AMOUNT元成功，请登录查看详情，祝您投资愉快。"},{name:"warn_sms_content",value:5,content:"您的账户（XXXXXXXX）的操盘业务已经亏损到达警戒线，请尽快追加至少XXXX元保证金以维持仓位。"},{name:"sell_sms_content",value:6,content:"账户12345678已经亏损到达平仓线，系统已将其平仓，如需帮助请致电4006921388。"},{name:"withdraw_content",value:7,content:"提现AMOUNT元已完成，请注意查收，如有疑问请致电4006921388。"}];angular.module("commonApp").constant("withdraw_sms_content","您于TIME在牛金网提现AMOUNT元，提现已完成，请注意查收，").constant("get_profit_sms_content","您的盈利提取申请已经处理，资金已划入您在牛金网的余额").constant("approve_apply_sms_content","您有一笔金额为AMOUNT元融资资金已到账，交易账号ACCOUNT，登录密码PASSWORD，您可以通过手机或电脑进行操盘，可以登录牛金网，在我的账户中查看相应账户信息，操盘账户是您操盘的唯一依据，请不要向任何人泄露！").constant("close_apply_sms_content","您在牛金网有一笔TOTAL_AMOUNT元的融资业务已经结算完毕，根据您的操盘收益，该笔融资实际结算AMOUNT元（保证金DEPOSIT元，收益PROFIT元），祝您投资愉快。").constant("pay_success_sms_content","您于TIME在牛金网充值AMOUNT元，资金已经到账，感谢您对牛金网的支持，祝您投资愉快。").constant("warn_sms_content","您有一笔金额为TOTAL_AMOUNT元的操盘业务已经亏损到达警戒线WARN_AMOUNT元，请尽快追加保证金以维持仓位，您可以登录牛金网进行操作，或者联系QQ客服400 692 1388或电话客服400 692 1388。感谢您对牛金网的支持，祝您投资愉快。").constant("sell_sms_content","您有一笔金额为TOTAL_AMOUNT元的操盘业务已经亏损到达平仓线SELL_AMOUNT元，系统已经将交易账户平仓，请登录牛金网查看相应信息，或者联系QQ客服400 692 1388或电话客服400 692 1388。感谢您对牛金网的支持，祝您投资愉快。").constant("sms_macro",e).constant("service_charge",19.9).constant("warn_factor",.4).constant("sell_factor",.6),angular.module("commonApp").constant("BankNameList",[{name:"工商银行",img:"/images/yh/icbc.jpg",logo:"/mobile/images/yh/icbc_logo.jpg",instCode:"ICBC",credit:!0,value:0},{name:"建设银行",img:"/images/yh/cbc.jpg",logo:"/mobile/images/yh/cbc_logo.jpg",instCode:"CCB",credit:!0,value:1},{name:"农业银行",img:"/images/yh/abc.jpg",logo:"/mobile/images/yh/abc_logo.jpg",instCode:"ABC",credit:!0,value:2},{name:"中国银行",img:"/images/yh/boc.png",logo:"/mobile/images/yh/boc_logo.jpg",instCode:"BOC",credit:!0,value:3},{name:"招商银行",img:"/images/yh/cmb.jpg",logo:"/mobile/images/yh/cmb_logo.jpg",instCode:"CMB",credit:!0,value:4},{name:"交通银行",img:"/images/yh/bcs.png",logo:"/mobile/images/yh/bcs_logo.jpg",instCode:"COMM",credit:!0,value:5},{name:"邮政储蓄银行",img:"/images/yh/psbc.png",logo:"/mobile/images/yh/psbc_logo.jpg",instCode:"PSBC",credit:!1,value:6},{name:"广发银行",img:"/images/yh/cgb.png",logo:"/mobile/images/yh/cgb_logo.jpg",instCode:"GDB",credit:!0,value:7},{name:"光大银行",img:"/images/yh/ceb.png",logo:"/mobile/images/yh/ceb_logo.jpg",instCode:"CEB",credit:!0,value:8},{name:"兴业银行",img:"/images/yh/cib.png",logo:"/mobile/images/yh/cib_logo.jpg",instCode:"CIB",credit:!0,value:9},{name:"北京银行",img:"/images/yh/bob.png",logo:"/mobile/images/yh/bob_logo.jpg",instCode:"BCCB",credit:!1,value:10},{name:"浦发银行",img:"/images/yh/spdb.png",logo:"/mobile/images/yh/spdb_logo.jpg",instCode:"SPDB",credit:!0,value:11},{name:"民生银行",img:"/images/yh/cmbc.png",logo:"/mobile/images/yh/cmbc_logo.jpg",instCode:"CMBC",credit:!0,value:12},{name:"中信银行",img:"/images/yh/ecitic.png",logo:"/mobile/images/yh/ecitic_logo.jpg",instCode:"CITIC",credit:!0,value:13},{name:"华夏银行",img:"/images/yh/hx-2.png",logo:"/mobile/images/yh/hx_logo.jpg",instCode:"HXB",credit:!1,value:14},{name:"平安银行",img:"/images/yh/pa.png",logo:"/mobile/images/yh/pa_logo.jpg",instCode:"SZPAB",credit:!0,value:15},{name:"宁波银行",img:"/images/yh/nbcb.png",logo:"/mobile/images/yh/nbcb_logo.jpg",instCode:"NBCB",credit:!1,value:16},{name:"上海银行",img:"/images/yh/bos.png",logo:"/mobile/images/yh/bos_logo.jpg",instCode:"BOS",credit:!0,value:17}]),angular.module("commonApp").factory("njUser",["$resource",function(a){var b=a("/api/user/:id",{id:"@_id"});return b}]),angular.module("commonApp").factory("njApply",["$resource",function(a){var b=a("/api/user/:uid/applies/:serial_id",{uid:"@userID",serial_id:"@serialID"});return b}]),angular.module("commonApp").factory("njOrder",["$resource",function(a){var b=a("/api/user/:uid/orders/:id",{uid:"@userID",id:"@_id"});return b}]),angular.module("commonApp").factory("njCard",["$resource",function(a){var b=a("/api/cards/:uid",{userID:"@uid"});return b}]),angular.module("commonApp").factory("njCachedCards",["njCard",function(a){var b,c;return{setUID:function(a){c=a},query:function(){return b||(b=a.query({uid:c})),b}}}])}();